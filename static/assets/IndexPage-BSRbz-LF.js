import{c as me,a as f,h as v,b as we,g as de,X as Ut,d as Be,e as Se,Y as Dn,Z as ll,r as R,G as wa,_ as Ye,$ as pa,a0 as Ca,a1 as ka,s as ml,a2 as gl,w as le,a3 as Ot,a4 as On,a5 as _a,a6 as qa,f as al,j as Ct,k as xa,E as Va,p as Fa,a7 as Ba,a8 as zn,i as Pa,o as Ue,a9 as In,aa as Hn,ab as Un,A as Pe,ac as hl,x as He,Q as Te,ad as Ta,ae as jn,y as Ge,D as Aa,I as ut,J as he,K as D,M as B,R as ve,S as re,af as Ql,ag as Kl,ah as kt,H as bl,m as Ma,u as ol,q as El,l as zt,n as Ra,ai as Wl,C as Ea,aj as La,ak as $a,v as Da,al as At,am as Oa,an as za,ao as hn,ap as Ll,aq as bn,ar as Ia,as as Ha,at as Nn,B as Et,O as Ve,N as ze,T as Fe,U as qt,V as Lt,L as Qn,P as $l,au as Ua,av as Kn,aw as Dl,W as ja}from"./index-CukA90nb.js";import{a as je,d as Ne,u as Zl,b as Gl,e as Yl,f as Xl,g as Na,h as Qa,c as Ol,m as Ka,s as Jl,j as en,p as Wa,q as yn,Q as Za,n as Ga,o as Ya}from"./QItem-BdG2BGG8.js";import{api as ot}from"./axios-C9puVZXI.js";const Re=me({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const l=f(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>v(e.tag,{class:l.value},we(t.default))}}),st=me({name:"QCard",props:{...je,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:l}}=de(),n=Ne(e,l),o=f(()=>"q-card"+(n.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>v(e.tag,{class:o.value},we(t.default))}});function tn(){let e;const t=de();function l(){e=void 0}return Ut(l),Be(l),{removeTick:l,registerTick(n){e=n,Se(()=>{e===n&&(Dn(t)===!1&&e(),e=void 0)})}}}const $t={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function ln(e,t=()=>{},l=()=>{}){return{transitionProps:f(()=>{const n=`q-transition--${e.transitionShow||t()}`,o=`q-transition--${e.transitionHide||l()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${o}-leave-from`,leaveActiveClass:`${o}-leave-active`,leaveToClass:`${o}-leave-to`}}),transitionStyle:f(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let rt=[],It=[];function Wn(e){It=It.filter(t=>t!==e)}function Xa(e){Wn(e),It.push(e)}function Sn(e){Wn(e),It.length===0&&rt.length!==0&&(rt[rt.length-1](),rt=[])}function jt(e){It.length===0?e():rt.push(e)}function Ja(e){rt=rt.filter(t=>t!==e)}const xt=[];function eo(e){return xt.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function Zn(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return ll(e)}else if(e.__qPortal===!0){const l=ll(e);return l!==void 0&&l.$options.name==="QPopupProxy"?(e.hide(t),l):e}e=ll(e)}while(e!=null)}function to(e,t,l){for(;l!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(l--,e.$options.name==="QMenu"){e=Zn(e,t);continue}e.hide(t)}e=ll(e)}}const lo=me({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function no(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function nn(e,t,l,n){const o=R(!1),i=R(!1);let a=null;const r={},c=n==="dialog"&&no(e);function g(b){if(b===!0){Sn(r),i.value=!0;return}i.value=!1,o.value===!1&&(c===!1&&a===null&&(a=Ca(!1,n)),o.value=!0,xt.push(e.proxy),Xa(r))}function u(b){if(i.value=!1,b!==!0)return;Sn(r),o.value=!1;const x=xt.indexOf(e.proxy);x!==-1&&xt.splice(x,1),a!==null&&(ka(a),a=null)}return wa(()=>{u(!0)}),e.proxy.__qPortal=!0,Ye(e.proxy,"contentEl",()=>t.value),{showPortal:g,hidePortal:u,portalIsActive:o,portalIsAccessible:i,renderPortal:()=>c===!0?l():o.value===!0?[v(pa,{to:a},v(lo,l))]:void 0}}const ct=[];let Ft;function ao(e){Ft=e.keyCode===27}function oo(){Ft===!0&&(Ft=!1)}function io(e){Ft===!0&&(Ft=!1,gl(e,27)===!0&&ct[ct.length-1](e))}function Gn(e){window[e]("keydown",ao),window[e]("blur",oo),window[e]("keyup",io),Ft=!1}function Yn(e){ml.is.desktop===!0&&(ct.push(e),ct.length===1&&Gn("addEventListener"))}function il(e){const t=ct.indexOf(e);t!==-1&&(ct.splice(t,1),ct.length===0&&Gn("removeEventListener"))}const dt=[];function Xn(e){dt[dt.length-1](e)}function Jn(e){ml.is.desktop===!0&&(dt.push(e),dt.length===1&&document.body.addEventListener("focusin",Xn))}function zl(e){const t=dt.indexOf(e);t!==-1&&(dt.splice(t,1),dt.length===0&&document.body.removeEventListener("focusin",Xn))}let Yt=0;const ro={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},wn={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},Je=me({name:"QDialog",inheritAttrs:!1,props:{...Gl,...$t,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...Zl,"shake","click","escapeKey"],setup(e,{slots:t,emit:l,attrs:n}){const o=de(),i=R(null),a=R(!1),r=R(!1);let c=null,g=null,u,b;const x=f(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:d}=Qa(),{registerTimeout:y}=Yl(),{registerTick:F,removeTick:C}=tn(),{transitionProps:U,transitionStyle:j}=ln(e,()=>wn[e.position][0],()=>wn[e.position][1]),V=f(()=>j.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:S,hidePortal:_,portalIsAccessible:P,renderPortal:A}=nn(o,i,ee,"dialog"),{hide:Q}=Xl({showing:a,hideOnRouteChange:x,handleShow:ne,handleHide:N,processOnMount:!0}),{addToHistory:q,removeFromHistory:k}=Na(a,Q,x),$=f(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${ro[e.position]}`+(r.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),w=f(()=>a.value===!0&&e.seamless!==!0),K=f(()=>e.autoClose===!0?{onClick:m}:{}),Z=f(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${w.value===!0?"modal":"seamless"}`,n.class]);le(()=>e.maximized,T=>{a.value===!0&&h(T)}),le(w,T=>{d(T),T===!0?(Jn(J),Yn(W)):(zl(J),il(W))});function ne(T){q(),g=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,h(e.maximized),S(),r.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),F(Y)):C(),y(()=>{if(o.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:O,bottom:ie}=document.activeElement.getBoundingClientRect(),{innerHeight:E}=window,ce=window.visualViewport!==void 0?window.visualViewport.height:E;O>0&&ie>ce/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-ce,ie>=E?1/0:Math.ceil(document.scrollingElement.scrollTop+ie-ce/2))),document.activeElement.scrollIntoView()}b=!0,i.value.click(),b=!1}S(!0),r.value=!1,l("show",T)},e.transitionDuration)}function N(T){C(),k(),te(!0),r.value=!0,_(),g!==null&&(((T&&T.type.indexOf("key")===0?g.closest('[tabindex]:not([tabindex^="-"])'):void 0)||g).focus(),g=null),y(()=>{_(!0),r.value=!1,l("hide",T)},e.transitionDuration)}function Y(T){jt(()=>{let O=i.value;if(O!==null){if(T!==void 0){const ie=O.querySelector(T);if(ie!==null){ie.focus({preventScroll:!0});return}}O.contains(document.activeElement)!==!0&&(O=O.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||O.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||O.querySelector("[autofocus], [data-autofocus]")||O,O.focus({preventScroll:!0}))}})}function L(T){T&&typeof T.focus=="function"?T.focus({preventScroll:!0}):Y(),l("shake");const O=i.value;O!==null&&(O.classList.remove("q-animate--scale"),O.classList.add("q-animate--scale"),c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,i.value!==null&&(O.classList.remove("q-animate--scale"),Y())},170))}function W(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&L():(l("escapeKey"),Q()))}function te(T){c!==null&&(clearTimeout(c),c=null),(T===!0||a.value===!0)&&(h(!1),e.seamless!==!0&&(d(!1),zl(J),il(W))),T!==!0&&(g=null)}function h(T){T===!0?u!==!0&&(Yt<1&&document.body.classList.add("q-body--dialog"),Yt++,u=!0):u===!0&&(Yt<2&&document.body.classList.remove("q-body--dialog"),Yt--,u=!1)}function m(T){b!==!0&&(Q(T),l("click",T))}function M(T){e.persistent!==!0&&e.noBackdropDismiss!==!0?Q(T):e.noShake!==!0&&L()}function J(T){e.allowFocusOutside!==!0&&P.value===!0&&On(i.value,T.target)!==!0&&Y('[tabindex]:not([tabindex="-1"])')}Object.assign(o.proxy,{focus:Y,shake:L,__updateRefocusTarget(T){g=T||null}}),Be(te);function ee(){return v("div",{role:"dialog","aria-modal":w.value===!0?"true":"false",...n,class:Z.value},[v(Ot,{name:"q-transition--fade",appear:!0},()=>w.value===!0?v("div",{class:"q-dialog__backdrop fixed-full",style:V.value,"aria-hidden":"true",tabindex:-1,onClick:M}):null),v(Ot,U.value,()=>a.value===!0?v("div",{ref:i,class:$.value,style:j.value,tabindex:-1,...K.value},we(t.default)):null)])}return A}}),Il=me({name:"QCardActions",props:{..._a,vertical:Boolean},setup(e,{slots:t}){const l=qa(e),n=f(()=>`q-card__actions ${l.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>v("div",{class:n.value},we(t.default))}}),uo=me({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:l}}=de(),n=al(xa,Ct);if(n===Ct)return console.error("QPage needs to be a deep child of QLayout"),Ct;if(al(Va,Ct)===Ct)return console.error("QPage needs to be child of QPageContainer"),Ct;const i=f(()=>{const r=(n.header.space===!0?n.header.size:0)+(n.footer.space===!0?n.footer.size:0);if(typeof e.styleFn=="function"){const c=n.isContainer.value===!0?n.containerHeight.value:l.screen.height;return e.styleFn(r,c)}return{minHeight:n.isContainer.value===!0?n.containerHeight.value-r+"px":l.screen.height===0?r!==0?`calc(100vh - ${r}px)`:"100vh":l.screen.height-r+"px"}}),a=f(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>v("main",{class:a.value,style:i.value},we(t.default))}});function pn(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const Dt=Fa({name:"close-popup",beforeMount(e,{value:t}){const l={depth:pn(t),handler(n){l.depth!==0&&setTimeout(()=>{const o=eo(e);o!==void 0&&to(o,n,l.depth)})},handlerKey(n){gl(n,13)===!0&&l.handler(n)}};e.__qclosepopup=l,e.addEventListener("click",l.handler),e.addEventListener("keyup",l.handlerKey)},updated(e,{value:t,oldValue:l}){t!==l&&(e.__qclosepopup.depth=pn(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function ea(){return al(Ba)}const an=zn("users",{state:()=>({users:[],loading:!1}),actions:{async fetchUsers(){this.loading=!0;try{const e=await ot.get("/api/users");this.users=e.data.map(t=>({...t,last_called_at:t.last_called_at?new Date(t.last_called_at):null,call_history:t.call_history||[]}))}catch(e){console.error("Failed to fetch users:",e),this.users=[]}finally{this.loading=!1}},async createUser(e){try{const t=await ot.post("/api/users",e);return this.users.push({...t.data,last_called_at:null,call_history:[]}),t.data}catch(t){throw console.error("Failed to create user:",t),t}},async updateUser(e,t){try{const l=await ot.put(`/api/users/${e}`,t),n=this.users.findIndex(o=>o.phone_number===e);return n!==-1&&(this.users[n]={...l.data,last_called_at:this.users[n].last_called_at,call_history:this.users[n].call_history}),l.data}catch(l){throw console.error("Failed to update user:",l),l}},async deleteUser(e){try{await ot.delete(`/api/users/${e}`),this.users=this.users.filter(t=>t.phone_number!==e)}catch(t){throw console.error("Failed to delete user:",t),t}},async recordCall(e,t){try{const l=await ot.post(`/api/users/${e}/calls`,t),n=this.users.findIndex(o=>o.phone_number===e);return n!==-1&&(this.users[n].last_called_at=new Date,this.users[n].call_history=[...this.users[n].call_history||[],{timestamp:new Date,...t}]),l.data}catch(l){throw console.error("Failed to record call:",l),l}}}});let Fl,Xt=0;const Ce=new Array(256);for(let e=0;e<256;e++)Ce[e]=(e+256).toString(16).substring(1);const so=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const l=new Uint8Array(t);return e.getRandomValues(l),l}}return t=>{const l=[];for(let n=t;n>0;n--)l.push(Math.floor(Math.random()*256));return l}})(),Cn=4096;function Hl(){(Fl===void 0||Xt+16>Cn)&&(Xt=0,Fl=so(Cn));const e=Array.prototype.slice.call(Fl,Xt,Xt+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Ce[e[0]]+Ce[e[1]]+Ce[e[2]]+Ce[e[3]]+"-"+Ce[e[4]]+Ce[e[5]]+"-"+Ce[e[6]]+Ce[e[7]]+"-"+Ce[e[8]]+Ce[e[9]]+"-"+Ce[e[10]]+Ce[e[11]]+Ce[e[12]]+Ce[e[13]]+Ce[e[14]]+Ce[e[15]]}function co(e){return e??null}function kn(e,t){return e??(t===!0?`f_${Hl()}`:null)}function fo({getValue:e,required:t=!0}={}){if(Pa.value===!0){const l=e!==void 0?R(co(e())):R(null);return t===!0&&l.value===null&&Ue(()=>{l.value=`f_${Hl()}`}),e!==void 0&&le(e,n=>{l.value=kn(n,t)}),l}return e!==void 0?f(()=>kn(e(),t)):R(`f_${Hl()}`)}const _n=/^on[A-Z]/;function vo(){const{attrs:e,vnode:t}=de(),l={listeners:R({}),attributes:R({})};function n(){const o={},i={};for(const a in e)a!=="class"&&a!=="style"&&_n.test(a)===!1&&(o[a]=e[a]);for(const a in t.props)_n.test(a)===!0&&(i[a]=t.props[a]);l.attributes.value=o,l.listeners.value=i}return In(n),n(),l}function mo({validate:e,resetValidation:t,requiresQForm:l}){const n=al(Hn,!1);if(n!==!1){const{props:o,proxy:i}=de();Object.assign(i,{validate:e,resetValidation:t}),le(()=>o.disable,a=>{a===!0?(typeof t=="function"&&t(),n.unbindComponent(i)):n.bindComponent(i)}),Ue(()=>{o.disable!==!0&&n.bindComponent(i)}),Be(()=>{o.disable!==!0&&n.unbindComponent(i)})}else l===!0&&console.error("Parent QForm not found on useFormChild()!")}const qn=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,xn=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Vn=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Jt=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,el=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Bl={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>qn.test(e),hexaColor:e=>xn.test(e),hexOrHexaColor:e=>Vn.test(e),rgbColor:e=>Jt.test(e),rgbaColor:e=>el.test(e),rgbOrRgbaColor:e=>Jt.test(e)||el.test(e),hexOrRgbColor:e=>qn.test(e)||Jt.test(e),hexaOrRgbaColor:e=>xn.test(e)||el.test(e),anyColor:e=>Vn.test(e)||Jt.test(e)||el.test(e)},go=[!0,!1,"ondemand"],ho={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>go.includes(e)}};function bo(e,t){const{props:l,proxy:n}=de(),o=R(!1),i=R(null),a=R(!1);mo({validate:F,resetValidation:y});let r=0,c;const g=f(()=>l.rules!==void 0&&l.rules!==null&&l.rules.length!==0),u=f(()=>l.disable!==!0&&g.value===!0&&t.value===!1),b=f(()=>l.error===!0||o.value===!0),x=f(()=>typeof l.errorMessage=="string"&&l.errorMessage.length!==0?l.errorMessage:i.value);le(()=>l.modelValue,()=>{a.value=!0,u.value===!0&&l.lazyRules===!1&&C()});function d(){l.lazyRules!=="ondemand"&&u.value===!0&&a.value===!0&&C()}le(()=>l.reactiveRules,U=>{U===!0?c===void 0&&(c=le(()=>l.rules,d,{immediate:!0,deep:!0})):c!==void 0&&(c(),c=void 0)},{immediate:!0}),le(()=>l.lazyRules,d),le(e,U=>{U===!0?a.value=!0:u.value===!0&&l.lazyRules!=="ondemand"&&C()});function y(){r++,t.value=!1,a.value=!1,o.value=!1,i.value=null,C.cancel()}function F(U=l.modelValue){if(l.disable===!0||g.value===!1)return!0;const j=++r,V=t.value!==!0?()=>{a.value=!0}:()=>{},S=(P,A)=>{P===!0&&V(),o.value=P,i.value=A||null,t.value=!1},_=[];for(let P=0;P<l.rules.length;P++){const A=l.rules[P];let Q;if(typeof A=="function"?Q=A(U,Bl):typeof A=="string"&&Bl[A]!==void 0&&(Q=Bl[A](U)),Q===!1||typeof Q=="string")return S(!0,Q),!1;Q!==!0&&Q!==void 0&&_.push(Q)}return _.length===0?(S(!1),!0):(t.value=!0,Promise.all(_).then(P=>{if(P===void 0||Array.isArray(P)===!1||P.length===0)return j===r&&S(!1),!0;const A=P.find(Q=>Q===!1||typeof Q=="string");return j===r&&S(A!==void 0,A),A===void 0},P=>(j===r&&(console.error(P),S(!0)),!1)))}const C=Un(F,0);return Be(()=>{c!==void 0&&c(),C.cancel()}),Object.assign(n,{resetValidation:y,validate:F}),Ye(n,"hasError",()=>b.value),{isDirtyModel:a,hasRules:g,hasError:b,errorMessage:x,validate:F,resetValidation:y}}function Ht(e){return e!=null&&(""+e).length!==0}const yo={...je,...ho,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},yl={...yo,maxlength:[Number,String]},on=["update:modelValue","clear","focus","blur"];function rn({requiredForAttr:e=!0,tagProp:t,changeEvent:l=!1}={}){const{props:n,proxy:o}=de(),i=Ne(n,o.$q),a=fo({required:e,getValue:()=>n.for});return{requiredForAttr:e,changeEvent:l,tag:t===!0?f(()=>n.tag):{value:"label"},isDark:i,editable:f(()=>n.disable!==!0&&n.readonly!==!0),innerLoading:R(!1),focused:R(!1),hasPopupOpen:!1,splitAttrs:vo(),targetUid:a,rootRef:R(null),targetRef:R(null),controlRef:R(null)}}function un(e){const{props:t,emit:l,slots:n,attrs:o,proxy:i}=de(),{$q:a}=i;let r=null;e.hasValue===void 0&&(e.hasValue=f(()=>Ht(t.modelValue))),e.emitValue===void 0&&(e.emitValue=L=>{l("update:modelValue",L)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:q,onFocusout:k}),Object.assign(e,{clearValue:$,onControlFocusin:q,onControlFocusout:k,focus:A}),e.computedCounter===void 0&&(e.computedCounter=f(()=>{if(t.counter!==!1){const L=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,W=t.maxlength!==void 0?t.maxlength:t.maxValues;return L+(W!==void 0?" / "+W:"")}}));const{isDirtyModel:c,hasRules:g,hasError:u,errorMessage:b,resetValidation:x}=bo(e.focused,e.innerLoading),d=e.floatingLabel!==void 0?f(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):f(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),y=f(()=>t.bottomSlots===!0||t.hint!==void 0||g.value===!0||t.counter===!0||t.error!==null),F=f(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),C=f(()=>`q-field row no-wrap items-start q-field--${F.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(d.value===!0?" q-field--float":"")+(j.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(u.value===!0?" q-field--error":"")+(u.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&y.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),U=f(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(u.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),j=f(()=>t.labelSlot===!0||t.label!==void 0),V=f(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&u.value!==!0?` text-${t.labelColor}`:"")),S=f(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:d.value,modelValue:t.modelValue,emitValue:e.emitValue})),_=f(()=>{const L={};return e.targetUid.value&&(L.for=e.targetUid.value),t.disable===!0&&(L["aria-disabled"]="true"),L});function P(){const L=document.activeElement;let W=e.targetRef!==void 0&&e.targetRef.value;W&&(L===null||L.id!==e.targetUid.value)&&(W.hasAttribute("tabindex")===!0||(W=W.querySelector("[tabindex]")),W&&W!==L&&W.focus({preventScroll:!0}))}function A(){jt(P)}function Q(){Ja(P);const L=document.activeElement;L!==null&&e.rootRef.value.contains(L)&&L.blur()}function q(L){r!==null&&(clearTimeout(r),r=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,l("focus",L))}function k(L,W){r!==null&&clearTimeout(r),r=setTimeout(()=>{r=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,l("blur",L)),W!==void 0&&W())})}function $(L){Pe(L),a.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),l("update:modelValue",null),e.changeEvent===!0&&l("change",null),l("clear",t.modelValue),Se(()=>{const W=c.value;x(),c.value=W})}function w(L){[13,32].includes(L.keyCode)&&$(L)}function K(){const L=[];return n.prepend!==void 0&&L.push(v("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:He},n.prepend())),L.push(v("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},Z())),u.value===!0&&t.noErrorIcon===!1&&L.push(N("error",[v(Te,{name:a.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?L.push(N("inner-loading-append",n.loading!==void 0?n.loading():[v(Ta,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&L.push(N("inner-clearable-append",[v(Te,{class:"q-field__focusable-action",name:t.clearIcon||a.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":a.lang.label.clear,onKeyup:w,onClick:$})])),n.append!==void 0&&L.push(v("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:He},n.append())),e.getInnerAppend!==void 0&&L.push(N("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&L.push(e.getControlChild()),L}function Z(){const L=[];return t.prefix!==void 0&&t.prefix!==null&&L.push(v("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&L.push(e.getShadowControl()),e.getControl!==void 0?L.push(e.getControl()):n.rawControl!==void 0?L.push(n.rawControl()):n.control!==void 0&&L.push(v("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},n.control(S.value))),j.value===!0&&L.push(v("div",{class:V.value},we(n.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&L.push(v("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),L.concat(we(n.default))}function ne(){let L,W;u.value===!0?b.value!==null?(L=[v("div",{role:"alert"},b.value)],W=`q--slot-error-${b.value}`):(L=we(n.error),W="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(L=[v("div",t.hint)],W=`q--slot-hint-${t.hint}`):(L=we(n.hint),W="q--slot-hint"));const te=t.counter===!0||n.counter!==void 0;if(t.hideBottomSpace===!0&&te===!1&&L===void 0)return;const h=v("div",{key:W,class:"q-field__messages col"},L);return v("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:He},[t.hideBottomSpace===!0?h:v(Ot,{name:"q-transition--field-message"},()=>h),te===!0?v("div",{class:"q-field__counter"},n.counter!==void 0?n.counter():e.computedCounter.value):null])}function N(L,W){return W===null?null:v("div",{key:L,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},W)}let Y=!1;return Ut(()=>{Y=!0}),hl(()=>{Y===!0&&t.autofocus===!0&&i.focus()}),t.autofocus===!0&&Ue(()=>{i.focus()}),Be(()=>{r!==null&&clearTimeout(r)}),Object.assign(i,{focus:A,blur:Q}),function(){const W=e.getControl===void 0&&n.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,..._.value}:_.value;return v(e.tag.value,{ref:e.rootRef,class:[C.value,o.class],style:o.style,...W},[n.before!==void 0?v("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:He},n.before()):null,v("div",{class:"q-field__inner relative-position col self-stretch"},[v("div",{ref:e.controlRef,class:U.value,tabindex:-1,...e.controlEvents},K()),y.value===!0?ne():null]),n.after!==void 0?v("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:He},n.after()):null])}}const Fn={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},rl={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},ta=Object.keys(rl);ta.forEach(e=>{rl[e].regex=new RegExp(rl[e].pattern)});const So=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+ta.join("")+"])|(.)","g"),Bn=/[.*+?^${}()|[\]\\]/g,ye="",wo={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function po(e,t,l,n){let o,i,a,r,c,g;const u=R(null),b=R(d());function x(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}le(()=>e.type+e.autogrow,F),le(()=>e.mask,q=>{if(q!==void 0)C(b.value,!0);else{const k=A(b.value);F(),e.modelValue!==k&&t("update:modelValue",k)}}),le(()=>e.fillMask+e.reverseFillMask,()=>{u.value===!0&&C(b.value,!0)}),le(()=>e.unmaskedValue,()=>{u.value===!0&&C(b.value)});function d(){if(F(),u.value===!0){const q=_(A(e.modelValue));return e.fillMask!==!1?Q(q):q}return e.modelValue}function y(q){if(q<o.length)return o.slice(-q);let k="",$=o;const w=$.indexOf(ye);if(w!==-1){for(let K=q-$.length;K>0;K--)k+=ye;$=$.slice(0,w)+k+$.slice(w)}return $}function F(){if(u.value=e.mask!==void 0&&e.mask.length!==0&&x(),u.value===!1){r=void 0,o="",i="";return}const q=Fn[e.mask]===void 0?e.mask:Fn[e.mask],k=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",$=k.replace(Bn,"\\$&"),w=[],K=[],Z=[];let ne=e.reverseFillMask===!0,N="",Y="";q.replace(So,(h,m,M,J,ee)=>{if(J!==void 0){const T=rl[J];Z.push(T),Y=T.negate,ne===!0&&(K.push("(?:"+Y+"+)?("+T.pattern+"+)?(?:"+Y+"+)?("+T.pattern+"+)?"),ne=!1),K.push("(?:"+Y+"+)?("+T.pattern+")?")}else if(M!==void 0)N="\\"+(M==="\\"?"":M),Z.push(M),w.push("([^"+N+"]+)?"+N+"?");else{const T=m!==void 0?m:ee;N=T==="\\"?"\\\\\\\\":T.replace(Bn,"\\\\$&"),Z.push(T),w.push("([^"+N+"]+)?"+N+"?")}});const L=new RegExp("^"+w.join("")+"("+(N===""?".":"[^"+N+"]")+"+)?"+(N===""?"":"["+N+"]*")+"$"),W=K.length-1,te=K.map((h,m)=>m===0&&e.reverseFillMask===!0?new RegExp("^"+$+"*"+h):m===W?new RegExp("^"+h+"("+(Y===""?".":Y)+"+)?"+(e.reverseFillMask===!0?"$":$+"*")):new RegExp("^"+h));a=Z,r=h=>{const m=L.exec(e.reverseFillMask===!0?h:h.slice(0,Z.length+1));m!==null&&(h=m.slice(1).join(""));const M=[],J=te.length;for(let ee=0,T=h;ee<J;ee++){const O=te[ee].exec(T);if(O===null)break;T=T.slice(O.shift().length),M.push(...O)}return M.length!==0?M.join(""):h},o=Z.map(h=>typeof h=="string"?h:ye).join(""),i=o.split(ye).join(k)}function C(q,k,$){const w=n.value,K=w.selectionEnd,Z=w.value.length-K,ne=A(q);k===!0&&F();const N=_(ne),Y=e.fillMask!==!1?Q(N):N,L=b.value!==Y;w.value!==Y&&(w.value=Y),L===!0&&(b.value=Y),document.activeElement===w&&Se(()=>{if(Y===i){const te=e.reverseFillMask===!0?i.length:0;w.setSelectionRange(te,te,"forward");return}if($==="insertFromPaste"&&e.reverseFillMask!==!0){const te=w.selectionEnd;let h=K-1;for(let m=c;m<=h&&m<te;m++)o[m]!==ye&&h++;j.right(w,h);return}if(["deleteContentBackward","deleteContentForward"].indexOf($)!==-1){const te=e.reverseFillMask===!0?K===0?Y.length>N.length?1:0:Math.max(0,Y.length-(Y===i?0:Math.min(N.length,Z)+1))+1:K;w.setSelectionRange(te,te,"forward");return}if(e.reverseFillMask===!0)if(L===!0){const te=Math.max(0,Y.length-(Y===i?0:Math.min(N.length,Z+1)));te===1&&K===1?w.setSelectionRange(te,te,"forward"):j.rightReverse(w,te)}else{const te=Y.length-Z;w.setSelectionRange(te,te,"backward")}else if(L===!0){const te=Math.max(0,o.indexOf(ye),Math.min(N.length,K)-1);j.right(w,te)}else{const te=K-1;j.right(w,te)}});const W=e.unmaskedValue===!0?A(Y):Y;String(e.modelValue)!==W&&(e.modelValue!==null||W!=="")&&l(W,!0)}function U(q,k,$){const w=_(A(q.value));k=Math.max(0,o.indexOf(ye),Math.min(w.length,k)),c=k,q.setSelectionRange(k,$,"forward")}const j={left(q,k){const $=o.slice(k-1).indexOf(ye)===-1;let w=Math.max(0,k-1);for(;w>=0;w--)if(o[w]===ye){k=w,$===!0&&k++;break}if(w<0&&o[k]!==void 0&&o[k]!==ye)return j.right(q,0);k>=0&&q.setSelectionRange(k,k,"backward")},right(q,k){const $=q.value.length;let w=Math.min($,k+1);for(;w<=$;w++)if(o[w]===ye){k=w;break}else o[w-1]===ye&&(k=w);if(w>$&&o[k-1]!==void 0&&o[k-1]!==ye)return j.left(q,$);q.setSelectionRange(k,k,"forward")},leftReverse(q,k){const $=y(q.value.length);let w=Math.max(0,k-1);for(;w>=0;w--)if($[w-1]===ye){k=w;break}else if($[w]===ye&&(k=w,w===0))break;if(w<0&&$[k]!==void 0&&$[k]!==ye)return j.rightReverse(q,0);k>=0&&q.setSelectionRange(k,k,"backward")},rightReverse(q,k){const $=q.value.length,w=y($),K=w.slice(0,k+1).indexOf(ye)===-1;let Z=Math.min($,k+1);for(;Z<=$;Z++)if(w[Z-1]===ye){k=Z,k>0&&K===!0&&k--;break}if(Z>$&&w[k-1]!==void 0&&w[k-1]!==ye)return j.leftReverse(q,$);q.setSelectionRange(k,k,"forward")}};function V(q){t("click",q),g=void 0}function S(q){if(t("keydown",q),jn(q)===!0||q.altKey===!0)return;const k=n.value,$=k.selectionStart,w=k.selectionEnd;if(q.shiftKey||(g=void 0),q.keyCode===37||q.keyCode===39){q.shiftKey&&g===void 0&&(g=k.selectionDirection==="forward"?$:w);const K=j[(q.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(q.preventDefault(),K(k,g===$?w:$),q.shiftKey){const Z=k.selectionStart;k.setSelectionRange(Math.min(g,Z),Math.max(g,Z),"forward")}}else q.keyCode===8&&e.reverseFillMask!==!0&&$===w?(j.left(k,$),k.setSelectionRange(k.selectionStart,w,"backward")):q.keyCode===46&&e.reverseFillMask===!0&&$===w&&(j.rightReverse(k,w),k.setSelectionRange($,k.selectionEnd,"forward"))}function _(q){if(q==null||q==="")return"";if(e.reverseFillMask===!0)return P(q);const k=a;let $=0,w="";for(let K=0;K<k.length;K++){const Z=q[$],ne=k[K];if(typeof ne=="string")w+=ne,Z===ne&&$++;else if(Z!==void 0&&ne.regex.test(Z))w+=ne.transform!==void 0?ne.transform(Z):Z,$++;else return w}return w}function P(q){const k=a,$=o.indexOf(ye);let w=q.length-1,K="";for(let Z=k.length-1;Z>=0&&w!==-1;Z--){const ne=k[Z];let N=q[w];if(typeof ne=="string")K=ne+K,N===ne&&w--;else if(N!==void 0&&ne.regex.test(N))do K=(ne.transform!==void 0?ne.transform(N):N)+K,w--,N=q[w];while($===Z&&N!==void 0&&ne.regex.test(N));else return K}return K}function A(q){return typeof q!="string"||r===void 0?typeof q=="number"?r(""+q):q:r(q)}function Q(q){return i.length-q.length<=0?q:e.reverseFillMask===!0&&q.length!==0?i.slice(0,-q.length)+q:q+i.slice(q.length)}return{innerValue:b,hasMask:u,moveCursorForPaste:U,updateMaskValue:C,onMaskedKeydown:S,onMaskedClick:V}}const sn={name:String};function Co(e={}){return(t,l,n)=>{t[l](v("input",{class:"hidden"+(n||""),...e.value}))}}function la(e){return f(()=>e.name||e.for)}function ko(e,t){function l(){const n=e.modelValue;try{const o="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(n)===n&&("length"in n?Array.from(n):[n]).forEach(i=>{o.items.add(i)}),{files:o.files}}catch{return{files:void 0}}}return f(()=>{if(e.type==="file")return l()})}const _o=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,qo=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,xo=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Vo=/[a-z0-9_ -]$/i;function na(e){return function(l){if(l.type==="compositionend"||l.type==="change"){if(l.target.qComposing!==!0)return;l.target.qComposing=!1,e(l)}else l.type==="compositionupdate"&&l.target.qComposing!==!0&&typeof l.data=="string"&&(ml.is.firefox===!0?Vo.test(l.data)===!1:_o.test(l.data)===!0||qo.test(l.data)===!0||xo.test(l.data)===!0)===!0&&(l.target.qComposing=!0)}}const ft=me({name:"QInput",inheritAttrs:!1,props:{...yl,...wo,...sn,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...on,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:l}){const{proxy:n}=de(),{$q:o}=n,i={};let a=NaN,r,c,g=null,u;const b=R(null),x=la(e),{innerValue:d,hasMask:y,moveCursorForPaste:F,updateMaskValue:C,onMaskedKeydown:U,onMaskedClick:j}=po(e,t,N,b),V=ko(e),S=f(()=>Ht(d.value)),_=na(Z),P=rn({changeEvent:!0}),A=f(()=>e.type==="textarea"||e.autogrow===!0),Q=f(()=>A.value===!0||["text","search","url","tel","password"].includes(e.type)),q=f(()=>{const m={...P.splitAttrs.listeners.value,onInput:Z,onPaste:K,onChange:L,onBlur:W,onFocus:Ge};return m.onCompositionstart=m.onCompositionupdate=m.onCompositionend=_,y.value===!0&&(m.onKeydown=U,m.onClick=j),e.autogrow===!0&&(m.onAnimationend=ne),m}),k=f(()=>{const m={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:x.value,...P.splitAttrs.attributes.value,id:P.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return A.value===!1&&(m.type=e.type),e.autogrow===!0&&(m.rows=1),m});le(()=>e.type,()=>{b.value&&(b.value.value=e.modelValue)}),le(()=>e.modelValue,m=>{if(y.value===!0){if(c===!0&&(c=!1,String(m)===a))return;C(m)}else d.value!==m&&(d.value=m,e.type==="number"&&i.hasOwnProperty("value")===!0&&(r===!0?r=!1:delete i.value));e.autogrow===!0&&Se(Y)}),le(()=>e.autogrow,m=>{m===!0?Se(Y):b.value!==null&&l.rows>0&&(b.value.style.height="auto")}),le(()=>e.dense,()=>{e.autogrow===!0&&Se(Y)});function $(){jt(()=>{const m=document.activeElement;b.value!==null&&b.value!==m&&(m===null||m.id!==P.targetUid.value)&&b.value.focus({preventScroll:!0})})}function w(){b.value!==null&&b.value.select()}function K(m){if(y.value===!0&&e.reverseFillMask!==!0){const M=m.target;F(M,M.selectionStart,M.selectionEnd)}t("paste",m)}function Z(m){if(!m||!m.target)return;if(e.type==="file"){t("update:modelValue",m.target.files);return}const M=m.target.value;if(m.target.qComposing===!0){i.value=M;return}if(y.value===!0)C(M,!1,m.inputType);else if(N(M),Q.value===!0&&m.target===document.activeElement){const{selectionStart:J,selectionEnd:ee}=m.target;J!==void 0&&ee!==void 0&&Se(()=>{m.target===document.activeElement&&M.indexOf(m.target.value)===0&&m.target.setSelectionRange(J,ee)})}e.autogrow===!0&&Y()}function ne(m){t("animationend",m),Y()}function N(m,M){u=()=>{g=null,e.type!=="number"&&i.hasOwnProperty("value")===!0&&delete i.value,e.modelValue!==m&&a!==m&&(a=m,M===!0&&(c=!0),t("update:modelValue",m),Se(()=>{a===m&&(a=NaN)})),u=void 0},e.type==="number"&&(r=!0,i.value=m),e.debounce!==void 0?(g!==null&&clearTimeout(g),i.value=m,g=setTimeout(u,e.debounce)):u()}function Y(){requestAnimationFrame(()=>{const m=b.value;if(m!==null){const M=m.parentNode.style,{scrollTop:J}=m,{overflowY:ee,maxHeight:T}=o.platform.is.firefox===!0?{}:window.getComputedStyle(m),O=ee!==void 0&&ee!=="scroll";O===!0&&(m.style.overflowY="hidden"),M.marginBottom=m.scrollHeight-1+"px",m.style.height="1px",m.style.height=m.scrollHeight+"px",O===!0&&(m.style.overflowY=parseInt(T,10)<m.scrollHeight?"auto":"hidden"),M.marginBottom="",m.scrollTop=J}})}function L(m){_(m),g!==null&&(clearTimeout(g),g=null),u!==void 0&&u(),t("change",m.target.value)}function W(m){m!==void 0&&Ge(m),g!==null&&(clearTimeout(g),g=null),u!==void 0&&u(),r=!1,c=!1,delete i.value,e.type!=="file"&&setTimeout(()=>{b.value!==null&&(b.value.value=d.value!==void 0?d.value:"")})}function te(){return i.hasOwnProperty("value")===!0?i.value:d.value!==void 0?d.value:""}Be(()=>{W()}),Ue(()=>{e.autogrow===!0&&Y()}),Object.assign(P,{innerValue:d,fieldClass:f(()=>`q-${A.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:f(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:b,emitValue:N,hasValue:S,floatingLabel:f(()=>S.value===!0&&(e.type!=="number"||isNaN(d.value)===!1)||Ht(e.displayValue)),getControl:()=>v(A.value===!0?"textarea":"input",{ref:b,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...k.value,...q.value,...e.type!=="file"?{value:te()}:V.value}),getShadowControl:()=>v("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(A.value===!0?"":" text-no-wrap")},[v("span",{class:"invisible"},te()),v("span",e.shadowText)])});const h=un(P);return Object.assign(n,{focus:$,select:w,getNativeElement:()=>b.value}),Ye(n,"nativeEl",()=>b.value),h}}),Fo=me({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:l}){const n=de(),o=R(null);let i=0;const a=[];function r(d){const y=typeof d=="boolean"?d:e.noErrorFocus!==!0,F=++i,C=(V,S)=>{l(`validation${V===!0?"Success":"Error"}`,S)},U=V=>{const S=V.validate();return typeof S.then=="function"?S.then(_=>({valid:_,comp:V}),_=>({valid:!1,comp:V,err:_})):Promise.resolve({valid:S,comp:V})};return(e.greedy===!0?Promise.all(a.map(U)).then(V=>V.filter(S=>S.valid!==!0)):a.reduce((V,S)=>V.then(()=>U(S).then(_=>{if(_.valid===!1)return Promise.reject(_)})),Promise.resolve()).catch(V=>[V])).then(V=>{if(V===void 0||V.length===0)return F===i&&C(!0),!0;if(F===i){const{comp:S,err:_}=V[0];if(_!==void 0&&console.error(_),C(!1,S),y===!0){const P=V.find(({comp:A})=>typeof A.focus=="function"&&Dn(A.$)===!1);P!==void 0&&P.comp.focus()}}return!1})}function c(){i++,a.forEach(d=>{typeof d.resetValidation=="function"&&d.resetValidation()})}function g(d){d!==void 0&&Pe(d);const y=i+1;r().then(F=>{y===i&&F===!0&&(e.onSubmit!==void 0?l("submit",d):d!==void 0&&d.target!==void 0&&typeof d.target.submit=="function"&&d.target.submit())})}function u(d){d!==void 0&&Pe(d),l("reset"),Se(()=>{c(),e.autofocus===!0&&e.noResetFocus!==!0&&b()})}function b(){jt(()=>{if(o.value===null)return;const d=o.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||o.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||o.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(o.value.querySelectorAll("[tabindex]"),y=>y.tabIndex!==-1);d?.focus({preventScroll:!0})})}Aa(Hn,{bindComponent(d){a.push(d)},unbindComponent(d){const y=a.indexOf(d);y!==-1&&a.splice(y,1)}});let x=!1;return Ut(()=>{x=!0}),hl(()=>{x===!0&&e.autofocus===!0&&b()}),Ue(()=>{e.autofocus===!0&&b()}),Object.assign(n.proxy,{validate:r,resetValidation:c,submit:g,reset:u,focus:b,getValidationComponents:()=>a}),()=>v("form",{class:"q-form",ref:o,onSubmit:g,onReset:u},we(t.default))}}),Sl=(e,t)=>{const l=e.__vccOpts||e;for(const[n,o]of t)l[n]=o;return l},Bo={name:"UserForm",props:{initialData:{type:Object,default:()=>({})},editMode:{type:Boolean,default:!1}},emits:["submit","cancel"],setup(e,{emit:t}){const l=R(!1),n=R({phone_number:"",name:"",comments:""});return Ue(()=>{e.initialData&&(n.value={...e.initialData})}),{form:n,loading:l,onSubmit:async()=>{l.value=!0;try{t("submit",{...n.value})}finally{l.value=!1}}}}},Po={class:"row justify-end q-gutter-sm"};function To(e,t,l,n,o,i){return he(),ut(Fo,{onSubmit:n.onSubmit,class:"q-gutter-md"},{default:D(()=>[B(ft,{modelValue:n.form.phone_number,"onUpdate:modelValue":t[0]||(t[0]=a=>n.form.phone_number=a),label:"Phone Number",rules:[a=>!!a||"Phone number is required"]},null,8,["modelValue","rules"]),B(ft,{modelValue:n.form.name,"onUpdate:modelValue":t[1]||(t[1]=a=>n.form.name=a),label:"Name"},null,8,["modelValue"]),B(ft,{modelValue:n.form.comments,"onUpdate:modelValue":t[2]||(t[2]=a=>n.form.comments=a),type:"textarea",label:"Comments"},null,8,["modelValue"]),ve("div",Po,[B(re,{flat:"",label:"Cancel",color:"grey",onClick:t[3]||(t[3]=a=>e.$emit("cancel"))}),B(re,{loading:n.loading,type:"submit",color:"primary",label:l.editMode?"Update":"Create"},null,8,["loading","label"])])]),_:1},8,["onSubmit"])}const Ao=Sl(Bo,[["render",To]]);function Mo(e,t){const l=R(null),n=f(()=>e.disable===!0?null:v("span",{ref:l,class:"no-outline",tabindex:-1}));function o(i){const a=t.value;i!==void 0&&i.type.indexOf("key")===0?a!==null&&document.activeElement!==a&&a.contains(document.activeElement)===!0&&a.focus():l.value!==null&&(i===void 0||a!==null&&a.contains(i.target)===!0)&&l.value.focus()}return{refocusTargetEl:n,refocusTarget:o}}const Ro={xs:30,sm:35,md:40,lg:50,xl:60},Eo={...je,...Ql,...sn,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Lo=["update:modelValue"];function $o(e,t){const{props:l,slots:n,emit:o,proxy:i}=de(),{$q:a}=i,r=Ne(l,a),c=R(null),{refocusTargetEl:g,refocusTarget:u}=Mo(l,c),b=Kl(l,Ro),x=f(()=>l.val!==void 0&&Array.isArray(l.modelValue)),d=f(()=>{const w=kt(l.val);return x.value===!0?l.modelValue.findIndex(K=>kt(K)===w):-1}),y=f(()=>x.value===!0?d.value!==-1:kt(l.modelValue)===kt(l.trueValue)),F=f(()=>x.value===!0?d.value===-1:kt(l.modelValue)===kt(l.falseValue)),C=f(()=>y.value===!1&&F.value===!1),U=f(()=>l.disable===!0?-1:l.tabindex||0),j=f(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(l.disable===!0?" disabled":"")+(r.value===!0?` q-${e}--dark`:"")+(l.dense===!0?` q-${e}--dense`:"")+(l.leftLabel===!0?" reverse":"")),V=f(()=>{const w=y.value===!0?"truthy":F.value===!0?"falsy":"indet",K=l.color!==void 0&&(l.keepColor===!0||F.value!==!0)?` text-${l.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${w}${K}`}),S=f(()=>{const w={type:"checkbox"};return l.name!==void 0&&Object.assign(w,{".checked":y.value,"^checked":y.value===!0?"checked":void 0,name:l.name,value:x.value===!0?l.val:l.trueValue}),w}),_=Co(S),P=f(()=>{const w={tabindex:U.value,role:"checkbox","aria-label":l.label,"aria-checked":C.value===!0?"mixed":y.value===!0?"true":"false"};return l.disable===!0&&(w["aria-disabled"]="true"),w});function A(w){w!==void 0&&(Pe(w),u(w)),l.disable!==!0&&o("update:modelValue",Q(),w)}function Q(){if(x.value===!0){if(y.value===!0){const w=l.modelValue.slice();return w.splice(d.value,1),w}return l.modelValue.concat([l.val])}if(y.value===!0){if(l.toggleOrder!=="ft"||l.toggleIndeterminate===!1)return l.falseValue}else if(F.value===!0){if(l.toggleOrder==="ft"||l.toggleIndeterminate===!1)return l.trueValue}else return l.toggleOrder!=="ft"?l.trueValue:l.falseValue;return l.indeterminateValue}function q(w){(w.keyCode===13||w.keyCode===32)&&Pe(w)}function k(w){(w.keyCode===13||w.keyCode===32)&&A(w)}const $=t(y,C);return Object.assign(i,{toggle:A}),()=>{const w=$();l.disable!==!0&&_(w,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const K=[v("div",{class:V.value,style:b.value,"aria-hidden":"true"},w)];g.value!==null&&K.push(g.value);const Z=l.label!==void 0?bl(n.default,[l.label]):we(n.default);return Z!==void 0&&K.push(v("div",{class:`q-${e}__label q-anchor--skip`},Z)),v("div",{ref:c,class:j.value,...P.value,onClick:A,onKeydown:q,onKeyup:k},K)}}const Do=()=>v("div",{key:"svg",class:"q-checkbox__bg absolute"},[v("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[v("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),v("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),nl=me({name:"QCheckbox",props:Eo,emits:Lo,setup(e){const t=Do();function l(n,o){const i=f(()=>(n.value===!0?e.checkedIcon:o.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>i.value!==null?[v("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[v(Te,{class:"q-checkbox__icon",name:i.value})])]:[t]}return $o("checkbox",l)}}),cn=me({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:l}){const n=de(),{proxy:{$q:o}}=n,i=a=>{l("click",a)};return()=>{if(e.props===void 0)return v("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:i},we(t.default));let a,r;const c=n.vnode.key;if(c){if(a=e.props.colsMap[c],a===void 0)return}else a=e.props.col;if(a.sortable===!0){const u=a.align==="right"?"unshift":"push";r=Ma(t.default,[]),r[u](v(Te,{class:a.__iconClass,name:o.iconSet.table.arrowUp}))}else r=we(t.default);const g={class:a.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:a.headerStyle,onClick:u=>{a.sortable===!0&&e.props.sort(a),i(u)}};return v("th",g,r)}}}),aa=me({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:t}){const l=f(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>v("tr",{class:l.value},we(t.default))}}),oa={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},Oo={...oa,contextMenu:Boolean};function ia({showing:e,avoidEmit:t,configureAnchorEl:l}){const{props:n,proxy:o,emit:i}=de(),a=R(null);let r=null;function c(d){return a.value===null?!1:d===void 0||d.touches===void 0||d.touches.length<=1}const g={};l===void 0&&(Object.assign(g,{hide(d){o.hide(d)},toggle(d){o.toggle(d),d.qAnchorHandled=!0},toggleKey(d){gl(d,13)===!0&&g.toggle(d)},contextClick(d){o.hide(d),He(d),Se(()=>{o.show(d),d.qAnchorHandled=!0})},prevent:He,mobileTouch(d){if(g.mobileCleanup(d),c(d)!==!0)return;o.hide(d),a.value.classList.add("non-selectable");const y=d.target;ol(g,"anchor",[[y,"touchmove","mobileCleanup","passive"],[y,"touchend","mobileCleanup","passive"],[y,"touchcancel","mobileCleanup","passive"],[a.value,"contextmenu","prevent","notPassive"]]),r=setTimeout(()=>{r=null,o.show(d),d.qAnchorHandled=!0},300)},mobileCleanup(d){a.value.classList.remove("non-selectable"),r!==null&&(clearTimeout(r),r=null),e.value===!0&&d!==void 0&&Ol()}}),l=function(d=n.contextMenu){if(n.noParentEvent===!0||a.value===null)return;let y;d===!0?o.$q.platform.is.mobile===!0?y=[[a.value,"touchstart","mobileTouch","passive"]]:y=[[a.value,"mousedown","hide","passive"],[a.value,"contextmenu","contextClick","notPassive"]]:y=[[a.value,"click","toggle","passive"],[a.value,"keyup","toggleKey","passive"]],ol(g,"anchor",y)});function u(){El(g,"anchor")}function b(d){for(a.value=d;a.value.classList.contains("q-anchor--skip");)a.value=a.value.parentNode;l()}function x(){if(n.target===!1||n.target===""||o.$el.parentNode===null)a.value=null;else if(n.target===!0)b(o.$el.parentNode);else{let d=n.target;if(typeof n.target=="string")try{d=document.querySelector(n.target)}catch{d=void 0}d!=null?(a.value=d.$el||d,l()):(a.value=null,console.error(`Anchor: target "${n.target}" not found`))}}return le(()=>n.contextMenu,d=>{a.value!==null&&(u(),l(d))}),le(()=>n.target,()=>{a.value!==null&&u(),x()}),le(()=>n.noParentEvent,d=>{a.value!==null&&(d===!0?u():l())}),Ue(()=>{x(),t!==!0&&n.modelValue===!0&&a.value===null&&i("update:modelValue",!1)}),Be(()=>{r!==null&&clearTimeout(r),u()}),{anchorEl:a,canShow:c,anchorEvents:g}}function ra(e,t){const l=R(null);let n;function o(r,c){const g=`${c!==void 0?"add":"remove"}EventListener`,u=c!==void 0?c:n;r!==window&&r[g]("scroll",u,zt.passive),window[g]("scroll",u,zt.passive),n=c}function i(){l.value!==null&&(o(l.value),l.value=null)}const a=le(()=>e.noParentEvent,()=>{l.value!==null&&(i(),t())});return Be(a),{localScrollTarget:l,unconfigureScrollTarget:i,changeScrollEvent:o}}const{notPassiveCapture:ul}=zt,vt=[];function sl(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let l=xt.length-1;for(;l>=0;){const n=xt[l].$;if(n.type.name==="QTooltip"){l--;continue}if(n.type.name!=="QDialog")break;if(n.props.seamless!==!0)return;l--}for(let n=vt.length-1;n>=0;n--){const o=vt[n];if((o.anchorEl.value===null||o.anchorEl.value.contains(t)===!1)&&(t===document.body||o.innerRef.value!==null&&o.innerRef.value.contains(t)===!1))e.qClickOutside=!0,o.onClickOutside(e);else return}}function ua(e){vt.push(e),vt.length===1&&(document.addEventListener("mousedown",sl,ul),document.addEventListener("touchstart",sl,ul))}function cl(e){const t=vt.findIndex(l=>l===e);t!==-1&&(vt.splice(t,1),vt.length===0&&(document.removeEventListener("mousedown",sl,ul),document.removeEventListener("touchstart",sl,ul)))}let Pn,Tn;function dl(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function sa(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Ul={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Ul[`${e}#ltr`]=e,Ul[`${e}#rtl`]=e});function fl(e,t){const l=e.split(" ");return{vertical:l[0],horizontal:Ul[`${l[1]}#${t===!0?"rtl":"ltr"}`]}}function zo(e,t){let{top:l,left:n,right:o,bottom:i,width:a,height:r}=e.getBoundingClientRect();return t!==void 0&&(l-=t[1],n-=t[0],i+=t[1],o+=t[0],a+=t[0],r+=t[1]),{top:l,bottom:i,height:r,left:n,right:o,width:a,middle:n+(o-n)/2,center:l+(i-l)/2}}function Io(e,t,l){let{top:n,left:o}=e.getBoundingClientRect();return n+=t.top,o+=t.left,l!==void 0&&(n+=l[1],o+=l[0]),{top:n,bottom:n+1,height:1,left:o,right:o+1,width:1,middle:o,center:n}}function Ho(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function An(e,t,l,n){return{top:e[l.vertical]-t[n.vertical],left:e[l.horizontal]-t[n.horizontal]}}function dn(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{dn(e,t+1)},10);return}const{targetEl:l,offset:n,anchorEl:o,anchorOrigin:i,selfOrigin:a,absoluteOffset:r,fit:c,cover:g,maxHeight:u,maxWidth:b}=e;if(ml.is.ios===!0&&window.visualViewport!==void 0){const P=document.body.style,{offsetLeft:A,offsetTop:Q}=window.visualViewport;A!==Pn&&(P.setProperty("--q-pe-left",A+"px"),Pn=A),Q!==Tn&&(P.setProperty("--q-pe-top",Q+"px"),Tn=Q)}const{scrollLeft:x,scrollTop:d}=l,y=r===void 0?zo(o,g===!0?[0,0]:n):Io(o,r,n);Object.assign(l.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:b,maxHeight:u,visibility:"visible"});const{offsetWidth:F,offsetHeight:C}=l,{elWidth:U,elHeight:j}=c===!0||g===!0?{elWidth:Math.max(y.width,F),elHeight:g===!0?Math.max(y.height,C):C}:{elWidth:F,elHeight:C};let V={maxWidth:b,maxHeight:u};(c===!0||g===!0)&&(V.minWidth=y.width+"px",g===!0&&(V.minHeight=y.height+"px")),Object.assign(l.style,V);const S=Ho(U,j);let _=An(y,S,i,a);if(r===void 0||n===void 0)Pl(_,y,S,i,a);else{const{top:P,left:A}=_;Pl(_,y,S,i,a);let Q=!1;if(_.top!==P){Q=!0;const q=2*n[1];y.center=y.top-=q,y.bottom-=q+2}if(_.left!==A){Q=!0;const q=2*n[0];y.middle=y.left-=q,y.right-=q+2}Q===!0&&(_=An(y,S,i,a),Pl(_,y,S,i,a))}V={top:_.top+"px",left:_.left+"px"},_.maxHeight!==void 0&&(V.maxHeight=_.maxHeight+"px",y.height>_.maxHeight&&(V.minHeight=V.maxHeight)),_.maxWidth!==void 0&&(V.maxWidth=_.maxWidth+"px",y.width>_.maxWidth&&(V.minWidth=V.maxWidth)),Object.assign(l.style,V),l.scrollTop!==d&&(l.scrollTop=d),l.scrollLeft!==x&&(l.scrollLeft=x)}function Pl(e,t,l,n,o){const i=l.bottom,a=l.right,r=Ka(),c=window.innerHeight-r,g=document.body.clientWidth;if(e.top<0||e.top+i>c)if(o.vertical==="center")e.top=t[n.vertical]>c/2?Math.max(0,c-i):0,e.maxHeight=Math.min(i,c);else if(t[n.vertical]>c/2){const u=Math.min(c,n.vertical==="center"?t.center:n.vertical===o.vertical?t.bottom:t.top);e.maxHeight=Math.min(i,u),e.top=Math.max(0,u-i)}else e.top=Math.max(0,n.vertical==="center"?t.center:n.vertical===o.vertical?t.top:t.bottom),e.maxHeight=Math.min(i,c-e.top);if(e.left<0||e.left+a>g)if(e.maxWidth=Math.min(a,g),o.horizontal==="middle")e.left=t[n.horizontal]>g/2?Math.max(0,g-a):0;else if(t[n.horizontal]>g/2){const u=Math.min(g,n.horizontal==="middle"?t.middle:n.horizontal===o.horizontal?t.right:t.left);e.maxWidth=Math.min(a,u),e.left=Math.max(0,u-e.maxWidth)}else e.left=Math.max(0,n.horizontal==="middle"?t.middle:n.horizontal===o.horizontal?t.left:t.right),e.maxWidth=Math.min(a,g-e.left)}const _t=me({name:"QTooltip",inheritAttrs:!1,props:{...oa,...Gl,...$t,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...$t.transitionShow,default:"jump-down"},transitionHide:{...$t.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:dl},self:{type:String,default:"top middle",validator:dl},offset:{type:Array,default:()=>[14,14],validator:sa},scrollTarget:Jl,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Zl],setup(e,{slots:t,emit:l,attrs:n}){let o,i;const a=de(),{proxy:{$q:r}}=a,c=R(null),g=R(!1),u=f(()=>fl(e.anchor,r.lang.rtl)),b=f(()=>fl(e.self,r.lang.rtl)),x=f(()=>e.persistent!==!0),{registerTick:d,removeTick:y}=tn(),{registerTimeout:F}=Yl(),{transitionProps:C,transitionStyle:U}=ln(e),{localScrollTarget:j,changeScrollEvent:V,unconfigureScrollTarget:S}=ra(e,te),{anchorEl:_,canShow:P,anchorEvents:A}=ia({showing:g,configureAnchorEl:W}),{show:Q,hide:q}=Xl({showing:g,canShow:P,handleShow:K,handleHide:Z,hideOnRouteChange:x,processOnMount:!0});Object.assign(A,{delayShow:Y,delayHide:L});const{showPortal:k,hidePortal:$,renderPortal:w}=nn(a,c,m,"tooltip");if(r.platform.is.mobile===!0){const M={anchorEl:_,innerRef:c,onClickOutside(ee){return q(ee),ee.target.classList.contains("q-dialog__backdrop")&&Pe(ee),!0}},J=f(()=>e.modelValue===null&&e.persistent!==!0&&g.value===!0);le(J,ee=>{(ee===!0?ua:cl)(M)}),Be(()=>{cl(M)})}function K(M){k(),d(()=>{i=new MutationObserver(()=>N()),i.observe(c.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),N(),te()}),o===void 0&&(o=le(()=>r.screen.width+"|"+r.screen.height+"|"+e.self+"|"+e.anchor+"|"+r.lang.rtl,N)),F(()=>{k(!0),l("show",M)},e.transitionDuration)}function Z(M){y(),$(),ne(),F(()=>{$(!0),l("hide",M)},e.transitionDuration)}function ne(){i!==void 0&&(i.disconnect(),i=void 0),o!==void 0&&(o(),o=void 0),S(),El(A,"tooltipTemp")}function N(){dn({targetEl:c.value,offset:e.offset,anchorEl:_.value,anchorOrigin:u.value,selfOrigin:b.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Y(M){if(r.platform.is.mobile===!0){Ol(),document.body.classList.add("non-selectable");const J=_.value,ee=["touchmove","touchcancel","touchend","click"].map(T=>[J,T,"delayHide","passiveCapture"]);ol(A,"tooltipTemp",ee)}F(()=>{Q(M)},e.delay)}function L(M){r.platform.is.mobile===!0&&(El(A,"tooltipTemp"),Ol(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),F(()=>{q(M)},e.hideDelay)}function W(){if(e.noParentEvent===!0||_.value===null)return;const M=r.platform.is.mobile===!0?[[_.value,"touchstart","delayShow","passive"]]:[[_.value,"mouseenter","delayShow","passive"],[_.value,"mouseleave","delayHide","passive"]];ol(A,"anchor",M)}function te(){if(_.value!==null||e.scrollTarget!==void 0){j.value=en(_.value,e.scrollTarget);const M=e.noParentEvent===!0?N:q;V(j.value,M)}}function h(){return g.value===!0?v("div",{...n,ref:c,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",n.class],style:[n.style,U.value],role:"tooltip"},we(t.default)):null}function m(){return v(Ot,C.value,h)}return Be(ne),Object.assign(a.proxy,{updatePosition:N}),w}}),it=me({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const l=de(),n=f(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return v("td",{class:n.value},we(t.default));const o=l.vnode.key,i=(e.props.colsMap!==void 0?e.props.colsMap[o]:null)||e.props.col;if(i===void 0)return;const{row:a}=e.props;return v("td",{class:n.value+i.__tdClass(a),style:i.__tdStyle(a)},we(t.default))}}}),Uo={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},Tl={xs:2,sm:4,md:8,lg:16,xl:24},jo=me({name:"QSeparator",props:{...je,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=de(),l=Ne(e,t.proxy.$q),n=f(()=>e.vertical===!0?"vertical":"horizontal"),o=f(()=>` q-separator--${n.value}`),i=f(()=>e.inset!==!1?`${o.value}-${Uo[e.inset]}`:""),a=f(()=>`q-separator${o.value}${i.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(l.value===!0?" q-separator--dark":"")),r=f(()=>{const c={};if(e.size!==void 0&&(c[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const g=e.spaced===!0?`${Tl.md}px`:e.spaced in Tl?`${Tl[e.spaced]}px`:e.spaced,u=e.vertical===!0?["Left","Right"]:["Top","Bottom"];c[`margin${u[0]}`]=c[`margin${u[1]}`]=g}return c});return()=>v("hr",{class:a.value,style:r.value,"aria-orientation":n.value})}}),No=["horizontal","vertical","cell","none"],Qo=me({name:"QMarkupTable",props:{...je,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>No.includes(e)}},setup(e,{slots:t}){const l=de(),n=Ne(e,l.proxy.$q),o=f(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(n.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>v("div",{class:o.value},[v("table",{class:"q-table"},we(t.default))])}});function ca(e,t){return v("div",e,[v("table",{class:"q-table"},t)])}let vl=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,vl=e.scrollLeft>=0,e.remove()}const Ie=1e3,Ko=["start","center","end","start-force","center-force","end-force"],da=Array.prototype.filter,Wo=window.getComputedStyle(document.body).overflowAnchor===void 0?Ra:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const l=e.children||[];da.call(l,o=>o.dataset&&o.dataset.qVsAnchor!==void 0).forEach(o=>{delete o.dataset.qVsAnchor});const n=l[t];n&&n.dataset&&(n.dataset.qVsAnchor="")}))};function Vt(e,t){return e+t}function Al(e,t,l,n,o,i,a,r){const c=e===window?document.scrollingElement||document.documentElement:e,g=o===!0?"offsetWidth":"offsetHeight",u={scrollStart:0,scrollViewSize:-a-r,scrollMaxSize:0,offsetStart:-a,offsetEnd:-r};if(o===!0?(e===window?(u.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,u.scrollViewSize+=document.documentElement.clientWidth):(u.scrollStart=c.scrollLeft,u.scrollViewSize+=c.clientWidth),u.scrollMaxSize=c.scrollWidth,i===!0&&(u.scrollStart=(vl===!0?u.scrollMaxSize-u.scrollViewSize:0)-u.scrollStart)):(e===window?(u.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,u.scrollViewSize+=document.documentElement.clientHeight):(u.scrollStart=c.scrollTop,u.scrollViewSize+=c.clientHeight),u.scrollMaxSize=c.scrollHeight),l!==null)for(let b=l.previousElementSibling;b!==null;b=b.previousElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetStart+=b[g]);if(n!==null)for(let b=n.nextElementSibling;b!==null;b=b.nextElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetEnd+=b[g]);if(t!==e){const b=c.getBoundingClientRect(),x=t.getBoundingClientRect();o===!0?(u.offsetStart+=x.left-b.left,u.offsetEnd-=x.width):(u.offsetStart+=x.top-b.top,u.offsetEnd-=x.height),e!==window&&(u.offsetStart+=u.scrollStart),u.offsetEnd+=u.scrollMaxSize-u.offsetStart}return u}function Mn(e,t,l,n){t==="end"&&(t=(e===window?document.body:e)[l===!0?"scrollWidth":"scrollHeight"]),e===window?l===!0?(n===!0&&(t=(vl===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):l===!0?(n===!0&&(t=(vl===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function Mt(e,t,l,n){if(l>=n)return 0;const o=t.length,i=Math.floor(l/Ie),a=Math.floor((n-1)/Ie)+1;let r=e.slice(i,a).reduce(Vt,0);return l%Ie!==0&&(r-=t.slice(i*Ie,l).reduce(Vt,0)),n%Ie!==0&&n!==o&&(r-=t.slice(n,a*Ie).reduce(Vt,0)),r}const fa={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},va=Object.keys(fa),jl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...fa};function ma({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:l,virtualScrollItemSizeComputed:n}){const o=de(),{props:i,emit:a,proxy:r}=o,{$q:c}=r;let g,u,b,x=[],d;const y=R(0),F=R(0),C=R({}),U=R(null),j=R(null),V=R(null),S=R({from:0,to:0}),_=f(()=>i.tableColspan!==void 0?i.tableColspan:100);n===void 0&&(n=f(()=>i.virtualScrollItemSize));const P=f(()=>n.value+";"+i.virtualScrollHorizontal),A=f(()=>P.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);le(A,()=>{N()}),le(P,Q);function Q(){ne(u,!0)}function q(h){ne(h===void 0?u:h)}function k(h,m){const M=t();if(M==null||M.nodeType===8)return;const J=Al(M,l(),U.value,j.value,i.virtualScrollHorizontal,c.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);b!==J.scrollViewSize&&N(J.scrollViewSize),w(M,J,Math.min(e.value-1,Math.max(0,parseInt(h,10)||0)),0,Ko.indexOf(m)!==-1?m:u!==-1&&h>u?"end":"start")}function $(){const h=t();if(h==null||h.nodeType===8)return;const m=Al(h,l(),U.value,j.value,i.virtualScrollHorizontal,c.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),M=e.value-1,J=m.scrollMaxSize-m.offsetStart-m.offsetEnd-F.value;if(g===m.scrollStart)return;if(m.scrollMaxSize<=0){w(h,m,0,0);return}b!==m.scrollViewSize&&N(m.scrollViewSize),K(S.value.from);const ee=Math.floor(m.scrollMaxSize-Math.max(m.scrollViewSize,m.offsetEnd)-Math.min(d[M],m.scrollViewSize/2));if(ee>0&&Math.ceil(m.scrollStart)>=ee){w(h,m,M,m.scrollMaxSize-m.offsetEnd-x.reduce(Vt,0));return}let T=0,O=m.scrollStart-m.offsetStart,ie=O;if(O<=J&&O+m.scrollViewSize>=y.value)O-=y.value,T=S.value.from,ie=O;else for(let E=0;O>=x[E]&&T<M;E++)O-=x[E],T+=Ie;for(;O>0&&T<M;)O-=d[T],O>-m.scrollViewSize?(T++,ie=O):ie=d[T]+O;w(h,m,T,ie)}function w(h,m,M,J,ee){const T=typeof ee=="string"&&ee.indexOf("-force")!==-1,O=T===!0?ee.replace("-force",""):ee,ie=O!==void 0?O:"start";let E=Math.max(0,M-C.value[ie]),ce=E+C.value.total;ce>e.value&&(ce=e.value,E=Math.max(0,ce-C.value.total)),g=m.scrollStart;const _e=E!==S.value.from||ce!==S.value.to;if(_e===!1&&O===void 0){L(M);return}const{activeElement:Qe}=document,qe=V.value;_e===!0&&qe!==null&&qe!==Qe&&qe.contains(Qe)===!0&&(qe.addEventListener("focusout",Z),setTimeout(()=>{qe!==null&&qe.removeEventListener("focusout",Z)})),Wo(qe,M-E);const Ke=O!==void 0?d.slice(E,M).reduce(Vt,0):0;if(_e===!0){const Ee=ce>=S.value.from&&E<=S.value.to?S.value.to:ce;S.value={from:E,to:Ee},y.value=Mt(x,d,0,E),F.value=Mt(x,d,ce,e.value),requestAnimationFrame(()=>{S.value.to!==ce&&g===m.scrollStart&&(S.value={from:S.value.from,to:ce},F.value=Mt(x,d,ce,e.value))})}requestAnimationFrame(()=>{if(g!==m.scrollStart)return;_e===!0&&K(E);const Ee=d.slice(E,M).reduce(Vt,0),Le=Ee+m.offsetStart+y.value,We=Le+d[M];let et=Le+J;if(O!==void 0){const Bt=Ee-Ke,tt=m.scrollStart+Bt;et=T!==!0&&tt<Le&&We<tt+m.scrollViewSize?tt:O==="end"?We-m.scrollViewSize:Le-(O==="start"?0:Math.round((m.scrollViewSize-d[M])/2))}g=et,Mn(h,et,i.virtualScrollHorizontal,c.lang.rtl),L(M)})}function K(h){const m=V.value;if(m){const M=da.call(m.children,E=>E.classList&&E.classList.contains("q-virtual-scroll--skip")===!1),J=M.length,ee=i.virtualScrollHorizontal===!0?E=>E.getBoundingClientRect().width:E=>E.offsetHeight;let T=h,O,ie;for(let E=0;E<J;){for(O=ee(M[E]),E++;E<J&&M[E].classList.contains("q-virtual-scroll--with-prev")===!0;)O+=ee(M[E]),E++;ie=O-d[T],ie!==0&&(d[T]+=ie,x[Math.floor(T/Ie)]+=ie),T++}}}function Z(){V.value!==null&&V.value!==void 0&&V.value.focus()}function ne(h,m){const M=1*n.value;(m===!0||Array.isArray(d)===!1)&&(d=[]);const J=d.length;d.length=e.value;for(let T=e.value-1;T>=J;T--)d[T]=M;const ee=Math.floor((e.value-1)/Ie);x=[];for(let T=0;T<=ee;T++){let O=0;const ie=Math.min((T+1)*Ie,e.value);for(let E=T*Ie;E<ie;E++)O+=d[E];x.push(O)}u=-1,g=void 0,y.value=Mt(x,d,0,S.value.from),F.value=Mt(x,d,S.value.to,e.value),h>=0?(K(S.value.from),Se(()=>{k(h)})):W()}function N(h){if(h===void 0&&typeof window<"u"){const O=t();O!=null&&O.nodeType!==8&&(h=Al(O,l(),U.value,j.value,i.virtualScrollHorizontal,c.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}b=h;const m=parseFloat(i.virtualScrollSliceRatioBefore)||0,M=parseFloat(i.virtualScrollSliceRatioAfter)||0,J=1+m+M,ee=h===void 0||h<=0?1:Math.ceil(h/n.value),T=Math.max(1,ee,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/J));C.value={total:Math.ceil(T*J),start:Math.ceil(T*m),center:Math.ceil(T*(.5+m)),end:Math.ceil(T*(1+m)),view:ee}}function Y(h,m){const M=i.virtualScrollHorizontal===!0?"width":"height",J={["--q-virtual-scroll-item-"+M]:n.value+"px"};return[h==="tbody"?v(h,{class:"q-virtual-scroll__padding",key:"before",ref:U},[v("tr",[v("td",{style:{[M]:`${y.value}px`,...J},colspan:_.value})])]):v(h,{class:"q-virtual-scroll__padding",key:"before",ref:U,style:{[M]:`${y.value}px`,...J}}),v(h,{class:"q-virtual-scroll__content",key:"content",ref:V,tabindex:-1},m.flat()),h==="tbody"?v(h,{class:"q-virtual-scroll__padding",key:"after",ref:j},[v("tr",[v("td",{style:{[M]:`${F.value}px`,...J},colspan:_.value})])]):v(h,{class:"q-virtual-scroll__padding",key:"after",ref:j,style:{[M]:`${F.value}px`,...J}})]}function L(h){u!==h&&(i.onVirtualScroll!==void 0&&a("virtualScroll",{index:h,from:S.value.from,to:S.value.to-1,direction:h<u?"decrease":"increase",ref:r}),u=h)}N();const W=Un($,c.platform.is.ios===!0?120:35);Wl(()=>{N()});let te=!1;return Ut(()=>{te=!0}),hl(()=>{if(te!==!0)return;const h=t();g!==void 0&&h!==void 0&&h!==null&&h.nodeType!==8?Mn(h,g,i.virtualScrollHorizontal,c.lang.rtl):k(u)}),Be(()=>{W.cancel()}),Object.assign(r,{scrollTo:k,reset:Q,refresh:q}),{virtualScrollSliceRange:S,virtualScrollSliceSizeComputed:C,setVirtualScrollSize:N,onVirtualScrollEvt:W,localResetVirtualScroll:ne,padVirtualScroll:Y,scrollTo:k,reset:Q,refresh:q}}const Zo={list:Wa,table:Qo},Go=["list","table","__qtable"],Yo=me({name:"QVirtualScroll",props:{...jl,type:{type:String,default:"list",validator:e=>Go.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:Jl},setup(e,{slots:t,attrs:l}){let n;const o=R(null),i=f(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:a,localResetVirtualScroll:r,padVirtualScroll:c,onVirtualScrollEvt:g}=ma({virtualScrollLength:i,getVirtualScrollTarget:y,getVirtualScrollEl:d}),u=f(()=>{if(i.value===0)return[];const j=(V,S)=>({index:a.value.from+S,item:V});return e.itemsFn===void 0?e.items.slice(a.value.from,a.value.to).map(j):e.itemsFn(a.value.from,a.value.to-a.value.from).map(j)}),b=f(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),x=f(()=>e.scrollTarget!==void 0?{}:{tabindex:0});le(i,()=>{r()}),le(()=>e.scrollTarget,()=>{C(),F()});function d(){return o.value.$el||o.value}function y(){return n}function F(){n=en(d(),e.scrollTarget),n.addEventListener("scroll",g,zt.passive)}function C(){n!==void 0&&(n.removeEventListener("scroll",g,zt.passive),n=void 0)}function U(){let j=c(e.type==="list"?"div":"tbody",u.value.map(t.default));return t.before!==void 0&&(j=t.before().concat(j)),bl(t.after,j)}return Wl(()=>{r()}),Ue(()=>{F()}),hl(()=>{F()}),Ut(()=>{C()}),Be(()=>{C()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?ca({ref:o,class:"q-table__middle "+b.value},U()):v(Zo[e.type],{...l,ref:o,class:[l.class,b.value],...x.value},U)}}}),Xo=me({name:"QField",inheritAttrs:!1,props:{...yl,tag:{type:String,default:"label"}},emits:on,setup(){return un(rn({tagProp:!0}))}}),Jo={xs:8,sm:10,md:14,lg:20,xl:24},ga=me({name:"QChip",props:{...je,...Ql,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:l}){const{proxy:{$q:n}}=de(),o=Ne(e,n),i=Kl(e,Jo),a=f(()=>e.selected===!0||e.icon!==void 0),r=f(()=>e.selected===!0?e.iconSelected||n.iconSet.chip.selected:e.icon),c=f(()=>e.iconRemove||n.iconSet.chip.remove),g=f(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),u=f(()=>{const C=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(C?` text-${C} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(g.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(o.value===!0?" q-chip--dark q-dark":"")}),b=f(()=>{const C=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},U={...C,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||n.lang.label.remove};return{chip:C,remove:U}});function x(C){C.keyCode===13&&d(C)}function d(C){e.disable||(l("update:selected",!e.selected),l("click",C))}function y(C){(C.keyCode===void 0||C.keyCode===13)&&(Pe(C),e.disable===!1&&(l("update:modelValue",!1),l("remove")))}function F(){const C=[];g.value===!0&&C.push(v("div",{class:"q-focus-helper"})),a.value===!0&&C.push(v(Te,{class:"q-chip__icon q-chip__icon--left",name:r.value}));const U=e.label!==void 0?[v("div",{class:"ellipsis"},[e.label])]:void 0;return C.push(v("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},$a(t.default,U))),e.iconRight&&C.push(v(Te,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&C.push(v(Te,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:c.value,...b.value.remove,onClick:y,onKeyup:y})),C}return()=>{if(e.modelValue===!1)return;const C={class:u.value,style:i.value};return g.value===!0&&Object.assign(C,b.value.chip,{onClick:d,onKeyup:x}),Ea("div",C,F(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[La,e.ripple]])}}}),ei=me({name:"QMenu",inheritAttrs:!1,props:{...Oo,...Gl,...je,...$t,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:dl},self:{type:String,validator:dl},offset:{type:Array,validator:sa},scrollTarget:Jl,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Zl,"click","escapeKey"],setup(e,{slots:t,emit:l,attrs:n}){let o=null,i,a,r;const c=de(),{proxy:g}=c,{$q:u}=g,b=R(null),x=R(!1),d=f(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),y=Ne(e,u),{registerTick:F,removeTick:C}=tn(),{registerTimeout:U}=Yl(),{transitionProps:j,transitionStyle:V}=ln(e),{localScrollTarget:S,changeScrollEvent:_,unconfigureScrollTarget:P}=ra(e,M),{anchorEl:A,canShow:Q}=ia({showing:x}),{hide:q}=Xl({showing:x,canShow:Q,handleShow:te,handleHide:h,hideOnRouteChange:d,processOnMount:!0}),{showPortal:k,hidePortal:$,renderPortal:w}=nn(c,b,ie,"menu"),K={anchorEl:A,innerRef:b,onClickOutside(E){if(e.persistent!==!0&&x.value===!0)return q(E),(E.type==="touchstart"||E.target.classList.contains("q-dialog__backdrop"))&&Pe(E),!0}},Z=f(()=>fl(e.anchor||(e.cover===!0?"center middle":"bottom start"),u.lang.rtl)),ne=f(()=>e.cover===!0?Z.value:fl(e.self||"top start",u.lang.rtl)),N=f(()=>(e.square===!0?" q-menu--square":"")+(y.value===!0?" q-menu--dark q-dark":"")),Y=f(()=>e.autoClose===!0?{onClick:J}:{}),L=f(()=>x.value===!0&&e.persistent!==!0);le(L,E=>{E===!0?(Yn(T),ua(K)):(il(T),cl(K))});function W(){jt(()=>{let E=b.value;E&&E.contains(document.activeElement)!==!0&&(E=E.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||E.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||E.querySelector("[autofocus], [data-autofocus]")||E,E.focus({preventScroll:!0}))})}function te(E){if(o=e.noRefocus===!1?document.activeElement:null,Jn(ee),k(),M(),i=void 0,E!==void 0&&(e.touchPosition||e.contextMenu)){const ce=Da(E);if(ce.left!==void 0){const{top:_e,left:Qe}=A.value.getBoundingClientRect();i={left:ce.left-Qe,top:ce.top-_e}}}a===void 0&&(a=le(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,O)),e.noFocus!==!0&&document.activeElement.blur(),F(()=>{O(),e.noFocus!==!0&&W()}),U(()=>{u.platform.is.ios===!0&&(r=e.autoClose,b.value.click()),O(),k(!0),l("show",E)},e.transitionDuration)}function h(E){C(),$(),m(!0),o!==null&&(E===void 0||E.qClickOutside!==!0)&&(((E&&E.type.indexOf("key")===0?o.closest('[tabindex]:not([tabindex^="-"])'):void 0)||o).focus(),o=null),U(()=>{$(!0),l("hide",E)},e.transitionDuration)}function m(E){i=void 0,a!==void 0&&(a(),a=void 0),(E===!0||x.value===!0)&&(zl(ee),P(),cl(K),il(T)),E!==!0&&(o=null)}function M(){(A.value!==null||e.scrollTarget!==void 0)&&(S.value=en(A.value,e.scrollTarget),_(S.value,O))}function J(E){r!==!0?(Zn(g,E),l("click",E)):r=!1}function ee(E){L.value===!0&&e.noFocus!==!0&&On(b.value,E.target)!==!0&&W()}function T(E){l("escapeKey"),q(E)}function O(){dn({targetEl:b.value,offset:e.offset,anchorEl:A.value,anchorOrigin:Z.value,selfOrigin:ne.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ie(){return v(Ot,j.value,()=>x.value===!0?v("div",{role:"menu",...n,ref:b,tabindex:-1,class:["q-menu q-position-engine scroll"+N.value,n.class],style:[n.style,V.value],...Y.value},we(t.default)):null)}return Be(m),Object.assign(g,{focus:W,updatePosition:O}),w}}),Rn=e=>["add","add-unique","toggle"].includes(e),ti=".*+?^${}()|[]\\",li=Object.keys(yl);function Ml(e,t){if(typeof e=="function")return e;const l=e!==void 0?e:t;return n=>n!==null&&typeof n=="object"&&l in n?n[l]:n}const ni=me({name:"QSelect",inheritAttrs:!1,props:{...jl,...sn,...yl,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Rn},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:jl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...on,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:t,emit:l}){const{proxy:n}=de(),{$q:o}=n,i=R(!1),a=R(!1),r=R(-1),c=R(""),g=R(!1),u=R(!1);let b=null,x=null,d,y,F,C=null,U,j,V,S;const _=R(null),P=R(null),A=R(null),Q=R(null),q=R(null),k=la(e),$=na(p),w=f(()=>Array.isArray(e.options)?e.options.length:0),K=f(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Z,virtualScrollSliceSizeComputed:ne,localResetVirtualScroll:N,padVirtualScroll:Y,onVirtualScrollEvt:L,scrollTo:W,setVirtualScrollSize:te}=ma({virtualScrollLength:w,getVirtualScrollTarget:Cl,getVirtualScrollEl:Zt,virtualScrollItemSizeComputed:K}),h=rn(),m=f(()=>{const s=e.mapOptions===!0&&e.multiple!==!0,I=e.modelValue!==void 0&&(e.modelValue!==null||s===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const H=e.mapOptions===!0&&d!==void 0?d:[],oe=I.map(se=>pl(se,H));return e.modelValue===null&&s===!0?oe.filter(se=>se!==null):oe}return I}),M=f(()=>{const s={};return li.forEach(I=>{const H=e[I];H!==void 0&&(s[I]=H)}),s}),J=f(()=>e.optionsDark===null?h.isDark.value:e.optionsDark),ee=f(()=>Ht(m.value)),T=f(()=>{let s="q-field__input q-placeholder col";return e.hideSelected===!0||m.value.length===0?[s,e.inputClass]:(s+=" q-field__input--padding",e.inputClass===void 0?s:[s,e.inputClass])}),O=f(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),ie=f(()=>w.value===0),E=f(()=>m.value.map(s=>xe.value(s)).join(", ")),ce=f(()=>e.displayValue!==void 0?e.displayValue:E.value),_e=f(()=>e.optionsHtml===!0?()=>!0:s=>s!=null&&s.html===!0),Qe=f(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||m.value.some(_e.value))),qe=f(()=>h.focused.value===!0?e.tabindex:-1),Ke=f(()=>{const s={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":i.value===!0?"true":"false","aria-controls":`${h.targetUid.value}_lb`};return r.value>=0&&(s["aria-activedescendant"]=`${h.targetUid.value}_${r.value}`),s}),Ee=f(()=>({id:`${h.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Le=f(()=>m.value.map((s,I)=>({index:I,opt:s,html:_e.value(s),selected:!0,removeAtIndex:wl,toggleOption:$e,tabindex:qe.value}))),We=f(()=>{if(w.value===0)return[];const{from:s,to:I}=Z.value;return e.options.slice(s,I).map((H,oe)=>{const se=Ze.value(H)===!0,ue=gt(H)===!0,pe=s+oe,be={clickable:!0,active:ue,activeClass:tt.value,manualFocus:!0,focused:!1,disable:se,tabindex:-1,dense:e.optionsDense,dark:J.value,role:"option","aria-selected":ue===!0?"true":"false",id:`${h.targetUid.value}_${pe}`,onClick:()=>{$e(H)}};return se!==!0&&(r.value===pe&&(be.focused=!0),o.platform.is.desktop===!0&&(be.onMousemove=()=>{i.value===!0&&Ae(pe)})),{index:pe,opt:H,html:_e.value(H),label:xe.value(H),selected:be.active,focused:be.focused,toggleOption:$e,setOptionIndex:Ae,itemProps:be}})}),et=f(()=>e.dropdownIcon!==void 0?e.dropdownIcon:o.iconSet.arrow.dropdown),Bt=f(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),tt=f(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Me=f(()=>Ml(e.optionValue,"value")),xe=f(()=>Ml(e.optionLabel,"label")),Ze=f(()=>Ml(e.optionDisable,"disable")),lt=f(()=>m.value.map(Me.value)),Nt=f(()=>{const s={onInput:p,onChange:$,onKeydown:nt,onKeyup:ht,onKeypress:Tt,onFocus:Pt,onClick(I){y===!0&&Ge(I)}};return s.onCompositionstart=s.onCompositionupdate=s.onCompositionend=$,s});le(m,s=>{d=s,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&h.innerLoading.value!==!0&&(a.value!==!0&&i.value!==!0||ee.value!==!0)&&(F!==!0&&pt(),(a.value===!0||i.value===!0)&&X(""))},{immediate:!0}),le(()=>e.fillInput,pt),le(i,xl),le(w,Sa);function Qt(s){return e.emitValue===!0?Me.value(s):s}function mt(s){if(s!==-1&&s<m.value.length)if(e.multiple===!0){const I=e.modelValue.slice();l("remove",{index:s,value:I.splice(s,1)[0]}),l("update:modelValue",I)}else l("update:modelValue",null)}function wl(s){mt(s),h.focus()}function Kt(s,I){const H=Qt(s);if(e.multiple!==!0){e.fillInput===!0&&G(xe.value(s),!0,!0),l("update:modelValue",H);return}if(m.value.length===0){l("add",{index:0,value:H}),l("update:modelValue",e.multiple===!0?[H]:H);return}if(I===!0&&gt(s)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const oe=e.modelValue.slice();l("add",{index:oe.length,value:H}),oe.push(H),l("update:modelValue",oe)}function $e(s,I){if(h.editable.value!==!0||s===void 0||Ze.value(s)===!0)return;const H=Me.value(s);if(e.multiple!==!0){I!==!0&&(G(e.fillInput===!0?xe.value(s):"",!0,!0),at()),P.value!==null&&P.value.focus(),(m.value.length===0||At(Me.value(m.value[0]),H)!==!0)&&l("update:modelValue",e.emitValue===!0?H:s);return}if((y!==!0||g.value===!0)&&h.focus(),Pt(),m.value.length===0){const ue=e.emitValue===!0?H:s;l("add",{index:0,value:ue}),l("update:modelValue",e.multiple===!0?[ue]:ue);return}const oe=e.modelValue.slice(),se=lt.value.findIndex(ue=>At(ue,H));if(se!==-1)l("remove",{index:se,value:oe.splice(se,1)[0]});else{if(e.maxValues!==void 0&&oe.length>=e.maxValues)return;const ue=e.emitValue===!0?H:s;l("add",{index:oe.length,value:ue}),oe.push(ue)}l("update:modelValue",oe)}function Ae(s){if(o.platform.is.desktop!==!0)return;const I=s!==-1&&s<w.value?s:-1;r.value!==I&&(r.value=I)}function De(s=1,I){if(i.value===!0){let H=r.value;do H=yn(H+s,-1,w.value-1);while(H!==-1&&H!==r.value&&Ze.value(e.options[H])===!0);r.value!==H&&(Ae(H),W(H),I!==!0&&e.useInput===!0&&e.fillInput===!0&&z(H>=0?xe.value(e.options[H]):U,!0))}}function pl(s,I){const H=oe=>At(Me.value(oe),s);return e.options.find(H)||I.find(H)||s}function gt(s){const I=Me.value(s);return lt.value.find(H=>At(H,I))!==void 0}function Pt(s){e.useInput===!0&&P.value!==null&&(s===void 0||P.value===s.target&&s.target.value===E.value)&&P.value.select()}function Wt(s){gl(s,27)===!0&&i.value===!0&&(Ge(s),at(),pt()),l("keyup",s)}function ht(s){const{value:I}=s.target;if(s.keyCode!==void 0){Wt(s);return}if(s.target.value="",b!==null&&(clearTimeout(b),b=null),x!==null&&(clearTimeout(x),x=null),pt(),typeof I=="string"&&I.length!==0){const H=I.toLocaleLowerCase(),oe=ue=>{const pe=e.options.find(be=>String(ue.value(be)).toLocaleLowerCase()===H);return pe===void 0?!1:(m.value.indexOf(pe)===-1?$e(pe):at(),!0)},se=ue=>{oe(Me)!==!0&&ue!==!0&&oe(xe)!==!0&&X(I,!0,()=>se(!0))};se()}else h.clearValue(s)}function Tt(s){l("keypress",s)}function nt(s){if(l("keydown",s),jn(s)===!0)return;const I=c.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),H=s.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(r.value!==-1||I===!0);if(s.keyCode===27){He(s);return}if(s.keyCode===9&&H===!1){St();return}if(s.target===void 0||s.target.id!==h.targetUid.value||h.editable.value!==!0)return;if(s.keyCode===40&&h.innerLoading.value!==!0&&i.value===!1){Pe(s),wt();return}if(s.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&c.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?mt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&l("update:modelValue",null);return}(s.keyCode===35||s.keyCode===36)&&(typeof c.value!="string"||c.value.length===0)&&(Pe(s),r.value=-1,De(s.keyCode===36?1:-1,e.multiple)),(s.keyCode===33||s.keyCode===34)&&ne.value!==void 0&&(Pe(s),r.value=Math.max(-1,Math.min(w.value,r.value+(s.keyCode===33?-1:1)*ne.value.view)),De(s.keyCode===33?1:-1,e.multiple)),(s.keyCode===38||s.keyCode===40)&&(Pe(s),De(s.keyCode===38?-1:1,e.multiple));const oe=w.value;if((V===void 0||S<Date.now())&&(V=""),oe>0&&e.useInput!==!0&&s.key!==void 0&&s.key.length===1&&s.altKey===!1&&s.ctrlKey===!1&&s.metaKey===!1&&(s.keyCode!==32||V.length!==0)){i.value!==!0&&wt(s);const se=s.key.toLocaleLowerCase(),ue=V.length===1&&V[0]===se;S=Date.now()+1500,ue===!1&&(Pe(s),V+=se);const pe=new RegExp("^"+V.split("").map(Vl=>ti.indexOf(Vl)!==-1?"\\"+Vl:Vl).join(".*"),"i");let be=r.value;if(ue===!0||be<0||pe.test(xe.value(e.options[be]))!==!0)do be=yn(be+1,-1,oe-1);while(be!==r.value&&(Ze.value(e.options[be])===!0||pe.test(xe.value(e.options[be]))!==!0));r.value!==be&&Se(()=>{Ae(be),W(be),be>=0&&e.useInput===!0&&e.fillInput===!0&&z(xe.value(e.options[be]),!0)});return}if(!(s.keyCode!==13&&(s.keyCode!==32||e.useInput===!0||V!=="")&&(s.keyCode!==9||H===!1))){if(s.keyCode!==9&&Pe(s),r.value!==-1&&r.value<oe){$e(e.options[r.value]);return}if(I===!0){const se=(ue,pe)=>{if(pe){if(Rn(pe)!==!0)return}else pe=e.newValueMode;if(G("",e.multiple!==!0,!0),ue==null)return;(pe==="toggle"?$e:Kt)(ue,pe==="add-unique"),e.multiple!==!0&&(P.value!==null&&P.value.focus(),at())};if(e.onNewValue!==void 0?l("newValue",c.value,se):se(c.value),e.multiple!==!0)return}i.value===!0?St():h.innerLoading.value!==!0&&wt()}}function Zt(){return y===!0?q.value:A.value!==null&&A.value.contentEl!==null?A.value.contentEl:void 0}function Cl(){return Zt()}function kl(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?Le.value.map(s=>t["selected-item"](s)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?Le.value.map((s,I)=>v(ga,{key:"option-"+I,removable:h.editable.value===!0&&Ze.value(s.opt)!==!0,dense:!0,textColor:e.color,tabindex:qe.value,onRemove(){s.removeAtIndex(I)}},()=>v("span",{class:"ellipsis",[s.html===!0?"innerHTML":"textContent"]:xe.value(s.opt)}))):[v("span",{[Qe.value===!0?"innerHTML":"textContent"]:ce.value})]}function Gt(){if(ie.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:c.value}):void 0;const s=t.option!==void 0?t.option:H=>v(Ya,{key:H.index,...H.itemProps},()=>v(Za,()=>v(Ga,()=>v("span",{[H.html===!0?"innerHTML":"textContent"]:H.label}))));let I=Y("div",We.value.map(s));return t["before-options"]!==void 0&&(I=t["before-options"]().concat(I)),bl(t["after-options"],I)}function _l(s,I){const H=I===!0?{...Ke.value,...h.splitAttrs.attributes.value}:void 0,oe={ref:I===!0?P:void 0,key:"i_t",class:T.value,style:e.inputStyle,value:c.value!==void 0?c.value:"",type:"search",...H,id:I===!0?h.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":s===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Nt.value};return s!==!0&&y===!0&&(Array.isArray(oe.class)===!0?oe.class=[...oe.class,"no-pointer-events"]:oe.class+=" no-pointer-events"),v("input",oe)}function p(s){b!==null&&(clearTimeout(b),b=null),x!==null&&(clearTimeout(x),x=null),!(s&&s.target&&s.target.qComposing===!0)&&(z(s.target.value||""),F=!0,U=c.value,h.focused.value!==!0&&(y!==!0||g.value===!0)&&h.focus(),e.onFilter!==void 0&&(b=setTimeout(()=>{b=null,X(c.value)},e.inputDebounce)))}function z(s,I){c.value!==s&&(c.value=s,I===!0||e.inputDebounce===0||e.inputDebounce==="0"?l("inputValue",s):x=setTimeout(()=>{x=null,l("inputValue",s)},e.inputDebounce))}function G(s,I,H){F=H!==!0,e.useInput===!0&&(z(s,!0),(I===!0||H!==!0)&&(U=s),I!==!0&&X(s))}function X(s,I,H){if(e.onFilter===void 0||I!==!0&&h.focused.value!==!0)return;h.innerLoading.value===!0?l("filterAbort"):(h.innerLoading.value=!0,u.value=!0),s!==""&&e.multiple!==!0&&m.value.length!==0&&F!==!0&&s===xe.value(m.value[0])&&(s="");const oe=setTimeout(()=>{i.value===!0&&(i.value=!1)},10);C!==null&&clearTimeout(C),C=oe,l("filter",s,(se,ue)=>{(I===!0||h.focused.value===!0)&&C===oe&&(clearTimeout(C),typeof se=="function"&&se(),u.value=!1,Se(()=>{h.innerLoading.value=!1,h.editable.value===!0&&(I===!0?i.value===!0&&at():i.value===!0?xl(!0):i.value=!0),typeof ue=="function"&&Se(()=>{ue(n)}),typeof H=="function"&&Se(()=>{H(n)})}))},()=>{h.focused.value===!0&&C===oe&&(clearTimeout(C),h.innerLoading.value=!1,u.value=!1),i.value===!0&&(i.value=!1)})}function ae(){return v(ei,{ref:A,class:O.value,style:e.popupContentStyle,modelValue:i.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&ie.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:J.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Bt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Ee.value,onScrollPassive:L,onBeforeShow:vn,onBeforeHide:ge,onShow:fe},Gt)}function ge(s){mn(s),St()}function fe(){te()}function Oe(s){Ge(s),P.value!==null&&P.value.focus(),g.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function ke(s){Ge(s),Se(()=>{g.value=!1})}function bt(){const s=[v(Xo,{class:`col-auto ${h.fieldClass.value}`,...M.value,for:h.targetUid.value,dark:J.value,square:!0,loading:u.value,itemAligned:!1,filled:!0,stackLabel:c.value.length!==0,...h.splitAttrs.listeners.value,onFocus:Oe,onBlur:ke},{...t,rawControl:()=>h.getControl(!0),before:void 0,after:void 0})];return i.value===!0&&s.push(v("div",{ref:q,class:O.value+" scroll",style:e.popupContentStyle,...Ee.value,onClick:He,onScrollPassive:L},Gt())),v(Je,{ref:Q,modelValue:a.value,position:e.useInput===!0?"top":void 0,transitionShow:j,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:vn,onBeforeHide:yt,onHide:ql,onShow:ya},()=>v("div",{class:"q-select__dialog"+(J.value===!0?" q-select__dialog--dark q-dark":"")+(g.value===!0?" q-select__dialog--focused":"")},s))}function yt(s){mn(s),Q.value!==null&&Q.value.__updateRefocusTarget(h.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),h.focused.value=!1}function ql(s){at(),h.focused.value===!1&&l("blur",s),pt()}function ya(){const s=document.activeElement;(s===null||s.id!==h.targetUid.value)&&P.value!==null&&P.value!==s&&P.value.focus(),te()}function St(){a.value!==!0&&(r.value=-1,i.value===!0&&(i.value=!1),h.focused.value===!1&&(C!==null&&(clearTimeout(C),C=null),h.innerLoading.value===!0&&(l("filterAbort"),h.innerLoading.value=!1,u.value=!1)))}function wt(s){h.editable.value===!0&&(y===!0?(h.onControlFocusin(s),a.value=!0,Se(()=>{h.focus()})):h.focus(),e.onFilter!==void 0?X(c.value):(ie.value!==!0||t["no-option"]!==void 0)&&(i.value=!0))}function at(){a.value=!1,St()}function pt(){e.useInput===!0&&G(e.multiple!==!0&&e.fillInput===!0&&m.value.length!==0&&xe.value(m.value[0])||"",!0,!0)}function xl(s){let I=-1;if(s===!0){if(m.value.length!==0){const H=Me.value(m.value[0]);I=e.options.findIndex(oe=>At(Me.value(oe),H))}N(I)}Ae(I)}function Sa(s,I){i.value===!0&&h.innerLoading.value===!1&&(N(-1,!0),Se(()=>{i.value===!0&&h.innerLoading.value===!1&&(s>I?N():xl(!0))}))}function fn(){a.value===!1&&A.value!==null&&A.value.updatePosition()}function vn(s){s!==void 0&&Ge(s),l("popupShow",s),h.hasPopupOpen=!0,h.onControlFocusin(s)}function mn(s){s!==void 0&&Ge(s),l("popupHide",s),h.hasPopupOpen=!1,h.onControlFocusout(s)}function gn(){y=o.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||ie.value===!1:!0),j=o.platform.is.ios===!0&&y===!0&&e.useInput===!0?"fade":e.transitionShow}return In(gn),Oa(fn),gn(),Be(()=>{b!==null&&clearTimeout(b),x!==null&&clearTimeout(x)}),Object.assign(n,{showPopup:wt,hidePopup:at,removeAtIndex:mt,add:Kt,toggleOption:$e,getOptionIndex:()=>r.value,setOptionIndex:Ae,moveOptionSelection:De,filter:X,updateMenuPosition:fn,updateInputValue:G,isOptionSelected:gt,getEmittingOptionValue:Qt,isOptionDisabled:(...s)=>Ze.value.apply(null,s)===!0,getOptionValue:(...s)=>Me.value.apply(null,s),getOptionLabel:(...s)=>xe.value.apply(null,s)}),Object.assign(h,{innerValue:m,fieldClass:f(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:_,targetRef:P,hasValue:ee,showPopup:wt,floatingLabel:f(()=>e.hideSelected!==!0&&ee.value===!0||typeof c.value=="number"||c.value.length!==0||Ht(e.displayValue)),getControlChild:()=>{if(h.editable.value!==!1&&(a.value===!0||ie.value!==!0||t["no-option"]!==void 0))return y===!0?bt():ae();h.hasPopupOpen===!0&&(h.hasPopupOpen=!1)},controlEvents:{onFocusin(s){h.onControlFocusin(s)},onFocusout(s){h.onControlFocusout(s,()=>{pt(),St()})},onClick(s){if(He(s),y!==!0&&i.value===!0){St(),P.value!==null&&P.value.focus();return}wt(s)}},getControl:s=>{const I=kl(),H=s===!0||a.value!==!0||y!==!0;if(e.useInput===!0)I.push(_l(s,H));else if(h.editable.value===!0){const se=H===!0?Ke.value:void 0;I.push(v("input",{ref:H===!0?P:void 0,key:"d_t",class:"q-select__focus-target",id:H===!0?h.targetUid.value:void 0,value:ce.value,readonly:!0,"data-autofocus":s===!0||e.autofocus===!0||void 0,...se,onKeydown:nt,onKeyup:Wt,onKeypress:Tt})),H===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&I.push(v("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:ht}))}if(k.value!==void 0&&e.disable!==!0&&lt.value.length!==0){const se=lt.value.map(ue=>v("option",{value:ue,selected:!0}));I.push(v("select",{class:"hidden",name:k.value,multiple:e.multiple},se))}const oe=e.useInput===!0||H!==!0?void 0:h.splitAttrs.attributes.value;return v("div",{class:"q-field__native row items-center",...oe,...h.splitAttrs.listeners.value},I)},getInnerAppend:()=>e.loading!==!0&&u.value!==!0&&e.hideDropdownIcon!==!0?[v(Te,{class:"q-select__dropdown-icon"+(i.value===!0?" rotate-180":""),name:et.value})]:null}),un(h)}}),ai={xs:2,sm:4,md:6,lg:10,xl:14};function En(e,t,l){return{transform:t===!0?`translateX(${l.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const ha=me({name:"QLinearProgress",props:{...je,...Ql,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:l}=de(),n=Ne(e,l.$q),o=Kl(e,ai),i=f(()=>e.indeterminate===!0||e.query===!0),a=f(()=>e.reverse!==e.query),r=f(()=>({...o.value!==null?o.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),c=f(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),g=f(()=>En(e.buffer!==void 0?e.buffer:1,a.value,l.$q)),u=f(()=>`with${e.instantFeedback===!0?"out":""}-transition`),b=f(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${u.value} q-linear-progress__track--${n.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),x=f(()=>En(i.value===!0?1:e.value,a.value,l.$q)),d=f(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${u.value} q-linear-progress__model--${i.value===!0?"in":""}determinate`),y=f(()=>({width:`${e.value*100}%`})),F=f(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${u.value}`);return()=>{const C=[v("div",{class:b.value,style:g.value}),v("div",{class:d.value,style:x.value})];return e.stripe===!0&&i.value===!1&&C.push(v("div",{class:F.value,style:y.value})),v("div",{class:c.value,style:r.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},bl(t.default,C))}}});let Rt=0;const oi={fullscreen:Boolean,noRouteFullscreenExit:Boolean},ii=["update:fullscreen","fullscreen"];function ri(){const e=de(),{props:t,emit:l,proxy:n}=e;let o,i,a;const r=R(!1);za(e)===!0&&le(()=>n.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&u()}),le(()=>t.fullscreen,b=>{r.value!==b&&c()}),le(r,b=>{l("update:fullscreen",b),l("fullscreen",b)});function c(){r.value===!0?u():g()}function g(){r.value!==!0&&(r.value=!0,a=n.$el.parentNode,a.replaceChild(i,n.$el),document.body.appendChild(n.$el),Rt++,Rt===1&&document.body.classList.add("q-body--fullscreen-mixin"),o={handler:u},hn.add(o))}function u(){r.value===!0&&(o!==void 0&&(hn.remove(o),o=void 0),a.replaceChild(n.$el,i),r.value=!1,Rt=Math.max(0,Rt-1),Rt===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),n.$el.scrollIntoView!==void 0&&setTimeout(()=>{n.$el.scrollIntoView()})))}return Wl(()=>{i=document.createElement("span")}),Ue(()=>{t.fullscreen===!0&&g()}),Be(u),Object.assign(n,{toggleFullscreen:c,setFullscreen:g,exitFullscreen:u}),{inFullscreen:r,toggleFullscreen:c}}function ui(e,t){return new Date(e)-new Date(t)}const si={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function ci(e,t,l,n){const o=f(()=>{const{sortBy:r}=t.value;return r&&l.value.find(c=>c.name===r)||null}),i=f(()=>e.sortMethod!==void 0?e.sortMethod:(r,c,g)=>{const u=l.value.find(d=>d.name===c);if(u===void 0||u.field===void 0)return r;const b=g===!0?-1:1,x=typeof u.field=="function"?d=>u.field(d):d=>d[u.field];return r.sort((d,y)=>{let F=x(d),C=x(y);return u.rawSort!==void 0?u.rawSort(F,C,d,y)*b:F==null?-1*b:C==null?1*b:u.sort!==void 0?u.sort(F,C,d,y)*b:Ll(F)===!0&&Ll(C)===!0?(F-C)*b:bn(F)===!0&&bn(C)===!0?ui(F,C)*b:typeof F=="boolean"&&typeof C=="boolean"?(F-C)*b:([F,C]=[F,C].map(U=>(U+"").toLocaleString().toLowerCase()),F<C?-1*b:F===C?0:b)})});function a(r){let c=e.columnSortOrder;if(Ia(r)===!0)r.sortOrder&&(c=r.sortOrder),r=r.name;else{const b=l.value.find(x=>x.name===r);b!==void 0&&b.sortOrder&&(c=b.sortOrder)}let{sortBy:g,descending:u}=t.value;g!==r?(g=r,u=c==="da"):e.binaryStateSort===!0?u=!u:u===!0?c==="ad"?g=null:u=!1:c==="ad"?u=!0:g=null,n({sortBy:g,descending:u,page:1})}return{columnToSort:o,computedSortMethod:i,sort:a}}const di={filter:[String,Object],filterMethod:Function};function fi(e,t){const l=f(()=>e.filterMethod!==void 0?e.filterMethod:(n,o,i,a)=>{const r=o?o.toLowerCase():"";return n.filter(c=>i.some(g=>{const u=a(g,c)+"";return(u==="undefined"||u==="null"?"":u.toLowerCase()).indexOf(r)!==-1}))});return le(()=>e.filter,()=>{Se(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:l}}function vi(e,t){for(const l in t)if(t[l]!==e[l])return!1;return!0}function Ln(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const mi={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function gi(e,t){const{props:l,emit:n}=e,o=R(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:l.rowsPerPageOptions.length!==0?l.rowsPerPageOptions[0]:5},l.pagination)),i=f(()=>{const u=l["onUpdate:pagination"]!==void 0?{...o.value,...l.pagination}:o.value;return Ln(u)}),a=f(()=>i.value.rowsNumber!==void 0);function r(u){c({pagination:u,filter:l.filter})}function c(u={}){Se(()=>{n("request",{pagination:u.pagination||i.value,filter:u.filter||l.filter,getCellValue:t})})}function g(u,b){const x=Ln({...i.value,...u});if(vi(i.value,x)===!0){a.value===!0&&b===!0&&r(x);return}if(a.value===!0){r(x);return}l.pagination!==void 0&&l["onUpdate:pagination"]!==void 0?n("update:pagination",x):o.value=x}return{innerPagination:o,computedPagination:i,isServerSide:a,requestServerInteraction:c,setPagination:g}}function hi(e,t,l,n,o,i){const{props:a,emit:r,proxy:{$q:c}}=e,g=f(()=>n.value===!0?l.value.rowsNumber||0:i.value),u=f(()=>{const{page:S,rowsPerPage:_}=l.value;return(S-1)*_}),b=f(()=>{const{page:S,rowsPerPage:_}=l.value;return S*_}),x=f(()=>l.value.page===1),d=f(()=>l.value.rowsPerPage===0?1:Math.max(1,Math.ceil(g.value/l.value.rowsPerPage))),y=f(()=>b.value===0?!0:l.value.page>=d.value),F=f(()=>(a.rowsPerPageOptions.includes(t.value.rowsPerPage)?a.rowsPerPageOptions:[t.value.rowsPerPage].concat(a.rowsPerPageOptions)).map(_=>({label:_===0?c.lang.table.allRows:""+_,value:_})));le(d,(S,_)=>{if(S===_)return;const P=l.value.page;S&&!P?o({page:1}):S<P&&o({page:S})});function C(){o({page:1})}function U(){const{page:S}=l.value;S>1&&o({page:S-1})}function j(){const{page:S,rowsPerPage:_}=l.value;b.value>0&&S*_<g.value&&o({page:S+1})}function V(){o({page:d.value})}return a["onUpdate:pagination"]!==void 0&&r("update:pagination",{...l.value}),{firstRowIndex:u,lastRowIndex:b,isFirstPage:x,isLastPage:y,pagesNumber:d,computedRowsPerPageOptions:F,computedRowsNumber:g,firstPage:C,prevPage:U,nextPage:j,lastPage:V}}const bi={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},yi=["update:selected","selection"];function Si(e,t,l,n){const o=f(()=>{const y={};return e.selected.map(n.value).forEach(F=>{y[F]=!0}),y}),i=f(()=>e.selection!=="none"),a=f(()=>e.selection==="single"),r=f(()=>e.selection==="multiple"),c=f(()=>l.value.length!==0&&l.value.every(y=>o.value[n.value(y)]===!0)),g=f(()=>c.value!==!0&&l.value.some(y=>o.value[n.value(y)]===!0)),u=f(()=>e.selected.length);function b(y){return o.value[y]===!0}function x(){t("update:selected",[])}function d(y,F,C,U){t("selection",{rows:F,added:C,keys:y,evt:U});const j=a.value===!0?C===!0?F:[]:C===!0?e.selected.concat(F):e.selected.filter(V=>y.includes(n.value(V))===!1);t("update:selected",j)}return{hasSelectionMode:i,singleSelection:a,multipleSelection:r,allRowsSelected:c,someRowsSelected:g,rowsSelectedNumber:u,isRowSelected:b,clearSelection:x,updateSelection:d}}function $n(e){return Array.isArray(e)?e.slice():[]}const wi={expanded:Array},pi=["update:expanded"];function Ci(e,t){const l=R($n(e.expanded));le(()=>e.expanded,a=>{l.value=$n(a)});function n(a){return l.value.includes(a)}function o(a){e.expanded!==void 0?t("update:expanded",a):l.value=a}function i(a,r){const c=l.value.slice(),g=c.indexOf(a);r===!0?g===-1&&(c.push(a),o(c)):g!==-1&&(c.splice(g,1),o(c))}return{isRowExpanded:n,setExpanded:o,updateExpanded:i}}const ki={visibleColumns:Array};function _i(e,t,l){const n=f(()=>{if(e.columns!==void 0)return e.columns;const r=e.rows[0];return r!==void 0?Object.keys(r).map(c=>({name:c,label:c.toUpperCase(),field:c,align:Ll(r[c])?"right":"left",sortable:!0})):[]}),o=f(()=>{const{sortBy:r,descending:c}=t.value;return(e.visibleColumns!==void 0?n.value.filter(u=>u.required===!0||e.visibleColumns.includes(u.name)===!0):n.value).map(u=>{const b=u.align||"right",x=`text-${b}`;return{...u,align:b,__iconClass:`q-table__sort-icon q-table__sort-icon--${b}`,__thClass:x+(u.headerClasses!==void 0?" "+u.headerClasses:"")+(u.sortable===!0?" sortable":"")+(u.name===r?` sorted ${c===!0?"sort-desc":""}`:""),__tdStyle:u.style!==void 0?typeof u.style!="function"?()=>u.style:u.style:()=>null,__tdClass:u.classes!==void 0?typeof u.classes!="function"?()=>x+" "+u.classes:d=>x+" "+u.classes(d):()=>x}})}),i=f(()=>{const r={};return o.value.forEach(c=>{r[c.name]=c}),r}),a=f(()=>e.tableColspan!==void 0?e.tableColspan:o.value.length+(l.value===!0?1:0));return{colList:n,computedCols:o,computedColsMap:i,computedColspan:a}}const tl="q-table__bottom row items-center",ba={};va.forEach(e=>{ba[e]={}});const Nl=me({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...ba,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...je,...oi,...ki,...di,...mi,...wi,...bi,...si},emits:["request","virtualScroll",...ii,...pi,...yi],setup(e,{slots:t,emit:l}){const n=de(),{proxy:{$q:o}}=n,i=Ne(e,o),{inFullscreen:a,toggleFullscreen:r}=ri(),c=f(()=>typeof e.rowKey=="function"?e.rowKey:p=>p[e.rowKey]),g=R(null),u=R(null),b=f(()=>e.grid!==!0&&e.virtualScroll===!0),x=f(()=>" q-table__card"+(i.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),d=f(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":x.value)+(i.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(a.value===!0?" fullscreen scroll":"")),y=f(()=>d.value+(e.loading===!0?" q-table--loading":""));le(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+d.value,()=>{b.value===!0&&u.value!==null&&u.value.reset()});const{innerPagination:F,computedPagination:C,isServerSide:U,requestServerInteraction:j,setPagination:V}=gi(n,Ae),{computedFilterMethod:S}=fi(e,V),{isRowExpanded:_,setExpanded:P,updateExpanded:A}=Ci(e,l),Q=f(()=>{let p=e.rows;if(U.value===!0||p.length===0)return p;const{sortBy:z,descending:G}=C.value;return e.filter&&(p=S.value(p,e.filter,h.value,Ae)),J.value!==null&&(p=ee.value(e.rows===p?p.slice():p,z,G)),p}),q=f(()=>Q.value.length),k=f(()=>{let p=Q.value;if(U.value===!0)return p;const{rowsPerPage:z}=C.value;return z!==0&&(O.value===0&&e.rows!==p?p.length>ie.value&&(p=p.slice(0,ie.value)):p=p.slice(O.value,ie.value)),p}),{hasSelectionMode:$,singleSelection:w,multipleSelection:K,allRowsSelected:Z,someRowsSelected:ne,rowsSelectedNumber:N,isRowSelected:Y,clearSelection:L,updateSelection:W}=Si(e,l,k,c),{colList:te,computedCols:h,computedColsMap:m,computedColspan:M}=_i(e,C,$),{columnToSort:J,computedSortMethod:ee,sort:T}=ci(e,C,te,V),{firstRowIndex:O,lastRowIndex:ie,isFirstPage:E,isLastPage:ce,pagesNumber:_e,computedRowsPerPageOptions:Qe,computedRowsNumber:qe,firstPage:Ke,prevPage:Ee,nextPage:Le,lastPage:We}=hi(n,F,C,U,V,q),et=f(()=>k.value.length===0),Bt=f(()=>{const p={};return va.forEach(z=>{p[z]=e[z]}),p.virtualScrollItemSize===void 0&&(p.virtualScrollItemSize=e.dense===!0?28:48),p});function tt(){b.value===!0&&u.value.reset()}function Me(){if(e.grid===!0)return _l();const p=e.hideHeader!==!0?Pt:null;if(b.value===!0){const G=t["top-row"],X=t["bottom-row"],ae={default:ge=>Nt(ge.item,t.body,ge.index)};if(G!==void 0){const ge=v("tbody",G({cols:h.value}));ae.before=p===null?()=>ge:()=>[p()].concat(ge)}else p!==null&&(ae.before=p);return X!==void 0&&(ae.after=()=>v("tbody",X({cols:h.value}))),v(Yo,{ref:u,class:e.tableClass,style:e.tableStyle,...Bt.value,scrollTarget:e.virtualScrollTarget,items:k.value,type:"__qtable",tableColspan:M.value,onVirtualScroll:Ze},ae)}const z=[Qt()];return p!==null&&z.unshift(p()),ca({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},z)}function xe(p,z){if(u.value!==null){u.value.scrollTo(p,z);return}p=parseInt(p,10);const G=g.value.querySelector(`tbody tr:nth-of-type(${p+1})`);if(G!==null){const X=g.value.querySelector(".q-table__middle.scroll"),ae=G.offsetTop-e.virtualScrollStickySizeStart,ge=ae<X.scrollTop?"decrease":"increase";X.scrollTop=ae,l("virtualScroll",{index:p,from:0,to:F.value.rowsPerPage-1,direction:ge})}}function Ze(p){l("virtualScroll",p)}function lt(){return[v(ha,{class:"q-table__linear-progress",color:e.color,dark:i.value,indeterminate:!0,trackColor:"transparent"})]}function Nt(p,z,G){const X=c.value(p),ae=Y(X);if(z!==void 0)return z(mt({key:X,row:p,pageIndex:G,__trClass:ae?"selected":""}));const ge=t["body-cell"],fe=h.value.map(ke=>{const bt=t[`body-cell-${ke.name}`],yt=bt!==void 0?bt:ge;return yt!==void 0?yt(wl({key:X,row:p,pageIndex:G,col:ke})):v("td",{class:ke.__tdClass(p),style:ke.__tdStyle(p)},Ae(ke,p))});if($.value===!0){const ke=t["body-selection"],bt=ke!==void 0?ke(Kt({key:X,row:p,pageIndex:G})):[v(nl,{modelValue:ae,color:e.color,dark:i.value,dense:e.dense,"onUpdate:modelValue":(yt,ql)=>{W([X],[p],yt,ql)}})];fe.unshift(v("td",{class:"q-table--col-auto-width"},bt))}const Oe={key:X,class:{selected:ae}};return e.onRowClick!==void 0&&(Oe.class["cursor-pointer"]=!0,Oe.onClick=ke=>{l("rowClick",ke,p,G)}),e.onRowDblclick!==void 0&&(Oe.class["cursor-pointer"]=!0,Oe.onDblclick=ke=>{l("rowDblclick",ke,p,G)}),e.onRowContextmenu!==void 0&&(Oe.class["cursor-pointer"]=!0,Oe.onContextmenu=ke=>{l("rowContextmenu",ke,p,G)}),v("tr",Oe,fe)}function Qt(){const p=t.body,z=t["top-row"],G=t["bottom-row"];let X=k.value.map((ae,ge)=>Nt(ae,p,ge));return z!==void 0&&(X=z({cols:h.value}).concat(X)),G!==void 0&&(X=X.concat(G({cols:h.value}))),v("tbody",X)}function mt(p){return $e(p),p.cols=p.cols.map(z=>Ye({...z},"value",()=>Ae(z,p.row))),p}function wl(p){return $e(p),Ye(p,"value",()=>Ae(p.col,p.row)),p}function Kt(p){return $e(p),p}function $e(p){Object.assign(p,{cols:h.value,colsMap:m.value,sort:T,rowIndex:O.value+p.pageIndex,color:e.color,dark:i.value,dense:e.dense}),$.value===!0&&Ye(p,"selected",()=>Y(p.key),(z,G)=>{W([p.key],[p.row],z,G)}),Ye(p,"expand",()=>_(p.key),z=>{A(p.key,z)})}function Ae(p,z){const G=typeof p.field=="function"?p.field(z):z[p.field];return p.format!==void 0?p.format(G,z):G}const De=f(()=>({pagination:C.value,pagesNumber:_e.value,isFirstPage:E.value,isLastPage:ce.value,firstPage:Ke,prevPage:Ee,nextPage:Le,lastPage:We,inFullscreen:a.value,toggleFullscreen:r}));function pl(){const p=t.top,z=t["top-left"],G=t["top-right"],X=t["top-selection"],ae=$.value===!0&&X!==void 0&&N.value>0,ge="q-table__top relative-position row items-center";if(p!==void 0)return v("div",{class:ge},[p(De.value)]);let fe;if(ae===!0?fe=X(De.value).slice():(fe=[],z!==void 0?fe.push(v("div",{class:"q-table__control"},[z(De.value)])):e.title&&fe.push(v("div",{class:"q-table__control"},[v("div",{class:["q-table__title",e.titleClass]},e.title)]))),G!==void 0&&(fe.push(v("div",{class:"q-table__separator col"})),fe.push(v("div",{class:"q-table__control"},[G(De.value)]))),fe.length!==0)return v("div",{class:ge},fe)}const gt=f(()=>ne.value===!0?null:Z.value);function Pt(){const p=Wt();return e.loading===!0&&t.loading===void 0&&p.push(v("tr",{class:"q-table__progress"},[v("th",{class:"relative-position",colspan:M.value},lt())])),v("thead",p)}function Wt(){const p=t.header,z=t["header-cell"];if(p!==void 0)return p(ht({header:!0})).slice();const G=h.value.map(X=>{const ae=t[`header-cell-${X.name}`],ge=ae!==void 0?ae:z,fe=ht({col:X});return ge!==void 0?ge(fe):v(cn,{key:X.name,props:fe},()=>X.label)});if(w.value===!0&&e.grid!==!0)G.unshift(v("th",{class:"q-table--col-auto-width"}," "));else if(K.value===!0){const X=t["header-selection"],ae=X!==void 0?X(ht({})):[v(nl,{color:e.color,modelValue:gt.value,dark:i.value,dense:e.dense,"onUpdate:modelValue":Tt})];G.unshift(v("th",{class:"q-table--col-auto-width"},ae))}return[v("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},G)]}function ht(p){return Object.assign(p,{cols:h.value,sort:T,colsMap:m.value,color:e.color,dark:i.value,dense:e.dense}),K.value===!0&&Ye(p,"selected",()=>gt.value,Tt),p}function Tt(p){ne.value===!0&&(p=!1),W(k.value.map(c.value),k.value,p)}const nt=f(()=>{const p=[e.iconFirstPage||o.iconSet.table.firstPage,e.iconPrevPage||o.iconSet.table.prevPage,e.iconNextPage||o.iconSet.table.nextPage,e.iconLastPage||o.iconSet.table.lastPage];return o.lang.rtl===!0?p.reverse():p});function Zt(){if(e.hideBottom===!0)return;if(et.value===!0){if(e.hideNoData===!0)return;const G=e.loading===!0?e.loadingLabel||o.lang.table.loading:e.filter?e.noResultsLabel||o.lang.table.noResults:e.noDataLabel||o.lang.table.noData,X=t["no-data"],ae=X!==void 0?[X({message:G,icon:o.iconSet.table.warning,filter:e.filter})]:[v(Te,{class:"q-table__bottom-nodata-icon",name:o.iconSet.table.warning}),G];return v("div",{class:tl+" q-table__bottom--nodata"},ae)}const p=t.bottom;if(p!==void 0)return v("div",{class:tl},[p(De.value)]);const z=e.hideSelectedBanner!==!0&&$.value===!0&&N.value>0?[v("div",{class:"q-table__control"},[v("div",[(e.selectedRowsLabel||o.lang.table.selectedRecords)(N.value)])])]:[];if(e.hidePagination!==!0)return v("div",{class:tl+" justify-end"},kl(z));if(z.length!==0)return v("div",{class:tl},z)}function Cl(p){V({page:1,rowsPerPage:p.value})}function kl(p){let z;const{rowsPerPage:G}=C.value,X=e.paginationLabel||o.lang.table.pagination,ae=t.pagination,ge=e.rowsPerPageOptions.length>1;if(p.push(v("div",{class:"q-table__separator col"})),ge===!0&&p.push(v("div",{class:"q-table__control"},[v("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||o.lang.table.recordsPerPage]),v(ni,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:G,options:Qe.value,displayValue:G===0?o.lang.table.allRows:G,dark:i.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Cl})])),ae!==void 0)z=ae(De.value);else if(z=[v("span",G!==0?{class:"q-table__bottom-item"}:{},[G?X(O.value+1,Math.min(ie.value,qe.value),qe.value):X(1,q.value,qe.value)])],G!==0&&_e.value>1){const fe={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(fe.size="sm"),_e.value>2&&z.push(v(re,{key:"pgFirst",...fe,icon:nt.value[0],disable:E.value,onClick:Ke})),z.push(v(re,{key:"pgPrev",...fe,icon:nt.value[1],disable:E.value,onClick:Ee}),v(re,{key:"pgNext",...fe,icon:nt.value[2],disable:ce.value,onClick:Le})),_e.value>2&&z.push(v(re,{key:"pgLast",...fe,icon:nt.value[3],disable:ce.value,onClick:We}))}return p.push(v("div",{class:"q-table__control"},z)),p}function Gt(){const p=e.gridHeader===!0?[v("table",{class:"q-table"},[Pt()])]:e.loading===!0&&t.loading===void 0?lt():void 0;return v("div",{class:"q-table__middle"},p)}function _l(){const p=t.item!==void 0?t.item:z=>{const G=z.cols.map(ae=>v("div",{class:"q-table__grid-item-row"},[v("div",{class:"q-table__grid-item-title"},[ae.label]),v("div",{class:"q-table__grid-item-value"},[ae.value])]));if($.value===!0){const ae=t["body-selection"],ge=ae!==void 0?ae(z):[v(nl,{modelValue:z.selected,color:e.color,dark:i.value,dense:e.dense,"onUpdate:modelValue":(fe,Oe)=>{W([z.key],[z.row],fe,Oe)}})];G.unshift(v("div",{class:"q-table__grid-item-row"},ge),v(jo,{dark:i.value}))}const X={class:["q-table__grid-item-card"+x.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0||e.onRowContextmenu!==void 0)&&(X.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(X.onClick=ae=>{l("RowClick",ae,z.row,z.pageIndex)}),e.onRowDblclick!==void 0&&(X.onDblclick=ae=>{l("RowDblclick",ae,z.row,z.pageIndex)}),e.onRowContextmenu!==void 0&&(X.onContextmenu=ae=>{l("rowContextmenu",ae,z.row,z.pageIndex)})),v("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(z.selected===!0?" q-table__grid-item--selected":"")},[v("div",X,G)])};return v("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},k.value.map((z,G)=>p(mt({key:c.value(z),row:z,pageIndex:G}))))}return Object.assign(n.proxy,{requestServerInteraction:j,setPagination:V,firstPage:Ke,prevPage:Ee,nextPage:Le,lastPage:We,isRowSelected:Y,clearSelection:L,isRowExpanded:_,setExpanded:P,sort:T,resetVirtualScroll:tt,scrollTo:xe,getCellValue:Ae}),Ha(n.proxy,{filteredSortedRows:()=>Q.value,computedRows:()=>k.value,computedRowsNumber:()=>qe.value}),()=>{const p=[pl()],z={ref:g,class:y.value};return e.grid===!0?p.push(Gt()):Object.assign(z,{class:[z.class,e.cardClass],style:e.cardStyle}),p.push(Me(),Zt()),e.loading===!0&&t.loading!==void 0&&p.push(t.loading()),v("div",z,p)}}}),qi=me({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const l=f(()=>{const n=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(o=>e[o]===!0).map(o=>`q-btn-group--${o}`).join(" ");return`q-btn-group row no-wrap${n.length!==0?" "+n:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>v("div",{class:l.value},we(t.default))}}),xi=zn("callList",()=>{const e=R([]),t=R(!1),l=R(0),n=R(!1),o=R(null),i=an(),a=f(()=>{const d=new Set;return e.value.filter(y=>{const F=d.has(y.phone_number);return d.add(y.phone_number),!F})});function r(d){(Array.isArray(d)?d:[d]).forEach(F=>{e.value.some(C=>C.phone_number===F.phone_number)||e.value.push(F)})}function c(d){e.value=e.value.filter(y=>y.phone_number!==d.phone_number)}function g(d){const y=Array.isArray(d)?d:[d];e.value=e.value.filter(F=>!y.some(C=>C.phone_number===F.phone_number))}async function u(){t.value=!0,l.value=0,n.value=!1;const d=a.value;try{for(const[y,F]of d.entries()){if(n.value)break;l.value=y,o.value=F;const C=await ot.post("/make_call",{phone_number:F.phone_number});await i.recordCall(F.phone_number,C.data),await new Promise(U=>setTimeout(U,1e3))}}catch(y){throw console.error("Failed to complete calls:",y),y}finally{t.value=!1,o.value=null,l.value=0,n.value=!1}}function b(){n.value=!0}function x(){e.value=[]}return{callList:a,calling:t,currentCallIndex:l,currentUser:o,shouldCancelCalls:n,addToCallList:r,removeFromCallList:c,removeSelectedFromCallList:g,callAllInList:u,cancelCalls:b,clearCallList:x}}),Rl=me({name:"QSpace",setup(){const e=v("div",{class:"q-space"});return()=>e}}),Vi=e=>{if(!e)return"-";try{return new Date(e).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}catch(t){return console.error("Error formatting date:",t),"-"}},Xe=e=>{if(!e)return"-";try{return Vi(e)}catch(t){return console.error("Error formatting date with timezone:",t),"-"}},Fi=Nn({name:"CallHistoryDialog",props:{modelValue:{type:Boolean,required:!0},user:{type:Object,required:!0},loading:{type:Boolean,default:!1}},emits:[],setup(e,{emit:t}){const l=an(),n=f({get:()=>e.modelValue,set:S=>t("update:modelValue",S)}),o=R(!1),i=R(!1),a=R(null),r=R(null),c=R(""),g=R({timestamp:"",call_status:"",call_duration:"",extracted_info:"",actions:""}),u=[{name:"timestamp",required:!0,label:"Date & Time",align:"left",field:"timestamp",format:S=>Xe(S),sortable:!0},{name:"call_status",required:!0,label:"Status",align:"left",field:"call_status",sortable:!0},{name:"call_duration",label:"Duration",align:"left",field:"call_duration",sortable:!0},{name:"extracted_info",label:"Extracted Information",align:"left",field:"extracted_info",style:"width: 300px"},{name:"actions",label:"Actions",align:"center",field:S=>S}],b=S=>Object.entries(g.value).every(([_,P])=>{if(!P||_==="actions")return!0;const A=P.toLowerCase();let Q=S[_];return _==="timestamp"&&Q?Xe(Q).toLowerCase().includes(A):_==="extracted_info"?JSON.stringify(Q||{}).toLowerCase().includes(A):_==="call_duration"&&Q!=null?y(Q).toLowerCase().includes(A):String(Q||"").toLowerCase().includes(A)}),x=f(()=>{if(!e.user?.call_history)return[];const S=[...e.user.call_history].sort((P,A)=>new Date(A.timestamp)-new Date(P.timestamp)),_=c.value.toLowerCase();return S.filter(P=>{const A=b(P);if(!_)return A;const Q=Xe(P.timestamp).toLowerCase().includes(_)||String(P.call_status||"").toLowerCase().includes(_)||y(P.call_duration).toLowerCase().includes(_)||JSON.stringify(P.extracted_info||{}).toLowerCase().includes(_);return A&&Q})}),d=S=>({completed:"positive",failed:"negative","in-progress":"warning",cancelled:"grey"})[S?.toLowerCase()]||"grey",y=S=>{if(!S)return"-";const _=Math.floor(S/60),P=Math.floor(S%60);return`${_}:${P.toString().padStart(2,"0")}`},F=S=>S.split("_").map(_=>_.charAt(0).toUpperCase()+_.slice(1)).join(" "),C=S=>{if(!S)return;const _=S.split("/").pop();r.value=`/recordings/combined/${encodeURIComponent(_)}`,i.value=!0},U=S=>{a.value=S,o.value=!0},j=async()=>{e.user?.phone_number&&await l.fetchUsers()},V=()=>{c.value="",Object.keys(g.value).forEach(S=>{g.value[S]=""})};return le(()=>e.modelValue,S=>{S&&V()}),{show:n,filter:c,columns:u,columnFilters:g,filteredCalls:x,selectedCall:a,showTranscriptionDialog:o,showAudioDialog:i,currentAudioUrl:r,getStatusColor:d,formatDuration:y,formatFieldName:F,playAudio:C,showTranscription:U,clearFilters:V,refreshUserData:j}}}),Bi={class:"text-subtitle1 q-mb-md"},Pi={class:"row full-width q-gutter-sm"},Ti={class:"row full-width q-gutter-sm q-mt-sm"},Ai={key:0,class:"text-caption"},Mi={class:"text-weight-medium"},Ri={key:1,class:"text-grey"},Ei={class:"conversation-text",style:{"white-space":"pre-line"}},Li=["src"];function $i(e,t,l,n,o,i){return he(),ut(Je,{modelValue:e.show,"onUpdate:modelValue":t[3]||(t[3]=a=>e.show=a),maximized:"",onShow:e.refreshUserData},{default:D(()=>[B(st,null,{default:D(()=>[B(Re,{class:"row items-center q-pb-none"},{default:D(()=>[t[4]||(t[4]=ve("div",{class:"text-h6"},"Call History",-1)),B(Rl),Et(B(re,{icon:"close",flat:"",round:"",dense:""},null,512),[[Dt]])]),_:1}),B(Re,null,{default:D(()=>[ve("div",Bi,Ve(e.user?.name||e.user?.phone_number),1),B(Nl,{rows:e.filteredCalls,columns:e.columns,"row-key":"timestamp",loading:e.loading},{top:D(()=>[ve("div",Pi,[B(ft,{dense:"",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":t[0]||(t[0]=a=>e.filter=a),placeholder:"Global search",class:"col-grow",clearable:""},{append:D(()=>[B(Te,{name:"search"})]),_:1},8,["modelValue"])]),ve("div",Ti,[(he(!0),Fe(qt,null,Lt(e.columns.filter(a=>a.name!=="actions"),a=>(he(),Fe("div",{key:a.name,class:"col"},[B(ft,{dense:"",debounce:"300",modelValue:e.columnFilters[a.name],"onUpdate:modelValue":r=>e.columnFilters[a.name]=r,placeholder:`Filter ${a.label}`,clearable:""},{append:D(()=>[B(Te,{name:"filter_alt",size:"xs"})]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])]))),128))])]),header:D(a=>[B(aa,{props:a},{default:D(()=>[(he(!0),Fe(qt,null,Lt(a.cols,r=>(he(),ut(cn,{key:r.name,props:a},{default:D(()=>[ze(Ve(r.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),"body-cell-call_status":D(a=>[B(it,{props:a},{default:D(()=>[B(ga,{color:e.getStatusColor(a.value),"text-color":"white",dense:"",class:"q-px-sm"},{default:D(()=>[ze(Ve(a.value),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-call_duration":D(a=>[B(it,{props:a},{default:D(()=>[ze(Ve(e.formatDuration(a.value)),1)]),_:2},1032,["props"])]),"body-cell-timestamp":D(a=>[B(it,{props:a},{default:D(()=>[ze(Ve(a.value),1)]),_:2},1032,["props"])]),"body-cell-extracted_info":D(a=>[B(it,{props:a},{default:D(()=>[a.row.extracted_info?(he(),Fe("div",Ai,[(he(!0),Fe(qt,null,Lt(a.row.extracted_info,(r,c)=>(he(),Fe("div",{key:c,class:"extracted-info-item"},[ve("span",Mi,Ve(e.formatFieldName(c))+":",1),ve("span",null,Ve(r),1)]))),128))])):(he(),Fe("span",Ri,"No information extracted"))]),_:2},1032,["props"])]),"body-cell-actions":D(a=>[B(it,{props:a,class:"q-gutter-sm"},{default:D(()=>[B(re,{flat:"",round:"",dense:"",color:"primary",icon:"play_arrow",onClick:r=>e.playAudio(a.row.audio_file_name),disable:!a.row.audio_file_name},{default:D(()=>[B(_t,null,{default:D(()=>t[5]||(t[5]=[ze("Play Recording")])),_:1})]),_:2},1032,["onClick","disable"]),B(re,{flat:"",round:"",dense:"",color:"info",icon:"chat",onClick:r=>e.showTranscription(a.row),disable:!a.row.conversation},{default:D(()=>[B(_t,null,{default:D(()=>t[6]||(t[6]=[ze("View Transcription")])),_:1})]),_:2},1032,["onClick","disable"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])]),_:1})]),_:1}),B(Je,{modelValue:e.showTranscriptionDialog,"onUpdate:modelValue":t[1]||(t[1]=a=>e.showTranscriptionDialog=a)},{default:D(()=>[B(st,{style:{"min-width":"350px","max-width":"600px"}},{default:D(()=>[B(Re,{class:"row items-center q-pb-none"},{default:D(()=>[t[7]||(t[7]=ve("div",{class:"text-h6"},"Call Transcription",-1)),B(Rl),Et(B(re,{icon:"close",flat:"",round:"",dense:""},null,512),[[Dt]])]),_:1}),B(Re,{class:"q-pt-md"},{default:D(()=>[ve("div",Ei,Ve(e.selectedCall?.conversation),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),B(Je,{modelValue:e.showAudioDialog,"onUpdate:modelValue":t[2]||(t[2]=a=>e.showAudioDialog=a)},{default:D(()=>[B(st,{style:{"min-width":"350px"}},{default:D(()=>[B(Re,{class:"row items-center"},{default:D(()=>[t[8]||(t[8]=ve("div",{class:"text-h6"},"Call Recording",-1)),B(Rl),Et(B(re,{icon:"close",flat:"",round:"",dense:""},null,512),[[Dt]])]),_:1}),B(Re,{class:"q-pt-none"},{default:D(()=>[e.currentAudioUrl?(he(),Fe("audio",{key:0,controls:"",class:"full-width",src:e.currentAudioUrl}," Your browser does not support the audio element. ",8,Li)):Qn("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","onShow"])}const Di=Sl(Fi,[["render",$i],["__scopeId","data-v-51b9f9c6"]]),Oi=Nn({name:"UsersTable",components:{CallHistoryDialog:Di},props:{users:{type:Array,required:!0},loading:{type:Boolean,default:!1}},emits:["edit","delete","call","bulk-delete"],setup(e,{emit:t}){const l=ea(),n=xi(),o=R([]),i=R([]),a=R(!1),r=R(null),c=R(""),g=R({select:"",name:"",phone_number:"",created_at:"",last_call:"",actions:""}),u=[{name:"select",label:"",field:"select",sortable:!1,filterable:!1},{name:"name",required:!0,label:"Name",align:"left",field:"name",format:S=>S||"-",sortable:!0,filterable:!0},{name:"phone_number",required:!0,label:"Phone",align:"left",field:"phone_number",sortable:!0,filterable:!0},{name:"created_at",label:"Added On",align:"left",field:"created_at",format:S=>Xe(S),sortable:!0,filterable:!0},{name:"last_call",label:"Last Call",align:"left",field:S=>S.call_history?.[0]?.timestamp||null,format:S=>S?Xe(S):"Never",sortable:!0,filterable:!0},{name:"actions",label:"Actions",align:"center",sortable:!1,filterable:!1}],b=S=>S==="actions"?"width: 150px":"",x=()=>!Object.values(g.value).some(_=>_&&_.trim()!=="")&&!c.value?()=>!0:_=>Object.entries(g.value).every(([P,A])=>{if(!u.find($=>$.name===P)?.filterable||!A||A.trim()==="")return!0;const q=A.toLowerCase();let k=_[P];return P==="last_call"&&(k=_.call_history?.[0]?.timestamp),P==="created_at"||P==="last_call"?k?Xe(k).toLowerCase().includes(q):!1:String(k||"").toLowerCase().includes(q)}),d=f(()=>{const S=e.users,_=x(),P=c.value.toLowerCase();return S.filter(A=>_(A)&&(!P||A.name.toLowerCase().includes(P)||A.phone_number.toLowerCase().includes(P)||Xe(A.created_at).toLowerCase().includes(P)||A.call_history?.[0]?.timestamp&&Xe(A.call_history?.[0]?.timestamp).toLowerCase().includes(P)))}),y=()=>{t("bulk-delete",o.value)},F=()=>{n.addToCallList(o.value),o.value=[]},C=S=>{n.removeFromCallList(S)},U=()=>{n.removeSelectedFromCallList(i.value),i.value=[]},j=async()=>{try{await n.callAllInList(),l.notify({type:"positive",message:"All calls completed successfully"})}catch(S){l.notify({type:"negative",message:`Failed to complete calls: ${S.message}`})}},V=S=>{r.value=S,a.value=!0};return{columns:u,selected:o,selectedCallListUsers:i,showCallHistoryDialog:a,selectedUser:r,filter:c,columnFilters:g,callList:f(()=>n.callList),calling:f(()=>n.calling),callListStore:n,filteredUsers:d,onDeleteSelected:y,addSelectedToCallList:F,removeFromCallList:C,removeSelectedFromCallList:U,callAllInList:j,showCallHistory:V,getColumnStyle:b}}}),zi={class:"q-mb-md"},Ii={class:"row q-mb-md"},Hi={class:"row full-width q-gutter-sm"},Ui={class:"row full-width q-gutter-sm q-mt-sm"},ji={class:"row q-mb-md items-center"},Ni={class:"full-width row flex-center text-grey q-gutter-sm q-pa-md"},Qi={key:0,class:"q-ml-md"},Ki={key:1,class:"q-ml-md"};function Wi(e,t,l,n,o,i){const a=$l("call-history-dialog");return he(),Fe("div",null,[ve("div",zi,[ve("div",Ii,[B(re,{color:"negative",icon:"delete",label:"Delete Selected",onClick:e.onDeleteSelected,disable:e.selected.length===0,class:"q-mr-sm"},null,8,["onClick","disable"]),B(re,{color:"primary",icon:"add",label:"Add to Call List",onClick:e.addSelectedToCallList,disable:e.selected.length===0,class:"q-mr-sm"},null,8,["onClick","disable"])]),B(Nl,{rows:e.filteredUsers,columns:e.columns,"row-key":"phone_number",loading:e.loading,selection:"multiple",selected:e.selected,"onUpdate:selected":t[1]||(t[1]=r=>e.selected=r),filter:e.filter},{top:D(()=>[ve("div",Hi,[B(ft,{dense:"",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":t[0]||(t[0]=r=>e.filter=r),placeholder:"Global search",class:"col-grow"},{append:D(()=>[B(Te,{name:"search"})]),_:1},8,["modelValue"])]),ve("div",Ui,[(he(!0),Fe(qt,null,Lt(e.columns,r=>(he(),Fe("div",{key:r.name,class:Kn(r.name==="select"||r.name==="actions"?"col-auto":"col")},[r.filterable?(he(),ut(ft,{key:0,dense:"",debounce:"300",modelValue:e.columnFilters[r.name],"onUpdate:modelValue":c=>e.columnFilters[r.name]=c,placeholder:`Filter ${r.label}`,clearable:"",onInput:e.applyColumnFilters},{append:D(()=>[B(Te,{name:"filter_alt",size:"xs"})]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","onInput"])):Qn("",!0)],2))),128))])]),header:D(r=>[B(aa,{props:r},{default:D(()=>[(he(!0),Fe(qt,null,Lt(r.cols,c=>(he(),ut(cn,{key:c.name,props:r,style:Ua(e.getColumnStyle(c.name))},{default:D(()=>[c.name==="select"?(he(),ut(nl,{key:0,modelValue:r.selected,"onUpdate:modelValue":g=>r.selected=g},null,8,["modelValue","onUpdate:modelValue"])):(he(),Fe(qt,{key:1},[ze(Ve(c.label),1)],64))]),_:2},1032,["props","style"]))),128))]),_:2},1032,["props"])]),"body-cell-actions":D(r=>[B(it,{props:r,class:"q-gutter-sm"},{default:D(()=>[B(re,{flat:"",round:"",dense:"",color:"info",icon:"history",onClick:c=>e.showCallHistory(r.row),disable:!r.row.call_history?.length},{default:D(()=>[B(_t,null,{default:D(()=>t[7]||(t[7]=[ze("View Call History")])),_:1})]),_:2},1032,["onClick","disable"]),B(re,{flat:"",round:"",dense:"",color:"primary",icon:"phone",onClick:c=>e.$emit("call",r.row)},{default:D(()=>[B(_t,null,{default:D(()=>t[8]||(t[8]=[ze("Call Client")])),_:1})]),_:2},1032,["onClick"]),B(re,{flat:"",round:"",dense:"",color:"warning",icon:"edit",onClick:c=>e.$emit("edit",r.row)},{default:D(()=>[B(_t,null,{default:D(()=>t[9]||(t[9]=[ze("Edit Client")])),_:1})]),_:2},1032,["onClick"]),B(re,{flat:"",round:"",dense:"",color:"negative",icon:"delete",onClick:c=>e.$emit("delete",r.row)},{default:D(()=>[B(_t,null,{default:D(()=>t[10]||(t[10]=[ze("Delete Client")])),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading","selected","filter"])]),ve("div",null,[ve("div",ji,[t[11]||(t[11]=ve("div",{class:"text-h6 q-mr-md"},"Call List",-1)),B(re,{color:"negative",icon:"clear",label:"Clear List",onClick:t[2]||(t[2]=r=>e.callListStore.clearCallList()),disable:e.callList.length===0,class:"q-mr-sm"},null,8,["disable"]),B(re,{color:"negative",icon:"delete",label:"Delete Selected",onClick:e.removeSelectedFromCallList,disable:e.selectedCallListUsers.length===0,class:"q-mr-sm"},null,8,["onClick","disable"]),B(re,{color:"primary",icon:"phone",label:"Call All",onClick:e.callAllInList,disable:e.callList.length===0||e.calling,loading:e.calling},null,8,["onClick","disable","loading"])]),B(Nl,{rows:e.callList,columns:e.columns,"row-key":"phone_number",selection:"multiple",selected:e.selectedCallListUsers,"onUpdate:selected":t[3]||(t[3]=r=>e.selectedCallListUsers=r)},{"body-cell-actions":D(r=>[B(it,{props:r},{default:D(()=>[B(qi,{flat:""},{default:D(()=>[B(re,{flat:"",round:"",color:"negative",icon:"delete",onClick:c=>e.removeFromCallList(r.row)},null,8,["onClick"]),B(re,{flat:"",round:"",color:"secondary",icon:"phone",onClick:c=>e.$emit("call",r.row)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),"no-data":D(()=>[ve("div",Ni,[B(Te,{size:"2em",name:"list"}),t[12]||(t[12]=ve("span",null,"No clients in call list",-1))])]),_:1},8,["rows","columns","selected"])]),B(Je,{persistent:"",modelValue:e.callListStore.calling,"onUpdate:modelValue":t[5]||(t[5]=r=>e.callListStore.calling=r)},{default:D(()=>[B(st,{style:{"min-width":"350px"}},{default:D(()=>[B(Re,{class:"row items-center"},{default:D(()=>[B(Dl,{icon:"phone",color:"primary","text-color":"white"}),e.callListStore.currentUser?(he(),Fe("span",Qi," Calling "+Ve(e.callListStore.currentUser.name||e.callListStore.currentUser.phone_number)+" ("+Ve(e.callListStore.currentCallIndex+1)+" of "+Ve(e.callList.length)+") ",1)):(he(),Fe("span",Ki," Initializing calls... "))]),_:1}),B(Re,null,{default:D(()=>[B(ha,{value:e.callList.length?(e.callListStore.currentCallIndex+1)/e.callList.length:0,color:"primary",class:"q-mt-md"},null,8,["value"])]),_:1}),B(Il,{align:"right"},{default:D(()=>[B(re,{flat:"",label:"Cancel Remaining",color:"negative",onClick:t[4]||(t[4]=r=>e.callListStore.cancelCalls()),disable:e.callListStore.shouldCancelCalls},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),B(a,{modelValue:e.showCallHistoryDialog,"onUpdate:modelValue":t[6]||(t[6]=r=>e.showCallHistoryDialog=r),user:e.selectedUser,loading:!1},null,8,["modelValue","user"])])}const Zi=Sl(Oi,[["render",Wi],["__scopeId","data-v-6d7d490b"]]),Gi={name:"UsersPage",components:{UserForm:Ao,UsersTable:Zi},setup(){const e=ea(),t=an(),l=R(!1),n=R(!1),o=R(!1),i=R(null),a=R(null),r=R(!1),c=R(!1),g=R(null),u=()=>{l.value=!1,o.value=!1,i.value=null,a.value=null,r.value=!1},b=V=>{i.value={...V},r.value=!0,l.value=!0},x=V=>{i.value=V,a.value=null,n.value=!0},d=V=>{a.value=V,i.value=null,n.value=!0},y=async()=>{try{if(a.value){for(const V of a.value)await t.deleteUser(V.phone_number);e.notify({type:"positive",message:`${a.value.length} clients deleted successfully`}),g.value&&(g.value.selected=[])}else await t.deleteUser(i.value.phone_number),e.notify({type:"positive",message:"Client deleted successfully"});n.value=!1,i.value=null,a.value=null}catch(V){console.error("Delete error:",V),e.notify({type:"negative",message:`Failed to delete client(s): ${V.message}`})}},F=V=>{i.value=V,o.value=!0},C=async()=>{c.value=!0;try{const V=await ot.post("/make_call",{phone_number:i.value.phone_number});await t.recordCall(i.value.phone_number,V.data),e.notify({type:"positive",message:`Call to ${i.value.name||i.value.phone_number} completed successfully`}),o.value=!1}catch(V){console.error("Call error:",V),e.notify({type:"negative",message:`Failed to make call: ${V.message}`})}finally{c.value=!1,i.value=null}},U=f(()=>({persistent:!0,seamless:!1,"no-click-outside":!0})),j=async V=>{try{r.value?(await t.updateUser(i.value.phone_number,V),e.notify({type:"positive",message:"Client updated successfully"})):(await t.createUser(V),e.notify({type:"positive",message:"Client added successfully"})),u()}catch(S){console.error("Submit error:",S),e.notify({type:"negative",message:`${r.value?"Failed to update":"Failed to add"} client: ${S.message}`})}};return Ue(()=>{t.fetchUsers()}),{users:f(()=>t.users),loading:f(()=>t.loading),showAddDialog:l,showDeleteDialog:n,showCallDialog:o,selectedUser:i,bulkDeleteUsers:a,editMode:r,calling:c,callDialogProps:U,closeDialog:u,editUser:b,confirmDelete:x,confirmBulkDelete:d,deleteUser:y,makeCall:F,confirmCall:C,onSubmit:j,usersTableRef:g}}},Yi={class:"row items-center justify-between q-mb-md"},Xi={class:"text-h6"},Ji={class:"q-ml-sm"},er={class:"q-ml-sm"};function tr(e,t,l,n,o,i){const a=$l("users-table"),r=$l("user-form");return he(),ut(uo,{padding:"",class:"full-width"},{default:D(()=>[ve("div",Yi,[t[4]||(t[4]=ve("h1",{class:"text-h4 q-my-none"},"Clients",-1)),B(re,{color:"primary",icon:"add",label:"Add Client",onClick:t[0]||(t[0]=c=>n.showAddDialog=!0)})]),B(a,{users:n.users,loading:n.loading,onEdit:n.editUser,onDelete:n.confirmDelete,onCall:n.makeCall,onBulkDelete:n.confirmBulkDelete,ref:"usersTableRef",class:"full-width"},null,8,["users","loading","onEdit","onDelete","onCall","onBulkDelete"]),B(Je,{modelValue:n.showAddDialog,"onUpdate:modelValue":t[1]||(t[1]=c=>n.showAddDialog=c)},{default:D(()=>[B(st,{style:{"min-width":"350px"}},{default:D(()=>[B(Re,null,{default:D(()=>[ve("div",Xi,Ve(n.editMode?"Edit Client":"Add Client"),1)]),_:1}),B(Re,null,{default:D(()=>[B(r,{"initial-data":n.selectedUser,"edit-mode":n.editMode,onSubmit:n.onSubmit,onCancel:n.closeDialog},null,8,["initial-data","edit-mode","onSubmit","onCancel"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),B(Je,{modelValue:n.showDeleteDialog,"onUpdate:modelValue":t[2]||(t[2]=c=>n.showDeleteDialog=c)},{default:D(()=>[B(st,null,{default:D(()=>[B(Re,{class:"row items-center"},{default:D(()=>[B(Dl,{icon:"warning",color:"negative","text-color":"white"}),ve("span",Ji,Ve(n.bulkDeleteUsers?`Are you sure you want to delete ${n.bulkDeleteUsers.length} selected clients?`:"Are you sure you want to delete this client?"),1)]),_:1}),B(Il,{align:"right"},{default:D(()=>[Et(B(re,{flat:"",label:"Cancel",color:"primary"},null,512),[[Dt]]),B(re,{flat:"",label:"Delete",color:"negative",onClick:n.deleteUser},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),B(Je,ja({modelValue:n.showCallDialog,"onUpdate:modelValue":t[3]||(t[3]=c=>n.showCallDialog=c)},n.callDialogProps,{class:"call-dialog"}),{default:D(()=>[B(st,{class:Kn({"calling-card":n.calling}),style:{"min-width":"350px"}},{default:D(()=>[B(Re,{class:"row items-center"},{default:D(()=>[B(Dl,{icon:"phone",color:"primary","text-color":"white"}),ve("span",er,"Confirm call to "+Ve(n.selectedUser?.name||n.selectedUser?.phone_number)+"?",1)]),_:1}),B(Il,{align:"right"},{default:D(()=>[Et(B(re,{flat:"",label:"Cancel",color:"primary",disable:n.calling},null,8,["disable"]),[[Dt]]),B(re,{loading:n.calling,flat:"",label:"Call",color:"positive",onClick:n.confirmCall,disable:n.calling},null,8,["loading","onClick","disable"])]),_:1})]),_:1},8,["class"])]),_:1},16,["modelValue"])]),_:1})}const or=Sl(Gi,[["render",tr],["__scopeId","data-v-030d6bde"]]);export{or as default};
