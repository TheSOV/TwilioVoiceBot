import{c as ge,a as f,h as m,b as ye,g as de,X as Pt,d as Be,e as be,Y as bn,Z as Ht,r as E,G as ta,_ as Qe,$ as la,a0 as na,a1 as aa,s as Xt,a2 as Yt,w as le,a3 as Ut,a4 as yn,a5 as oa,a6 as ia,f as Nt,j as dt,k as ra,E as ua,p as sa,a7 as ca,a8 as Sn,i as da,o as Oe,a9 as wn,aa as Cn,ab as pn,A as Ve,ac as Jt,x as Le,Q as $e,ad as fa,ae as kn,y as Ne,D as va,I as xn,J as xt,K as ue,M as Q,R as _e,S as ve,m as ma,n as ga,af as _l,l as _t,H as el,ag as Vl,ah as Bl,C as ha,ai as ba,aj as ya,u as Ol,q as Sa,v as wa,ak as Ct,al as Ca,am as ft,an as pa,ao as Dl,ap as Sl,aq as Il,ar as ka,as as xa,at as qa,T as cl,au as wl,O as mt,P as zl,B as Hl,W as _a,av as Va}from"./index-NDjkn_lC.js";import{a as De,d as Ie,u as qn,b as _n,e as Vn,f as Bn,g as Ba,h as Pa,s as Pn,j as Mn,p as Ma,c as Ra,m as Fa,q as jl,Q as Aa,n as Ea,o as Ta}from"./QItem-DaAwDfh1.js";import{api as Ye}from"./axios-DHIjbE84.js";const vt=ge({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const l=f(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>m(e.tag,{class:l.value},ye(t.default))}}),jt=ge({name:"QCard",props:{...De,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:l}}=de(),n=Ie(e,l),o=f(()=>"q-card"+(n.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>m(e.tag,{class:o.value},ye(t.default))}});function Rn(){let e;const t=de();function l(){e=void 0}return Pt(l),Be(l),{removeTick:l,registerTick(n){e=n,be(()=>{e===n&&(bn(t)===!1&&e(),e=void 0)})}}}const Fn={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function An(e,t=()=>{},l=()=>{}){return{transitionProps:f(()=>{const n=`q-transition--${e.transitionShow||t()}`,o=`q-transition--${e.transitionHide||l()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${o}-leave-from`,leaveActiveClass:`${o}-leave-active`,leaveToClass:`${o}-leave-to`}}),transitionStyle:f(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let Je=[],Vt=[];function En(e){Vt=Vt.filter(t=>t!==e)}function La(e){En(e),Vt.push(e)}function Ul(e){En(e),Vt.length===0&&Je.length!==0&&(Je[Je.length-1](),Je=[])}function Mt(e){Vt.length===0?e():Je.push(e)}function $a(e){Je=Je.filter(t=>t!==e)}const gt=[];function Oa(e){return gt.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function Tn(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return Ht(e)}else if(e.__qPortal===!0){const l=Ht(e);return l!==void 0&&l.$options.name==="QPopupProxy"?(e.hide(t),l):e}e=Ht(e)}while(e!=null)}function Da(e,t,l){for(;l!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(l--,e.$options.name==="QMenu"){e=Tn(e,t);continue}e.hide(t)}e=Ht(e)}}const Ia=ge({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function za(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Ln(e,t,l,n){const o=E(!1),i=E(!1);let a=null;const s={},d=n==="dialog"&&za(e);function b(h){if(h===!0){Ul(s),i.value=!0;return}i.value=!1,o.value===!1&&(d===!1&&a===null&&(a=na(!1,n)),o.value=!0,gt.push(e.proxy),La(s))}function u(h){if(i.value=!1,h!==!0)return;Ul(s),o.value=!1;const C=gt.indexOf(e.proxy);C!==-1&&gt.splice(C,1),a!==null&&(aa(a),a=null)}return ta(()=>{u(!0)}),e.proxy.__qPortal=!0,Qe(e.proxy,"contentEl",()=>t.value),{showPortal:b,hidePortal:u,portalIsActive:o,portalIsAccessible:i,renderPortal:()=>d===!0?l():o.value===!0?[m(la,{to:a},m(Ia,l))]:void 0}}const et=[];let bt;function Ha(e){bt=e.keyCode===27}function ja(){bt===!0&&(bt=!1)}function Ua(e){bt===!0&&(bt=!1,Yt(e,27)===!0&&et[et.length-1](e))}function $n(e){window[e]("keydown",Ha),window[e]("blur",ja),window[e]("keyup",Ua),bt=!1}function On(e){Xt.is.desktop===!0&&(et.push(e),et.length===1&&$n("addEventListener"))}function Qt(e){const t=et.indexOf(e);t!==-1&&(et.splice(t,1),et.length===0&&$n("removeEventListener"))}const tt=[];function Dn(e){tt[tt.length-1](e)}function In(e){Xt.is.desktop===!0&&(tt.push(e),tt.length===1&&document.body.addEventListener("focusin",Dn))}function Cl(e){const t=tt.indexOf(e);t!==-1&&(tt.splice(t,1),tt.length===0&&document.body.removeEventListener("focusin",Dn))}let $t=0;const Na={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Nl={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},qt=ge({name:"QDialog",inheritAttrs:!1,props:{..._n,...Fn,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...qn,"shake","click","escapeKey"],setup(e,{slots:t,emit:l,attrs:n}){const o=de(),i=E(null),a=E(!1),s=E(!1);let d=null,b=null,u,h;const C=f(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:c}=Pa(),{registerTimeout:y}=Vn(),{registerTick:V,removeTick:p}=Rn(),{transitionProps:H,transitionStyle:U}=An(e,()=>Nl[e.position][0],()=>Nl[e.position][1]),x=f(()=>U.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:B,hidePortal:O,portalIsAccessible:D,renderPortal:I}=Ln(o,i,te,"dialog"),{hide:G}=Bn({showing:a,hideOnRouteChange:C,handleShow:ne,handleHide:N,processOnMount:!0}),{addToHistory:q,removeFromHistory:k}=Ba(a,G,C),R=f(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Na[e.position]}`+(s.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),S=f(()=>a.value===!0&&e.seamless!==!0),z=f(()=>e.autoClose===!0?{onClick:v}:{}),K=f(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${S.value===!0?"modal":"seamless"}`,n.class]);le(()=>e.maximized,_=>{a.value===!0&&g(_)}),le(S,_=>{c(_),_===!0?(In(Y),On(j)):(Cl(Y),Qt(j))});function ne(_){q(),b=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,g(e.maximized),B(),s.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),V(X)):p(),y(()=>{if(o.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:F,bottom:oe}=document.activeElement.getBoundingClientRect(),{innerHeight:P}=window,se=window.visualViewport!==void 0?window.visualViewport.height:P;F>0&&oe>se/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-se,oe>=P?1/0:Math.ceil(document.scrollingElement.scrollTop+oe-se/2))),document.activeElement.scrollIntoView()}h=!0,i.value.click(),h=!1}B(!0),s.value=!1,l("show",_)},e.transitionDuration)}function N(_){p(),k(),J(!0),s.value=!0,O(),b!==null&&(((_&&_.type.indexOf("key")===0?b.closest('[tabindex]:not([tabindex^="-"])'):void 0)||b).focus(),b=null),y(()=>{O(!0),s.value=!1,l("hide",_)},e.transitionDuration)}function X(_){Mt(()=>{let F=i.value;if(F!==null){if(_!==void 0){const oe=F.querySelector(_);if(oe!==null){oe.focus({preventScroll:!0});return}}F.contains(document.activeElement)!==!0&&(F=F.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||F.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||F.querySelector("[autofocus], [data-autofocus]")||F,F.focus({preventScroll:!0}))}})}function M(_){_&&typeof _.focus=="function"?_.focus({preventScroll:!0}):X(),l("shake");const F=i.value;F!==null&&(F.classList.remove("q-animate--scale"),F.classList.add("q-animate--scale"),d!==null&&clearTimeout(d),d=setTimeout(()=>{d=null,i.value!==null&&(F.classList.remove("q-animate--scale"),X())},170))}function j(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&M():(l("escapeKey"),G()))}function J(_){d!==null&&(clearTimeout(d),d=null),(_===!0||a.value===!0)&&(g(!1),e.seamless!==!0&&(c(!1),Cl(Y),Qt(j))),_!==!0&&(b=null)}function g(_){_===!0?u!==!0&&($t<1&&document.body.classList.add("q-body--dialog"),$t++,u=!0):u===!0&&($t<2&&document.body.classList.remove("q-body--dialog"),$t--,u=!1)}function v(_){h!==!0&&(G(_),l("click",_))}function T(_){e.persistent!==!0&&e.noBackdropDismiss!==!0?G(_):e.noShake!==!0&&M()}function Y(_){e.allowFocusOutside!==!0&&D.value===!0&&yn(i.value,_.target)!==!0&&X('[tabindex]:not([tabindex="-1"])')}Object.assign(o.proxy,{focus:X,shake:M,__updateRefocusTarget(_){b=_||null}}),Be(J);function te(){return m("div",{role:"dialog","aria-modal":S.value===!0?"true":"false",...n,class:K.value},[m(Ut,{name:"q-transition--fade",appear:!0},()=>S.value===!0?m("div",{class:"q-dialog__backdrop fixed-full",style:x.value,"aria-hidden":"true",tabindex:-1,onClick:T}):null),m(Ut,H.value,()=>a.value===!0?m("div",{ref:i,class:R.value,style:U.value,tabindex:-1,...z.value},ye(t.default)):null)])}return I}}),pl=ge({name:"QCardActions",props:{...oa,vertical:Boolean},setup(e,{slots:t}){const l=ia(e),n=f(()=>`q-card__actions ${l.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>m("div",{class:n.value},ye(t.default))}}),Qa=ge({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:l}}=de(),n=Nt(ra,dt);if(n===dt)return console.error("QPage needs to be a deep child of QLayout"),dt;if(Nt(ua,dt)===dt)return console.error("QPage needs to be child of QPageContainer"),dt;const i=f(()=>{const s=(n.header.space===!0?n.header.size:0)+(n.footer.space===!0?n.footer.size:0);if(typeof e.styleFn=="function"){const d=n.isContainer.value===!0?n.containerHeight.value:l.screen.height;return e.styleFn(s,d)}return{minHeight:n.isContainer.value===!0?n.containerHeight.value-s+"px":l.screen.height===0?s!==0?`calc(100vh - ${s}px)`:"100vh":l.screen.height-s+"px"}}),a=f(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>m("main",{class:a.value,style:i.value},ye(t.default))}});function Ql(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const Kl=sa({name:"close-popup",beforeMount(e,{value:t}){const l={depth:Ql(t),handler(n){l.depth!==0&&setTimeout(()=>{const o=Oa(e);o!==void 0&&Da(o,n,l.depth)})},handlerKey(n){Yt(n,13)===!0&&l.handler(n)}};e.__qclosepopup=l,e.addEventListener("click",l.handler),e.addEventListener("keyup",l.handlerKey)},updated(e,{value:t,oldValue:l}){t!==l&&(e.__qclosepopup.depth=Ql(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function zn(){return Nt(ca)}const Ka=Sn("users",{state:()=>({users:[],loading:!1}),actions:{async fetchUsers(){this.loading=!0;try{const e=await Ye.get("/api/users");this.users=e.data.map(t=>({...t,last_called_at:t.last_called_at?new Date(t.last_called_at):null,call_history:t.call_history||[]}))}catch(e){console.error("Failed to fetch users:",e),this.users=[]}finally{this.loading=!1}},async createUser(e){try{const t=await Ye.post("/api/users",e);return this.users.push({...t.data,last_called_at:null,call_history:[]}),t.data}catch(t){throw console.error("Failed to create user:",t),t}},async updateUser(e,t){try{const l=await Ye.put(`/api/users/${e}`,t),n=this.users.findIndex(o=>o.phone_number===e);return n!==-1&&(this.users[n]={...l.data,last_called_at:this.users[n].last_called_at,call_history:this.users[n].call_history}),l.data}catch(l){throw console.error("Failed to update user:",l),l}},async deleteUser(e){try{await Ye.delete(`/api/users/${e}`),this.users=this.users.filter(t=>t.phone_number!==e)}catch(t){throw console.error("Failed to delete user:",t),t}},async recordCall(e,t){try{const l=await Ye.post(`/api/users/${e}/calls`,t),n=this.users.findIndex(o=>o.phone_number===e);return n!==-1&&(this.users[n].last_called_at=new Date,this.users[n].call_history=[...this.users[n].call_history||[],{timestamp:new Date,...t}]),l.data}catch(l){throw console.error("Failed to record call:",l),l}}}});let dl,Ot=0;const we=new Array(256);for(let e=0;e<256;e++)we[e]=(e+256).toString(16).substring(1);const Wa=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const l=new Uint8Array(t);return e.getRandomValues(l),l}}return t=>{const l=[];for(let n=t;n>0;n--)l.push(Math.floor(Math.random()*256));return l}})(),Wl=4096;function kl(){(dl===void 0||Ot+16>Wl)&&(Ot=0,dl=Wa(Wl));const e=Array.prototype.slice.call(dl,Ot,Ot+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,we[e[0]]+we[e[1]]+we[e[2]]+we[e[3]]+"-"+we[e[4]]+we[e[5]]+"-"+we[e[6]]+we[e[7]]+"-"+we[e[8]]+we[e[9]]+"-"+we[e[10]]+we[e[11]]+we[e[12]]+we[e[13]]+we[e[14]]+we[e[15]]}function Za(e){return e??null}function Zl(e,t){return e??(t===!0?`f_${kl()}`:null)}function Ga({getValue:e,required:t=!0}={}){if(da.value===!0){const l=e!==void 0?E(Za(e())):E(null);return t===!0&&l.value===null&&Oe(()=>{l.value=`f_${kl()}`}),e!==void 0&&le(e,n=>{l.value=Zl(n,t)}),l}return e!==void 0?f(()=>Zl(e(),t)):E(`f_${kl()}`)}const Gl=/^on[A-Z]/;function Xa(){const{attrs:e,vnode:t}=de(),l={listeners:E({}),attributes:E({})};function n(){const o={},i={};for(const a in e)a!=="class"&&a!=="style"&&Gl.test(a)===!1&&(o[a]=e[a]);for(const a in t.props)Gl.test(a)===!0&&(i[a]=t.props[a]);l.attributes.value=o,l.listeners.value=i}return wn(n),n(),l}function Ya({validate:e,resetValidation:t,requiresQForm:l}){const n=Nt(Cn,!1);if(n!==!1){const{props:o,proxy:i}=de();Object.assign(i,{validate:e,resetValidation:t}),le(()=>o.disable,a=>{a===!0?(typeof t=="function"&&t(),n.unbindComponent(i)):n.bindComponent(i)}),Oe(()=>{o.disable!==!0&&n.bindComponent(i)}),Be(()=>{o.disable!==!0&&n.unbindComponent(i)})}else l===!0&&console.error("Parent QForm not found on useFormChild()!")}const Xl=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Yl=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Jl=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Dt=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,It=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,fl={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Xl.test(e),hexaColor:e=>Yl.test(e),hexOrHexaColor:e=>Jl.test(e),rgbColor:e=>Dt.test(e),rgbaColor:e=>It.test(e),rgbOrRgbaColor:e=>Dt.test(e)||It.test(e),hexOrRgbColor:e=>Xl.test(e)||Dt.test(e),hexaOrRgbaColor:e=>Yl.test(e)||It.test(e),anyColor:e=>Jl.test(e)||Dt.test(e)||It.test(e)},Ja=[!0,!1,"ondemand"],eo={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>Ja.includes(e)}};function to(e,t){const{props:l,proxy:n}=de(),o=E(!1),i=E(null),a=E(!1);Ya({validate:V,resetValidation:y});let s=0,d;const b=f(()=>l.rules!==void 0&&l.rules!==null&&l.rules.length!==0),u=f(()=>l.disable!==!0&&b.value===!0&&t.value===!1),h=f(()=>l.error===!0||o.value===!0),C=f(()=>typeof l.errorMessage=="string"&&l.errorMessage.length!==0?l.errorMessage:i.value);le(()=>l.modelValue,()=>{a.value=!0,u.value===!0&&l.lazyRules===!1&&p()});function c(){l.lazyRules!=="ondemand"&&u.value===!0&&a.value===!0&&p()}le(()=>l.reactiveRules,H=>{H===!0?d===void 0&&(d=le(()=>l.rules,c,{immediate:!0,deep:!0})):d!==void 0&&(d(),d=void 0)},{immediate:!0}),le(()=>l.lazyRules,c),le(e,H=>{H===!0?a.value=!0:u.value===!0&&l.lazyRules!=="ondemand"&&p()});function y(){s++,t.value=!1,a.value=!1,o.value=!1,i.value=null,p.cancel()}function V(H=l.modelValue){if(l.disable===!0||b.value===!1)return!0;const U=++s,x=t.value!==!0?()=>{a.value=!0}:()=>{},B=(D,I)=>{D===!0&&x(),o.value=D,i.value=I||null,t.value=!1},O=[];for(let D=0;D<l.rules.length;D++){const I=l.rules[D];let G;if(typeof I=="function"?G=I(H,fl):typeof I=="string"&&fl[I]!==void 0&&(G=fl[I](H)),G===!1||typeof G=="string")return B(!0,G),!1;G!==!0&&G!==void 0&&O.push(G)}return O.length===0?(B(!1),!0):(t.value=!0,Promise.all(O).then(D=>{if(D===void 0||Array.isArray(D)===!1||D.length===0)return U===s&&B(!1),!0;const I=D.find(G=>G===!1||typeof G=="string");return U===s&&B(I!==void 0,I),I===void 0},D=>(U===s&&(console.error(D),B(!0)),!1)))}const p=pn(V,0);return Be(()=>{d!==void 0&&d(),p.cancel()}),Object.assign(n,{resetValidation:y,validate:V}),Qe(n,"hasError",()=>h.value),{isDirtyModel:a,hasRules:b,hasError:h,errorMessage:C,validate:V,resetValidation:y}}function Bt(e){return e!=null&&(""+e).length!==0}const lo={...De,...eo,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},tl={...lo,maxlength:[Number,String]},Pl=["update:modelValue","clear","focus","blur"];function Ml({requiredForAttr:e=!0,tagProp:t,changeEvent:l=!1}={}){const{props:n,proxy:o}=de(),i=Ie(n,o.$q),a=Ga({required:e,getValue:()=>n.for});return{requiredForAttr:e,changeEvent:l,tag:t===!0?f(()=>n.tag):{value:"label"},isDark:i,editable:f(()=>n.disable!==!0&&n.readonly!==!0),innerLoading:E(!1),focused:E(!1),hasPopupOpen:!1,splitAttrs:Xa(),targetUid:a,rootRef:E(null),targetRef:E(null),controlRef:E(null)}}function Rl(e){const{props:t,emit:l,slots:n,attrs:o,proxy:i}=de(),{$q:a}=i;let s=null;e.hasValue===void 0&&(e.hasValue=f(()=>Bt(t.modelValue))),e.emitValue===void 0&&(e.emitValue=M=>{l("update:modelValue",M)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:q,onFocusout:k}),Object.assign(e,{clearValue:R,onControlFocusin:q,onControlFocusout:k,focus:I}),e.computedCounter===void 0&&(e.computedCounter=f(()=>{if(t.counter!==!1){const M=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,j=t.maxlength!==void 0?t.maxlength:t.maxValues;return M+(j!==void 0?" / "+j:"")}}));const{isDirtyModel:d,hasRules:b,hasError:u,errorMessage:h,resetValidation:C}=to(e.focused,e.innerLoading),c=e.floatingLabel!==void 0?f(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):f(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),y=f(()=>t.bottomSlots===!0||t.hint!==void 0||b.value===!0||t.counter===!0||t.error!==null),V=f(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),p=f(()=>`q-field row no-wrap items-start q-field--${V.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(c.value===!0?" q-field--float":"")+(U.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(u.value===!0?" q-field--error":"")+(u.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&y.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),H=f(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(u.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),U=f(()=>t.labelSlot===!0||t.label!==void 0),x=f(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&u.value!==!0?` text-${t.labelColor}`:"")),B=f(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:c.value,modelValue:t.modelValue,emitValue:e.emitValue})),O=f(()=>{const M={};return e.targetUid.value&&(M.for=e.targetUid.value),t.disable===!0&&(M["aria-disabled"]="true"),M});function D(){const M=document.activeElement;let j=e.targetRef!==void 0&&e.targetRef.value;j&&(M===null||M.id!==e.targetUid.value)&&(j.hasAttribute("tabindex")===!0||(j=j.querySelector("[tabindex]")),j&&j!==M&&j.focus({preventScroll:!0}))}function I(){Mt(D)}function G(){$a(D);const M=document.activeElement;M!==null&&e.rootRef.value.contains(M)&&M.blur()}function q(M){s!==null&&(clearTimeout(s),s=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,l("focus",M))}function k(M,j){s!==null&&clearTimeout(s),s=setTimeout(()=>{s=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,l("blur",M)),j!==void 0&&j())})}function R(M){Ve(M),a.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),l("update:modelValue",null),e.changeEvent===!0&&l("change",null),l("clear",t.modelValue),be(()=>{const j=d.value;C(),d.value=j})}function S(M){[13,32].includes(M.keyCode)&&R(M)}function z(){const M=[];return n.prepend!==void 0&&M.push(m("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Le},n.prepend())),M.push(m("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},K())),u.value===!0&&t.noErrorIcon===!1&&M.push(N("error",[m($e,{name:a.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?M.push(N("inner-loading-append",n.loading!==void 0?n.loading():[m(fa,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&M.push(N("inner-clearable-append",[m($e,{class:"q-field__focusable-action",name:t.clearIcon||a.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":a.lang.label.clear,onKeyup:S,onClick:R})])),n.append!==void 0&&M.push(m("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Le},n.append())),e.getInnerAppend!==void 0&&M.push(N("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&M.push(e.getControlChild()),M}function K(){const M=[];return t.prefix!==void 0&&t.prefix!==null&&M.push(m("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&M.push(e.getShadowControl()),e.getControl!==void 0?M.push(e.getControl()):n.rawControl!==void 0?M.push(n.rawControl()):n.control!==void 0&&M.push(m("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},n.control(B.value))),U.value===!0&&M.push(m("div",{class:x.value},ye(n.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&M.push(m("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),M.concat(ye(n.default))}function ne(){let M,j;u.value===!0?h.value!==null?(M=[m("div",{role:"alert"},h.value)],j=`q--slot-error-${h.value}`):(M=ye(n.error),j="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(M=[m("div",t.hint)],j=`q--slot-hint-${t.hint}`):(M=ye(n.hint),j="q--slot-hint"));const J=t.counter===!0||n.counter!==void 0;if(t.hideBottomSpace===!0&&J===!1&&M===void 0)return;const g=m("div",{key:j,class:"q-field__messages col"},M);return m("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:Le},[t.hideBottomSpace===!0?g:m(Ut,{name:"q-transition--field-message"},()=>g),J===!0?m("div",{class:"q-field__counter"},n.counter!==void 0?n.counter():e.computedCounter.value):null])}function N(M,j){return j===null?null:m("div",{key:M,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},j)}let X=!1;return Pt(()=>{X=!0}),Jt(()=>{X===!0&&t.autofocus===!0&&i.focus()}),t.autofocus===!0&&Oe(()=>{i.focus()}),Be(()=>{s!==null&&clearTimeout(s)}),Object.assign(i,{focus:I,blur:G}),function(){const j=e.getControl===void 0&&n.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...O.value}:O.value;return m(e.tag.value,{ref:e.rootRef,class:[p.value,o.class],style:o.style,...j},[n.before!==void 0?m("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Le},n.before()):null,m("div",{class:"q-field__inner relative-position col self-stretch"},[m("div",{ref:e.controlRef,class:H.value,tabindex:-1,...e.controlEvents},z()),y.value===!0?ne():null]),n.after!==void 0?m("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Le},n.after()):null])}}const en={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Kt={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Hn=Object.keys(Kt);Hn.forEach(e=>{Kt[e].regex=new RegExp(Kt[e].pattern)});const no=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Hn.join("")+"])|(.)","g"),tn=/[.*+?^${}()|[\]\\]/g,he="",ao={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function oo(e,t,l,n){let o,i,a,s,d,b;const u=E(null),h=E(c());function C(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}le(()=>e.type+e.autogrow,V),le(()=>e.mask,q=>{if(q!==void 0)p(h.value,!0);else{const k=I(h.value);V(),e.modelValue!==k&&t("update:modelValue",k)}}),le(()=>e.fillMask+e.reverseFillMask,()=>{u.value===!0&&p(h.value,!0)}),le(()=>e.unmaskedValue,()=>{u.value===!0&&p(h.value)});function c(){if(V(),u.value===!0){const q=O(I(e.modelValue));return e.fillMask!==!1?G(q):q}return e.modelValue}function y(q){if(q<o.length)return o.slice(-q);let k="",R=o;const S=R.indexOf(he);if(S!==-1){for(let z=q-R.length;z>0;z--)k+=he;R=R.slice(0,S)+k+R.slice(S)}return R}function V(){if(u.value=e.mask!==void 0&&e.mask.length!==0&&C(),u.value===!1){s=void 0,o="",i="";return}const q=en[e.mask]===void 0?e.mask:en[e.mask],k=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",R=k.replace(tn,"\\$&"),S=[],z=[],K=[];let ne=e.reverseFillMask===!0,N="",X="";q.replace(no,(g,v,T,Y,te)=>{if(Y!==void 0){const _=Kt[Y];K.push(_),X=_.negate,ne===!0&&(z.push("(?:"+X+"+)?("+_.pattern+"+)?(?:"+X+"+)?("+_.pattern+"+)?"),ne=!1),z.push("(?:"+X+"+)?("+_.pattern+")?")}else if(T!==void 0)N="\\"+(T==="\\"?"":T),K.push(T),S.push("([^"+N+"]+)?"+N+"?");else{const _=v!==void 0?v:te;N=_==="\\"?"\\\\\\\\":_.replace(tn,"\\\\$&"),K.push(_),S.push("([^"+N+"]+)?"+N+"?")}});const M=new RegExp("^"+S.join("")+"("+(N===""?".":"[^"+N+"]")+"+)?"+(N===""?"":"["+N+"]*")+"$"),j=z.length-1,J=z.map((g,v)=>v===0&&e.reverseFillMask===!0?new RegExp("^"+R+"*"+g):v===j?new RegExp("^"+g+"("+(X===""?".":X)+"+)?"+(e.reverseFillMask===!0?"$":R+"*")):new RegExp("^"+g));a=K,s=g=>{const v=M.exec(e.reverseFillMask===!0?g:g.slice(0,K.length+1));v!==null&&(g=v.slice(1).join(""));const T=[],Y=J.length;for(let te=0,_=g;te<Y;te++){const F=J[te].exec(_);if(F===null)break;_=_.slice(F.shift().length),T.push(...F)}return T.length!==0?T.join(""):g},o=K.map(g=>typeof g=="string"?g:he).join(""),i=o.split(he).join(k)}function p(q,k,R){const S=n.value,z=S.selectionEnd,K=S.value.length-z,ne=I(q);k===!0&&V();const N=O(ne),X=e.fillMask!==!1?G(N):N,M=h.value!==X;S.value!==X&&(S.value=X),M===!0&&(h.value=X),document.activeElement===S&&be(()=>{if(X===i){const J=e.reverseFillMask===!0?i.length:0;S.setSelectionRange(J,J,"forward");return}if(R==="insertFromPaste"&&e.reverseFillMask!==!0){const J=S.selectionEnd;let g=z-1;for(let v=d;v<=g&&v<J;v++)o[v]!==he&&g++;U.right(S,g);return}if(["deleteContentBackward","deleteContentForward"].indexOf(R)!==-1){const J=e.reverseFillMask===!0?z===0?X.length>N.length?1:0:Math.max(0,X.length-(X===i?0:Math.min(N.length,K)+1))+1:z;S.setSelectionRange(J,J,"forward");return}if(e.reverseFillMask===!0)if(M===!0){const J=Math.max(0,X.length-(X===i?0:Math.min(N.length,K+1)));J===1&&z===1?S.setSelectionRange(J,J,"forward"):U.rightReverse(S,J)}else{const J=X.length-K;S.setSelectionRange(J,J,"backward")}else if(M===!0){const J=Math.max(0,o.indexOf(he),Math.min(N.length,z)-1);U.right(S,J)}else{const J=z-1;U.right(S,J)}});const j=e.unmaskedValue===!0?I(X):X;String(e.modelValue)!==j&&(e.modelValue!==null||j!=="")&&l(j,!0)}function H(q,k,R){const S=O(I(q.value));k=Math.max(0,o.indexOf(he),Math.min(S.length,k)),d=k,q.setSelectionRange(k,R,"forward")}const U={left(q,k){const R=o.slice(k-1).indexOf(he)===-1;let S=Math.max(0,k-1);for(;S>=0;S--)if(o[S]===he){k=S,R===!0&&k++;break}if(S<0&&o[k]!==void 0&&o[k]!==he)return U.right(q,0);k>=0&&q.setSelectionRange(k,k,"backward")},right(q,k){const R=q.value.length;let S=Math.min(R,k+1);for(;S<=R;S++)if(o[S]===he){k=S;break}else o[S-1]===he&&(k=S);if(S>R&&o[k-1]!==void 0&&o[k-1]!==he)return U.left(q,R);q.setSelectionRange(k,k,"forward")},leftReverse(q,k){const R=y(q.value.length);let S=Math.max(0,k-1);for(;S>=0;S--)if(R[S-1]===he){k=S;break}else if(R[S]===he&&(k=S,S===0))break;if(S<0&&R[k]!==void 0&&R[k]!==he)return U.rightReverse(q,0);k>=0&&q.setSelectionRange(k,k,"backward")},rightReverse(q,k){const R=q.value.length,S=y(R),z=S.slice(0,k+1).indexOf(he)===-1;let K=Math.min(R,k+1);for(;K<=R;K++)if(S[K-1]===he){k=K,k>0&&z===!0&&k--;break}if(K>R&&S[k-1]!==void 0&&S[k-1]!==he)return U.leftReverse(q,R);q.setSelectionRange(k,k,"forward")}};function x(q){t("click",q),b=void 0}function B(q){if(t("keydown",q),kn(q)===!0||q.altKey===!0)return;const k=n.value,R=k.selectionStart,S=k.selectionEnd;if(q.shiftKey||(b=void 0),q.keyCode===37||q.keyCode===39){q.shiftKey&&b===void 0&&(b=k.selectionDirection==="forward"?R:S);const z=U[(q.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(q.preventDefault(),z(k,b===R?S:R),q.shiftKey){const K=k.selectionStart;k.setSelectionRange(Math.min(b,K),Math.max(b,K),"forward")}}else q.keyCode===8&&e.reverseFillMask!==!0&&R===S?(U.left(k,R),k.setSelectionRange(k.selectionStart,S,"backward")):q.keyCode===46&&e.reverseFillMask===!0&&R===S&&(U.rightReverse(k,S),k.setSelectionRange(R,k.selectionEnd,"forward"))}function O(q){if(q==null||q==="")return"";if(e.reverseFillMask===!0)return D(q);const k=a;let R=0,S="";for(let z=0;z<k.length;z++){const K=q[R],ne=k[z];if(typeof ne=="string")S+=ne,K===ne&&R++;else if(K!==void 0&&ne.regex.test(K))S+=ne.transform!==void 0?ne.transform(K):K,R++;else return S}return S}function D(q){const k=a,R=o.indexOf(he);let S=q.length-1,z="";for(let K=k.length-1;K>=0&&S!==-1;K--){const ne=k[K];let N=q[S];if(typeof ne=="string")z=ne+z,N===ne&&S--;else if(N!==void 0&&ne.regex.test(N))do z=(ne.transform!==void 0?ne.transform(N):N)+z,S--,N=q[S];while(R===K&&N!==void 0&&ne.regex.test(N));else return z}return z}function I(q){return typeof q!="string"||s===void 0?typeof q=="number"?s(""+q):q:s(q)}function G(q){return i.length-q.length<=0?q:e.reverseFillMask===!0&&q.length!==0?i.slice(0,-q.length)+q:q+i.slice(q.length)}return{innerValue:h,hasMask:u,moveCursorForPaste:H,updateMaskValue:p,onMaskedKeydown:B,onMaskedClick:x}}const Fl={name:String};function io(e={}){return(t,l,n)=>{t[l](m("input",{class:"hidden"+(n||""),...e.value}))}}function jn(e){return f(()=>e.name||e.for)}function ro(e,t){function l(){const n=e.modelValue;try{const o="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(n)===n&&("length"in n?Array.from(n):[n]).forEach(i=>{o.items.add(i)}),{files:o.files}}catch{return{files:void 0}}}return f(()=>{if(e.type==="file")return l()})}const uo=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,so=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,co=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,fo=/[a-z0-9_ -]$/i;function Un(e){return function(l){if(l.type==="compositionend"||l.type==="change"){if(l.target.qComposing!==!0)return;l.target.qComposing=!1,e(l)}else l.type==="compositionupdate"&&l.target.qComposing!==!0&&typeof l.data=="string"&&(Xt.is.firefox===!0?fo.test(l.data)===!1:uo.test(l.data)===!0||so.test(l.data)===!0||co.test(l.data)===!0)===!0&&(l.target.qComposing=!0)}}const vl=ge({name:"QInput",inheritAttrs:!1,props:{...tl,...ao,...Fl,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Pl,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:l}){const{proxy:n}=de(),{$q:o}=n,i={};let a=NaN,s,d,b=null,u;const h=E(null),C=jn(e),{innerValue:c,hasMask:y,moveCursorForPaste:V,updateMaskValue:p,onMaskedKeydown:H,onMaskedClick:U}=oo(e,t,N,h),x=ro(e),B=f(()=>Bt(c.value)),O=Un(K),D=Ml({changeEvent:!0}),I=f(()=>e.type==="textarea"||e.autogrow===!0),G=f(()=>I.value===!0||["text","search","url","tel","password"].includes(e.type)),q=f(()=>{const v={...D.splitAttrs.listeners.value,onInput:K,onPaste:z,onChange:M,onBlur:j,onFocus:Ne};return v.onCompositionstart=v.onCompositionupdate=v.onCompositionend=O,y.value===!0&&(v.onKeydown=H,v.onClick=U),e.autogrow===!0&&(v.onAnimationend=ne),v}),k=f(()=>{const v={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:C.value,...D.splitAttrs.attributes.value,id:D.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return I.value===!1&&(v.type=e.type),e.autogrow===!0&&(v.rows=1),v});le(()=>e.type,()=>{h.value&&(h.value.value=e.modelValue)}),le(()=>e.modelValue,v=>{if(y.value===!0){if(d===!0&&(d=!1,String(v)===a))return;p(v)}else c.value!==v&&(c.value=v,e.type==="number"&&i.hasOwnProperty("value")===!0&&(s===!0?s=!1:delete i.value));e.autogrow===!0&&be(X)}),le(()=>e.autogrow,v=>{v===!0?be(X):h.value!==null&&l.rows>0&&(h.value.style.height="auto")}),le(()=>e.dense,()=>{e.autogrow===!0&&be(X)});function R(){Mt(()=>{const v=document.activeElement;h.value!==null&&h.value!==v&&(v===null||v.id!==D.targetUid.value)&&h.value.focus({preventScroll:!0})})}function S(){h.value!==null&&h.value.select()}function z(v){if(y.value===!0&&e.reverseFillMask!==!0){const T=v.target;V(T,T.selectionStart,T.selectionEnd)}t("paste",v)}function K(v){if(!v||!v.target)return;if(e.type==="file"){t("update:modelValue",v.target.files);return}const T=v.target.value;if(v.target.qComposing===!0){i.value=T;return}if(y.value===!0)p(T,!1,v.inputType);else if(N(T),G.value===!0&&v.target===document.activeElement){const{selectionStart:Y,selectionEnd:te}=v.target;Y!==void 0&&te!==void 0&&be(()=>{v.target===document.activeElement&&T.indexOf(v.target.value)===0&&v.target.setSelectionRange(Y,te)})}e.autogrow===!0&&X()}function ne(v){t("animationend",v),X()}function N(v,T){u=()=>{b=null,e.type!=="number"&&i.hasOwnProperty("value")===!0&&delete i.value,e.modelValue!==v&&a!==v&&(a=v,T===!0&&(d=!0),t("update:modelValue",v),be(()=>{a===v&&(a=NaN)})),u=void 0},e.type==="number"&&(s=!0,i.value=v),e.debounce!==void 0?(b!==null&&clearTimeout(b),i.value=v,b=setTimeout(u,e.debounce)):u()}function X(){requestAnimationFrame(()=>{const v=h.value;if(v!==null){const T=v.parentNode.style,{scrollTop:Y}=v,{overflowY:te,maxHeight:_}=o.platform.is.firefox===!0?{}:window.getComputedStyle(v),F=te!==void 0&&te!=="scroll";F===!0&&(v.style.overflowY="hidden"),T.marginBottom=v.scrollHeight-1+"px",v.style.height="1px",v.style.height=v.scrollHeight+"px",F===!0&&(v.style.overflowY=parseInt(_,10)<v.scrollHeight?"auto":"hidden"),T.marginBottom="",v.scrollTop=Y}})}function M(v){O(v),b!==null&&(clearTimeout(b),b=null),u!==void 0&&u(),t("change",v.target.value)}function j(v){v!==void 0&&Ne(v),b!==null&&(clearTimeout(b),b=null),u!==void 0&&u(),s=!1,d=!1,delete i.value,e.type!=="file"&&setTimeout(()=>{h.value!==null&&(h.value.value=c.value!==void 0?c.value:"")})}function J(){return i.hasOwnProperty("value")===!0?i.value:c.value!==void 0?c.value:""}Be(()=>{j()}),Oe(()=>{e.autogrow===!0&&X()}),Object.assign(D,{innerValue:c,fieldClass:f(()=>`q-${I.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:f(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:h,emitValue:N,hasValue:B,floatingLabel:f(()=>B.value===!0&&(e.type!=="number"||isNaN(c.value)===!1)||Bt(e.displayValue)),getControl:()=>m(I.value===!0?"textarea":"input",{ref:h,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...k.value,...q.value,...e.type!=="file"?{value:J()}:x.value}),getShadowControl:()=>m("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(I.value===!0?"":" text-no-wrap")},[m("span",{class:"invisible"},J()),m("span",e.shadowText)])});const g=Rl(D);return Object.assign(n,{focus:R,select:S,getNativeElement:()=>h.value}),Qe(n,"nativeEl",()=>h.value),g}}),vo=ge({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:l}){const n=de(),o=E(null);let i=0;const a=[];function s(c){const y=typeof c=="boolean"?c:e.noErrorFocus!==!0,V=++i,p=(x,B)=>{l(`validation${x===!0?"Success":"Error"}`,B)},H=x=>{const B=x.validate();return typeof B.then=="function"?B.then(O=>({valid:O,comp:x}),O=>({valid:!1,comp:x,err:O})):Promise.resolve({valid:B,comp:x})};return(e.greedy===!0?Promise.all(a.map(H)).then(x=>x.filter(B=>B.valid!==!0)):a.reduce((x,B)=>x.then(()=>H(B).then(O=>{if(O.valid===!1)return Promise.reject(O)})),Promise.resolve()).catch(x=>[x])).then(x=>{if(x===void 0||x.length===0)return V===i&&p(!0),!0;if(V===i){const{comp:B,err:O}=x[0];if(O!==void 0&&console.error(O),p(!1,B),y===!0){const D=x.find(({comp:I})=>typeof I.focus=="function"&&bn(I.$)===!1);D!==void 0&&D.comp.focus()}}return!1})}function d(){i++,a.forEach(c=>{typeof c.resetValidation=="function"&&c.resetValidation()})}function b(c){c!==void 0&&Ve(c);const y=i+1;s().then(V=>{y===i&&V===!0&&(e.onSubmit!==void 0?l("submit",c):c!==void 0&&c.target!==void 0&&typeof c.target.submit=="function"&&c.target.submit())})}function u(c){c!==void 0&&Ve(c),l("reset"),be(()=>{d(),e.autofocus===!0&&e.noResetFocus!==!0&&h()})}function h(){Mt(()=>{if(o.value===null)return;const c=o.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||o.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||o.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(o.value.querySelectorAll("[tabindex]"),y=>y.tabIndex!==-1);c?.focus({preventScroll:!0})})}va(Cn,{bindComponent(c){a.push(c)},unbindComponent(c){const y=a.indexOf(c);y!==-1&&a.splice(y,1)}});let C=!1;return Pt(()=>{C=!0}),Jt(()=>{C===!0&&e.autofocus===!0&&h()}),Oe(()=>{e.autofocus===!0&&h()}),Object.assign(n.proxy,{validate:s,resetValidation:d,submit:b,reset:u,focus:h,getValidationComponents:()=>a}),()=>m("form",{class:"q-form",ref:o,onSubmit:b,onReset:u},ye(t.default))}}),Al=(e,t)=>{const l=e.__vccOpts||e;for(const[n,o]of t)l[n]=o;return l},mo={name:"UserForm",props:{initialData:{type:Object,default:()=>({})},editMode:{type:Boolean,default:!1}},emits:["submit","cancel"],setup(e,{emit:t}){const l=E(!1),n=E({phone_number:"",name:"",comments:""});return Oe(()=>{e.initialData&&(n.value={...e.initialData})}),{form:n,loading:l,onSubmit:async()=>{l.value=!0;try{t("submit",{...n.value})}finally{l.value=!1}}}}},go={class:"row justify-end q-gutter-sm"};function ho(e,t,l,n,o,i){return xt(),xn(vo,{onSubmit:n.onSubmit,class:"q-gutter-md"},{default:ue(()=>[Q(vl,{modelValue:n.form.phone_number,"onUpdate:modelValue":t[0]||(t[0]=a=>n.form.phone_number=a),label:"Phone Number",rules:[a=>!!a||"Phone number is required"]},null,8,["modelValue","rules"]),Q(vl,{modelValue:n.form.name,"onUpdate:modelValue":t[1]||(t[1]=a=>n.form.name=a),label:"Name"},null,8,["modelValue"]),Q(vl,{modelValue:n.form.comments,"onUpdate:modelValue":t[2]||(t[2]=a=>n.form.comments=a),type:"textarea",label:"Comments"},null,8,["modelValue"]),_e("div",go,[Q(ve,{flat:"",label:"Cancel",color:"grey",onClick:t[3]||(t[3]=a=>e.$emit("cancel"))}),Q(ve,{loading:n.loading,type:"submit",color:"primary",label:l.editMode?"Update":"Create"},null,8,["loading","label"])])]),_:1},8,["onSubmit"])}const bo=Al(mo,[["render",ho]]),ln=ge({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const l=f(()=>{const n=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(o=>e[o]===!0).map(o=>`q-btn-group--${o}`).join(" ");return`q-btn-group row no-wrap${n.length!==0?" "+n:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>m("div",{class:l.value},ye(t.default))}}),nn=ge({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const l=de(),n=f(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return m("td",{class:n.value},ye(t.default));const o=l.vnode.key,i=(e.props.colsMap!==void 0?e.props.colsMap[o]:null)||e.props.col;if(i===void 0)return;const{row:a}=e.props;return m("td",{class:n.value+i.__tdClass(a),style:i.__tdStyle(a)},ye(t.default))}}}),yo=ge({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:l}){const n=de(),{proxy:{$q:o}}=n,i=a=>{l("click",a)};return()=>{if(e.props===void 0)return m("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:i},ye(t.default));let a,s;const d=n.vnode.key;if(d){if(a=e.props.colsMap[d],a===void 0)return}else a=e.props.col;if(a.sortable===!0){const u=a.align==="right"?"unshift":"push";s=ma(t.default,[]),s[u](m($e,{class:a.__iconClass,name:o.iconSet.table.arrowUp}))}else s=ye(t.default);const b={class:a.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:a.headerStyle,onClick:u=>{a.sortable===!0&&e.props.sort(a),i(u)}};return m("th",b,s)}}}),So={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},ml={xs:2,sm:4,md:8,lg:16,xl:24},wo=ge({name:"QSeparator",props:{...De,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=de(),l=Ie(e,t.proxy.$q),n=f(()=>e.vertical===!0?"vertical":"horizontal"),o=f(()=>` q-separator--${n.value}`),i=f(()=>e.inset!==!1?`${o.value}-${So[e.inset]}`:""),a=f(()=>`q-separator${o.value}${i.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(l.value===!0?" q-separator--dark":"")),s=f(()=>{const d={};if(e.size!==void 0&&(d[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const b=e.spaced===!0?`${ml.md}px`:e.spaced in ml?`${ml[e.spaced]}px`:e.spaced,u=e.vertical===!0?["Left","Right"]:["Top","Bottom"];d[`margin${u[0]}`]=d[`margin${u[1]}`]=b}return d});return()=>m("hr",{class:a.value,style:s.value,"aria-orientation":n.value})}}),Co=["horizontal","vertical","cell","none"],po=ge({name:"QMarkupTable",props:{...De,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>Co.includes(e)}},setup(e,{slots:t}){const l=de(),n=Ie(e,l.proxy.$q),o=f(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(n.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>m("div",{class:o.value},[m("table",{class:"q-table"},ye(t.default))])}});function Nn(e,t){return m("div",e,[m("table",{class:"q-table"},t)])}let Wt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,Wt=e.scrollLeft>=0,e.remove()}const Te=1e3,ko=["start","center","end","start-force","center-force","end-force"],Qn=Array.prototype.filter,xo=window.getComputedStyle(document.body).overflowAnchor===void 0?ga:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const l=e.children||[];Qn.call(l,o=>o.dataset&&o.dataset.qVsAnchor!==void 0).forEach(o=>{delete o.dataset.qVsAnchor});const n=l[t];n&&n.dataset&&(n.dataset.qVsAnchor="")}))};function ht(e,t){return e+t}function gl(e,t,l,n,o,i,a,s){const d=e===window?document.scrollingElement||document.documentElement:e,b=o===!0?"offsetWidth":"offsetHeight",u={scrollStart:0,scrollViewSize:-a-s,scrollMaxSize:0,offsetStart:-a,offsetEnd:-s};if(o===!0?(e===window?(u.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,u.scrollViewSize+=document.documentElement.clientWidth):(u.scrollStart=d.scrollLeft,u.scrollViewSize+=d.clientWidth),u.scrollMaxSize=d.scrollWidth,i===!0&&(u.scrollStart=(Wt===!0?u.scrollMaxSize-u.scrollViewSize:0)-u.scrollStart)):(e===window?(u.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,u.scrollViewSize+=document.documentElement.clientHeight):(u.scrollStart=d.scrollTop,u.scrollViewSize+=d.clientHeight),u.scrollMaxSize=d.scrollHeight),l!==null)for(let h=l.previousElementSibling;h!==null;h=h.previousElementSibling)h.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetStart+=h[b]);if(n!==null)for(let h=n.nextElementSibling;h!==null;h=h.nextElementSibling)h.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetEnd+=h[b]);if(t!==e){const h=d.getBoundingClientRect(),C=t.getBoundingClientRect();o===!0?(u.offsetStart+=C.left-h.left,u.offsetEnd-=C.width):(u.offsetStart+=C.top-h.top,u.offsetEnd-=C.height),e!==window&&(u.offsetStart+=u.scrollStart),u.offsetEnd+=u.scrollMaxSize-u.offsetStart}return u}function an(e,t,l,n){t==="end"&&(t=(e===window?document.body:e)[l===!0?"scrollWidth":"scrollHeight"]),e===window?l===!0?(n===!0&&(t=(Wt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):l===!0?(n===!0&&(t=(Wt===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function pt(e,t,l,n){if(l>=n)return 0;const o=t.length,i=Math.floor(l/Te),a=Math.floor((n-1)/Te)+1;let s=e.slice(i,a).reduce(ht,0);return l%Te!==0&&(s-=t.slice(i*Te,l).reduce(ht,0)),n%Te!==0&&n!==o&&(s-=t.slice(n,a*Te).reduce(ht,0)),s}const Kn={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Wn=Object.keys(Kn),xl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Kn};function Zn({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:l,virtualScrollItemSizeComputed:n}){const o=de(),{props:i,emit:a,proxy:s}=o,{$q:d}=s;let b,u,h,C=[],c;const y=E(0),V=E(0),p=E({}),H=E(null),U=E(null),x=E(null),B=E({from:0,to:0}),O=f(()=>i.tableColspan!==void 0?i.tableColspan:100);n===void 0&&(n=f(()=>i.virtualScrollItemSize));const D=f(()=>n.value+";"+i.virtualScrollHorizontal),I=f(()=>D.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);le(I,()=>{N()}),le(D,G);function G(){ne(u,!0)}function q(g){ne(g===void 0?u:g)}function k(g,v){const T=t();if(T==null||T.nodeType===8)return;const Y=gl(T,l(),H.value,U.value,i.virtualScrollHorizontal,d.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);h!==Y.scrollViewSize&&N(Y.scrollViewSize),S(T,Y,Math.min(e.value-1,Math.max(0,parseInt(g,10)||0)),0,ko.indexOf(v)!==-1?v:u!==-1&&g>u?"end":"start")}function R(){const g=t();if(g==null||g.nodeType===8)return;const v=gl(g,l(),H.value,U.value,i.virtualScrollHorizontal,d.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),T=e.value-1,Y=v.scrollMaxSize-v.offsetStart-v.offsetEnd-V.value;if(b===v.scrollStart)return;if(v.scrollMaxSize<=0){S(g,v,0,0);return}h!==v.scrollViewSize&&N(v.scrollViewSize),z(B.value.from);const te=Math.floor(v.scrollMaxSize-Math.max(v.scrollViewSize,v.offsetEnd)-Math.min(c[T],v.scrollViewSize/2));if(te>0&&Math.ceil(v.scrollStart)>=te){S(g,v,T,v.scrollMaxSize-v.offsetEnd-C.reduce(ht,0));return}let _=0,F=v.scrollStart-v.offsetStart,oe=F;if(F<=Y&&F+v.scrollViewSize>=y.value)F-=y.value,_=B.value.from,oe=F;else for(let P=0;F>=C[P]&&_<T;P++)F-=C[P],_+=Te;for(;F>0&&_<T;)F-=c[_],F>-v.scrollViewSize?(_++,oe=F):oe=c[_]+F;S(g,v,_,oe)}function S(g,v,T,Y,te){const _=typeof te=="string"&&te.indexOf("-force")!==-1,F=_===!0?te.replace("-force",""):te,oe=F!==void 0?F:"start";let P=Math.max(0,T-p.value[oe]),se=P+p.value.total;se>e.value&&(se=e.value,P=Math.max(0,se-p.value.total)),b=v.scrollStart;const pe=P!==B.value.from||se!==B.value.to;if(pe===!1&&F===void 0){M(T);return}const{activeElement:ze}=document,ke=x.value;pe===!0&&ke!==null&&ke!==ze&&ke.contains(ze)===!0&&(ke.addEventListener("focusout",K),setTimeout(()=>{ke!==null&&ke.removeEventListener("focusout",K)})),xo(ke,T-P);const He=F!==void 0?c.slice(P,T).reduce(ht,0):0;if(pe===!0){const Me=se>=B.value.from&&P<=B.value.to?B.value.to:se;B.value={from:P,to:Me},y.value=pt(C,c,0,P),V.value=pt(C,c,se,e.value),requestAnimationFrame(()=>{B.value.to!==se&&b===v.scrollStart&&(B.value={from:B.value.from,to:se},V.value=pt(C,c,se,e.value))})}requestAnimationFrame(()=>{if(b!==v.scrollStart)return;pe===!0&&z(P);const Me=c.slice(P,T).reduce(ht,0),Re=Me+v.offsetStart+y.value,je=Re+c[T];let Ke=Re+Y;if(F!==void 0){const yt=Me-He,We=v.scrollStart+yt;Ke=_!==!0&&We<Re&&je<We+v.scrollViewSize?We:F==="end"?je-v.scrollViewSize:Re-(F==="start"?0:Math.round((v.scrollViewSize-c[T])/2))}b=Ke,an(g,Ke,i.virtualScrollHorizontal,d.lang.rtl),M(T)})}function z(g){const v=x.value;if(v){const T=Qn.call(v.children,P=>P.classList&&P.classList.contains("q-virtual-scroll--skip")===!1),Y=T.length,te=i.virtualScrollHorizontal===!0?P=>P.getBoundingClientRect().width:P=>P.offsetHeight;let _=g,F,oe;for(let P=0;P<Y;){for(F=te(T[P]),P++;P<Y&&T[P].classList.contains("q-virtual-scroll--with-prev")===!0;)F+=te(T[P]),P++;oe=F-c[_],oe!==0&&(c[_]+=oe,C[Math.floor(_/Te)]+=oe),_++}}}function K(){x.value!==null&&x.value!==void 0&&x.value.focus()}function ne(g,v){const T=1*n.value;(v===!0||Array.isArray(c)===!1)&&(c=[]);const Y=c.length;c.length=e.value;for(let _=e.value-1;_>=Y;_--)c[_]=T;const te=Math.floor((e.value-1)/Te);C=[];for(let _=0;_<=te;_++){let F=0;const oe=Math.min((_+1)*Te,e.value);for(let P=_*Te;P<oe;P++)F+=c[P];C.push(F)}u=-1,b=void 0,y.value=pt(C,c,0,B.value.from),V.value=pt(C,c,B.value.to,e.value),g>=0?(z(B.value.from),be(()=>{k(g)})):j()}function N(g){if(g===void 0&&typeof window<"u"){const F=t();F!=null&&F.nodeType!==8&&(g=gl(F,l(),H.value,U.value,i.virtualScrollHorizontal,d.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}h=g;const v=parseFloat(i.virtualScrollSliceRatioBefore)||0,T=parseFloat(i.virtualScrollSliceRatioAfter)||0,Y=1+v+T,te=g===void 0||g<=0?1:Math.ceil(g/n.value),_=Math.max(1,te,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/Y));p.value={total:Math.ceil(_*Y),start:Math.ceil(_*v),center:Math.ceil(_*(.5+v)),end:Math.ceil(_*(1+v)),view:te}}function X(g,v){const T=i.virtualScrollHorizontal===!0?"width":"height",Y={["--q-virtual-scroll-item-"+T]:n.value+"px"};return[g==="tbody"?m(g,{class:"q-virtual-scroll__padding",key:"before",ref:H},[m("tr",[m("td",{style:{[T]:`${y.value}px`,...Y},colspan:O.value})])]):m(g,{class:"q-virtual-scroll__padding",key:"before",ref:H,style:{[T]:`${y.value}px`,...Y}}),m(g,{class:"q-virtual-scroll__content",key:"content",ref:x,tabindex:-1},v.flat()),g==="tbody"?m(g,{class:"q-virtual-scroll__padding",key:"after",ref:U},[m("tr",[m("td",{style:{[T]:`${V.value}px`,...Y},colspan:O.value})])]):m(g,{class:"q-virtual-scroll__padding",key:"after",ref:U,style:{[T]:`${V.value}px`,...Y}})]}function M(g){u!==g&&(i.onVirtualScroll!==void 0&&a("virtualScroll",{index:g,from:B.value.from,to:B.value.to-1,direction:g<u?"decrease":"increase",ref:s}),u=g)}N();const j=pn(R,d.platform.is.ios===!0?120:35);_l(()=>{N()});let J=!1;return Pt(()=>{J=!0}),Jt(()=>{if(J!==!0)return;const g=t();b!==void 0&&g!==void 0&&g!==null&&g.nodeType!==8?an(g,b,i.virtualScrollHorizontal,d.lang.rtl):k(u)}),Be(()=>{j.cancel()}),Object.assign(s,{scrollTo:k,reset:G,refresh:q}),{virtualScrollSliceRange:B,virtualScrollSliceSizeComputed:p,setVirtualScrollSize:N,onVirtualScrollEvt:j,localResetVirtualScroll:ne,padVirtualScroll:X,scrollTo:k,reset:G,refresh:q}}const qo={list:Ma,table:po},_o=["list","table","__qtable"],Vo=ge({name:"QVirtualScroll",props:{...xl,type:{type:String,default:"list",validator:e=>_o.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:Pn},setup(e,{slots:t,attrs:l}){let n;const o=E(null),i=f(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:a,localResetVirtualScroll:s,padVirtualScroll:d,onVirtualScrollEvt:b}=Zn({virtualScrollLength:i,getVirtualScrollTarget:y,getVirtualScrollEl:c}),u=f(()=>{if(i.value===0)return[];const U=(x,B)=>({index:a.value.from+B,item:x});return e.itemsFn===void 0?e.items.slice(a.value.from,a.value.to).map(U):e.itemsFn(a.value.from,a.value.to-a.value.from).map(U)}),h=f(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),C=f(()=>e.scrollTarget!==void 0?{}:{tabindex:0});le(i,()=>{s()}),le(()=>e.scrollTarget,()=>{p(),V()});function c(){return o.value.$el||o.value}function y(){return n}function V(){n=Mn(c(),e.scrollTarget),n.addEventListener("scroll",b,_t.passive)}function p(){n!==void 0&&(n.removeEventListener("scroll",b,_t.passive),n=void 0)}function H(){let U=d(e.type==="list"?"div":"tbody",u.value.map(t.default));return t.before!==void 0&&(U=t.before().concat(U)),el(t.after,U)}return _l(()=>{s()}),Oe(()=>{V()}),Jt(()=>{V()}),Pt(()=>{p()}),Be(()=>{p()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Nn({ref:o,class:"q-table__middle "+h.value},H()):m(qo[e.type],{...l,ref:o,class:[l.class,h.value],...C.value},H)}}}),Bo=ge({name:"QField",inheritAttrs:!1,props:{...tl,tag:{type:String,default:"label"}},emits:Pl,setup(){return Rl(Ml({tagProp:!0}))}}),Po={xs:8,sm:10,md:14,lg:20,xl:24},Mo=ge({name:"QChip",props:{...De,...Vl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:l}){const{proxy:{$q:n}}=de(),o=Ie(e,n),i=Bl(e,Po),a=f(()=>e.selected===!0||e.icon!==void 0),s=f(()=>e.selected===!0?e.iconSelected||n.iconSet.chip.selected:e.icon),d=f(()=>e.iconRemove||n.iconSet.chip.remove),b=f(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),u=f(()=>{const p=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(p?` text-${p} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(b.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(o.value===!0?" q-chip--dark q-dark":"")}),h=f(()=>{const p=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},H={...p,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||n.lang.label.remove};return{chip:p,remove:H}});function C(p){p.keyCode===13&&c(p)}function c(p){e.disable||(l("update:selected",!e.selected),l("click",p))}function y(p){(p.keyCode===void 0||p.keyCode===13)&&(Ve(p),e.disable===!1&&(l("update:modelValue",!1),l("remove")))}function V(){const p=[];b.value===!0&&p.push(m("div",{class:"q-focus-helper"})),a.value===!0&&p.push(m($e,{class:"q-chip__icon q-chip__icon--left",name:s.value}));const H=e.label!==void 0?[m("div",{class:"ellipsis"},[e.label])]:void 0;return p.push(m("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},ya(t.default,H))),e.iconRight&&p.push(m($e,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&p.push(m($e,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:d.value,...h.value.remove,onClick:y,onKeyup:y})),p}return()=>{if(e.modelValue===!1)return;const p={class:u.value,style:i.value};return b.value===!0&&Object.assign(p,h.value.chip,{onClick:c,onKeyup:C}),ha("div",p,V(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[ba,e.ripple]])}}}),Ro={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},Fo={...Ro,contextMenu:Boolean};function Ao({showing:e,avoidEmit:t,configureAnchorEl:l}){const{props:n,proxy:o,emit:i}=de(),a=E(null);let s=null;function d(c){return a.value===null?!1:c===void 0||c.touches===void 0||c.touches.length<=1}const b={};l===void 0&&(Object.assign(b,{hide(c){o.hide(c)},toggle(c){o.toggle(c),c.qAnchorHandled=!0},toggleKey(c){Yt(c,13)===!0&&b.toggle(c)},contextClick(c){o.hide(c),Le(c),be(()=>{o.show(c),c.qAnchorHandled=!0})},prevent:Le,mobileTouch(c){if(b.mobileCleanup(c),d(c)!==!0)return;o.hide(c),a.value.classList.add("non-selectable");const y=c.target;Ol(b,"anchor",[[y,"touchmove","mobileCleanup","passive"],[y,"touchend","mobileCleanup","passive"],[y,"touchcancel","mobileCleanup","passive"],[a.value,"contextmenu","prevent","notPassive"]]),s=setTimeout(()=>{s=null,o.show(c),c.qAnchorHandled=!0},300)},mobileCleanup(c){a.value.classList.remove("non-selectable"),s!==null&&(clearTimeout(s),s=null),e.value===!0&&c!==void 0&&Ra()}}),l=function(c=n.contextMenu){if(n.noParentEvent===!0||a.value===null)return;let y;c===!0?o.$q.platform.is.mobile===!0?y=[[a.value,"touchstart","mobileTouch","passive"]]:y=[[a.value,"mousedown","hide","passive"],[a.value,"contextmenu","contextClick","notPassive"]]:y=[[a.value,"click","toggle","passive"],[a.value,"keyup","toggleKey","passive"]],Ol(b,"anchor",y)});function u(){Sa(b,"anchor")}function h(c){for(a.value=c;a.value.classList.contains("q-anchor--skip");)a.value=a.value.parentNode;l()}function C(){if(n.target===!1||n.target===""||o.$el.parentNode===null)a.value=null;else if(n.target===!0)h(o.$el.parentNode);else{let c=n.target;if(typeof n.target=="string")try{c=document.querySelector(n.target)}catch{c=void 0}c!=null?(a.value=c.$el||c,l()):(a.value=null,console.error(`Anchor: target "${n.target}" not found`))}}return le(()=>n.contextMenu,c=>{a.value!==null&&(u(),l(c))}),le(()=>n.target,()=>{a.value!==null&&u(),C()}),le(()=>n.noParentEvent,c=>{a.value!==null&&(c===!0?u():l())}),Oe(()=>{C(),t!==!0&&n.modelValue===!0&&a.value===null&&i("update:modelValue",!1)}),Be(()=>{s!==null&&clearTimeout(s),u()}),{anchorEl:a,canShow:d,anchorEvents:b}}function Eo(e,t){const l=E(null);let n;function o(s,d){const b=`${d!==void 0?"add":"remove"}EventListener`,u=d!==void 0?d:n;s!==window&&s[b]("scroll",u,_t.passive),window[b]("scroll",u,_t.passive),n=d}function i(){l.value!==null&&(o(l.value),l.value=null)}const a=le(()=>e.noParentEvent,()=>{l.value!==null&&(i(),t())});return Be(a),{localScrollTarget:l,unconfigureScrollTarget:i,changeScrollEvent:o}}const{notPassiveCapture:Zt}=_t,lt=[];function Gt(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let l=gt.length-1;for(;l>=0;){const n=gt[l].$;if(n.type.name==="QTooltip"){l--;continue}if(n.type.name!=="QDialog")break;if(n.props.seamless!==!0)return;l--}for(let n=lt.length-1;n>=0;n--){const o=lt[n];if((o.anchorEl.value===null||o.anchorEl.value.contains(t)===!1)&&(t===document.body||o.innerRef.value!==null&&o.innerRef.value.contains(t)===!1))e.qClickOutside=!0,o.onClickOutside(e);else return}}function To(e){lt.push(e),lt.length===1&&(document.addEventListener("mousedown",Gt,Zt),document.addEventListener("touchstart",Gt,Zt))}function on(e){const t=lt.findIndex(l=>l===e);t!==-1&&(lt.splice(t,1),lt.length===0&&(document.removeEventListener("mousedown",Gt,Zt),document.removeEventListener("touchstart",Gt,Zt)))}let rn,un;function sn(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Lo(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const ql={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{ql[`${e}#ltr`]=e,ql[`${e}#rtl`]=e});function cn(e,t){const l=e.split(" ");return{vertical:l[0],horizontal:ql[`${l[1]}#${t===!0?"rtl":"ltr"}`]}}function $o(e,t){let{top:l,left:n,right:o,bottom:i,width:a,height:s}=e.getBoundingClientRect();return t!==void 0&&(l-=t[1],n-=t[0],i+=t[1],o+=t[0],a+=t[0],s+=t[1]),{top:l,bottom:i,height:s,left:n,right:o,width:a,middle:n+(o-n)/2,center:l+(i-l)/2}}function Oo(e,t,l){let{top:n,left:o}=e.getBoundingClientRect();return n+=t.top,o+=t.left,l!==void 0&&(n+=l[1],o+=l[0]),{top:n,bottom:n+1,height:1,left:o,right:o+1,width:1,middle:o,center:n}}function Do(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function dn(e,t,l,n){return{top:e[l.vertical]-t[n.vertical],left:e[l.horizontal]-t[n.horizontal]}}function Gn(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Gn(e,t+1)},10);return}const{targetEl:l,offset:n,anchorEl:o,anchorOrigin:i,selfOrigin:a,absoluteOffset:s,fit:d,cover:b,maxHeight:u,maxWidth:h}=e;if(Xt.is.ios===!0&&window.visualViewport!==void 0){const D=document.body.style,{offsetLeft:I,offsetTop:G}=window.visualViewport;I!==rn&&(D.setProperty("--q-pe-left",I+"px"),rn=I),G!==un&&(D.setProperty("--q-pe-top",G+"px"),un=G)}const{scrollLeft:C,scrollTop:c}=l,y=s===void 0?$o(o,b===!0?[0,0]:n):Oo(o,s,n);Object.assign(l.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:h,maxHeight:u,visibility:"visible"});const{offsetWidth:V,offsetHeight:p}=l,{elWidth:H,elHeight:U}=d===!0||b===!0?{elWidth:Math.max(y.width,V),elHeight:b===!0?Math.max(y.height,p):p}:{elWidth:V,elHeight:p};let x={maxWidth:h,maxHeight:u};(d===!0||b===!0)&&(x.minWidth=y.width+"px",b===!0&&(x.minHeight=y.height+"px")),Object.assign(l.style,x);const B=Do(H,U);let O=dn(y,B,i,a);if(s===void 0||n===void 0)hl(O,y,B,i,a);else{const{top:D,left:I}=O;hl(O,y,B,i,a);let G=!1;if(O.top!==D){G=!0;const q=2*n[1];y.center=y.top-=q,y.bottom-=q+2}if(O.left!==I){G=!0;const q=2*n[0];y.middle=y.left-=q,y.right-=q+2}G===!0&&(O=dn(y,B,i,a),hl(O,y,B,i,a))}x={top:O.top+"px",left:O.left+"px"},O.maxHeight!==void 0&&(x.maxHeight=O.maxHeight+"px",y.height>O.maxHeight&&(x.minHeight=x.maxHeight)),O.maxWidth!==void 0&&(x.maxWidth=O.maxWidth+"px",y.width>O.maxWidth&&(x.minWidth=x.maxWidth)),Object.assign(l.style,x),l.scrollTop!==c&&(l.scrollTop=c),l.scrollLeft!==C&&(l.scrollLeft=C)}function hl(e,t,l,n,o){const i=l.bottom,a=l.right,s=Fa(),d=window.innerHeight-s,b=document.body.clientWidth;if(e.top<0||e.top+i>d)if(o.vertical==="center")e.top=t[n.vertical]>d/2?Math.max(0,d-i):0,e.maxHeight=Math.min(i,d);else if(t[n.vertical]>d/2){const u=Math.min(d,n.vertical==="center"?t.center:n.vertical===o.vertical?t.bottom:t.top);e.maxHeight=Math.min(i,u),e.top=Math.max(0,u-i)}else e.top=Math.max(0,n.vertical==="center"?t.center:n.vertical===o.vertical?t.top:t.bottom),e.maxHeight=Math.min(i,d-e.top);if(e.left<0||e.left+a>b)if(e.maxWidth=Math.min(a,b),o.horizontal==="middle")e.left=t[n.horizontal]>b/2?Math.max(0,b-a):0;else if(t[n.horizontal]>b/2){const u=Math.min(b,n.horizontal==="middle"?t.middle:n.horizontal===o.horizontal?t.right:t.left);e.maxWidth=Math.min(a,u),e.left=Math.max(0,u-e.maxWidth)}else e.left=Math.max(0,n.horizontal==="middle"?t.middle:n.horizontal===o.horizontal?t.left:t.right),e.maxWidth=Math.min(a,b-e.left)}const Io=ge({name:"QMenu",inheritAttrs:!1,props:{...Fo,..._n,...De,...Fn,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:sn},self:{type:String,validator:sn},offset:{type:Array,validator:Lo},scrollTarget:Pn,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...qn,"click","escapeKey"],setup(e,{slots:t,emit:l,attrs:n}){let o=null,i,a,s;const d=de(),{proxy:b}=d,{$q:u}=b,h=E(null),C=E(!1),c=f(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),y=Ie(e,u),{registerTick:V,removeTick:p}=Rn(),{registerTimeout:H}=Vn(),{transitionProps:U,transitionStyle:x}=An(e),{localScrollTarget:B,changeScrollEvent:O,unconfigureScrollTarget:D}=Eo(e,T),{anchorEl:I,canShow:G}=Ao({showing:C}),{hide:q}=Bn({showing:C,canShow:G,handleShow:J,handleHide:g,hideOnRouteChange:c,processOnMount:!0}),{showPortal:k,hidePortal:R,renderPortal:S}=Ln(d,h,oe,"menu"),z={anchorEl:I,innerRef:h,onClickOutside(P){if(e.persistent!==!0&&C.value===!0)return q(P),(P.type==="touchstart"||P.target.classList.contains("q-dialog__backdrop"))&&Ve(P),!0}},K=f(()=>cn(e.anchor||(e.cover===!0?"center middle":"bottom start"),u.lang.rtl)),ne=f(()=>e.cover===!0?K.value:cn(e.self||"top start",u.lang.rtl)),N=f(()=>(e.square===!0?" q-menu--square":"")+(y.value===!0?" q-menu--dark q-dark":"")),X=f(()=>e.autoClose===!0?{onClick:Y}:{}),M=f(()=>C.value===!0&&e.persistent!==!0);le(M,P=>{P===!0?(On(_),To(z)):(Qt(_),on(z))});function j(){Mt(()=>{let P=h.value;P&&P.contains(document.activeElement)!==!0&&(P=P.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||P.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||P.querySelector("[autofocus], [data-autofocus]")||P,P.focus({preventScroll:!0}))})}function J(P){if(o=e.noRefocus===!1?document.activeElement:null,In(te),k(),T(),i=void 0,P!==void 0&&(e.touchPosition||e.contextMenu)){const se=wa(P);if(se.left!==void 0){const{top:pe,left:ze}=I.value.getBoundingClientRect();i={left:se.left-ze,top:se.top-pe}}}a===void 0&&(a=le(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,F)),e.noFocus!==!0&&document.activeElement.blur(),V(()=>{F(),e.noFocus!==!0&&j()}),H(()=>{u.platform.is.ios===!0&&(s=e.autoClose,h.value.click()),F(),k(!0),l("show",P)},e.transitionDuration)}function g(P){p(),R(),v(!0),o!==null&&(P===void 0||P.qClickOutside!==!0)&&(((P&&P.type.indexOf("key")===0?o.closest('[tabindex]:not([tabindex^="-"])'):void 0)||o).focus(),o=null),H(()=>{R(!0),l("hide",P)},e.transitionDuration)}function v(P){i=void 0,a!==void 0&&(a(),a=void 0),(P===!0||C.value===!0)&&(Cl(te),D(),on(z),Qt(_)),P!==!0&&(o=null)}function T(){(I.value!==null||e.scrollTarget!==void 0)&&(B.value=Mn(I.value,e.scrollTarget),O(B.value,F))}function Y(P){s!==!0?(Tn(b,P),l("click",P)):s=!1}function te(P){M.value===!0&&e.noFocus!==!0&&yn(h.value,P.target)!==!0&&j()}function _(P){l("escapeKey"),q(P)}function F(){Gn({targetEl:h.value,offset:e.offset,anchorEl:I.value,anchorOrigin:K.value,selfOrigin:ne.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function oe(){return m(Ut,U.value,()=>C.value===!0?m("div",{role:"menu",...n,ref:h,tabindex:-1,class:["q-menu q-position-engine scroll"+N.value,n.class],style:[n.style,x.value],...X.value},ye(t.default)):null)}return Be(v),Object.assign(b,{focus:j,updatePosition:F}),S}}),fn=e=>["add","add-unique","toggle"].includes(e),zo=".*+?^${}()|[]\\",Ho=Object.keys(tl);function bl(e,t){if(typeof e=="function")return e;const l=e!==void 0?e:t;return n=>n!==null&&typeof n=="object"&&l in n?n[l]:n}const jo=ge({name:"QSelect",inheritAttrs:!1,props:{...xl,...Fl,...tl,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:fn},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:xl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...Pl,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:t,emit:l}){const{proxy:n}=de(),{$q:o}=n,i=E(!1),a=E(!1),s=E(-1),d=E(""),b=E(!1),u=E(!1);let h=null,C=null,c,y,V,p=null,H,U,x,B;const O=E(null),D=E(null),I=E(null),G=E(null),q=E(null),k=jn(e),R=Un(w),S=f(()=>Array.isArray(e.options)?e.options.length:0),z=f(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:K,virtualScrollSliceSizeComputed:ne,localResetVirtualScroll:N,padVirtualScroll:X,onVirtualScrollEvt:M,scrollTo:j,setVirtualScrollSize:J}=Zn({virtualScrollLength:S,getVirtualScrollTarget:al,getVirtualScrollEl:Tt,virtualScrollItemSizeComputed:z}),g=Ml(),v=f(()=>{const r=e.mapOptions===!0&&e.multiple!==!0,L=e.modelValue!==void 0&&(e.modelValue!==null||r===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const $=e.mapOptions===!0&&c!==void 0?c:[],ae=L.map(re=>nl(re,$));return e.modelValue===null&&r===!0?ae.filter(re=>re!==null):ae}return L}),T=f(()=>{const r={};return Ho.forEach(L=>{const $=e[L];$!==void 0&&(r[L]=$)}),r}),Y=f(()=>e.optionsDark===null?g.isDark.value:e.optionsDark),te=f(()=>Bt(v.value)),_=f(()=>{let r="q-field__input q-placeholder col";return e.hideSelected===!0||v.value.length===0?[r,e.inputClass]:(r+=" q-field__input--padding",e.inputClass===void 0?r:[r,e.inputClass])}),F=f(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),oe=f(()=>S.value===0),P=f(()=>v.value.map(r=>xe.value(r)).join(", ")),se=f(()=>e.displayValue!==void 0?e.displayValue:P.value),pe=f(()=>e.optionsHtml===!0?()=>!0:r=>r!=null&&r.html===!0),ze=f(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||v.value.some(pe.value))),ke=f(()=>g.focused.value===!0?e.tabindex:-1),He=f(()=>{const r={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":i.value===!0?"true":"false","aria-controls":`${g.targetUid.value}_lb`};return s.value>=0&&(r["aria-activedescendant"]=`${g.targetUid.value}_${s.value}`),r}),Me=f(()=>({id:`${g.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Re=f(()=>v.value.map((r,L)=>({index:L,opt:r,html:pe.value(r),selected:!0,removeAtIndex:ll,toggleOption:Fe,tabindex:ke.value}))),je=f(()=>{if(S.value===0)return[];const{from:r,to:L}=K.value;return e.options.slice(r,L).map(($,ae)=>{const re=Ue.value($)===!0,ie=at($)===!0,Se=r+ae,me={clickable:!0,active:ie,activeClass:We.value,manualFocus:!0,focused:!1,disable:re,tabindex:-1,dense:e.optionsDense,dark:Y.value,role:"option","aria-selected":ie===!0?"true":"false",id:`${g.targetUid.value}_${Se}`,onClick:()=>{Fe($)}};return re!==!0&&(s.value===Se&&(me.focused=!0),o.platform.is.desktop===!0&&(me.onMousemove=()=>{i.value===!0&&qe(Se)})),{index:Se,opt:$,html:pe.value($),label:xe.value($),selected:me.active,focused:me.focused,toggleOption:Fe,setOptionIndex:qe,itemProps:me}})}),Ke=f(()=>e.dropdownIcon!==void 0?e.dropdownIcon:o.iconSet.arrow.dropdown),yt=f(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),We=f(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Pe=f(()=>bl(e.optionValue,"value")),xe=f(()=>bl(e.optionLabel,"label")),Ue=f(()=>bl(e.optionDisable,"disable")),Ze=f(()=>v.value.map(Pe.value)),Rt=f(()=>{const r={onInput:w,onChange:R,onKeydown:Ge,onKeyup:ot,onKeypress:wt,onFocus:St,onClick(L){y===!0&&Ne(L)}};return r.onCompositionstart=r.onCompositionupdate=r.onCompositionend=R,r});le(v,r=>{c=r,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&g.innerLoading.value!==!0&&(a.value!==!0&&i.value!==!0||te.value!==!0)&&(V!==!0&&ct(),(a.value===!0||i.value===!0)&&Z(""))},{immediate:!0}),le(()=>e.fillInput,ct),le(i,ul),le(S,ea);function Ft(r){return e.emitValue===!0?Pe.value(r):r}function nt(r){if(r!==-1&&r<v.value.length)if(e.multiple===!0){const L=e.modelValue.slice();l("remove",{index:r,value:L.splice(r,1)[0]}),l("update:modelValue",L)}else l("update:modelValue",null)}function ll(r){nt(r),g.focus()}function At(r,L){const $=Ft(r);if(e.multiple!==!0){e.fillInput===!0&&W(xe.value(r),!0,!0),l("update:modelValue",$);return}if(v.value.length===0){l("add",{index:0,value:$}),l("update:modelValue",e.multiple===!0?[$]:$);return}if(L===!0&&at(r)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const ae=e.modelValue.slice();l("add",{index:ae.length,value:$}),ae.push($),l("update:modelValue",ae)}function Fe(r,L){if(g.editable.value!==!0||r===void 0||Ue.value(r)===!0)return;const $=Pe.value(r);if(e.multiple!==!0){L!==!0&&(W(e.fillInput===!0?xe.value(r):"",!0,!0),Xe()),D.value!==null&&D.value.focus(),(v.value.length===0||Ct(Pe.value(v.value[0]),$)!==!0)&&l("update:modelValue",e.emitValue===!0?$:r);return}if((y!==!0||b.value===!0)&&g.focus(),St(),v.value.length===0){const ie=e.emitValue===!0?$:r;l("add",{index:0,value:ie}),l("update:modelValue",e.multiple===!0?[ie]:ie);return}const ae=e.modelValue.slice(),re=Ze.value.findIndex(ie=>Ct(ie,$));if(re!==-1)l("remove",{index:re,value:ae.splice(re,1)[0]});else{if(e.maxValues!==void 0&&ae.length>=e.maxValues)return;const ie=e.emitValue===!0?$:r;l("add",{index:ae.length,value:ie}),ae.push(ie)}l("update:modelValue",ae)}function qe(r){if(o.platform.is.desktop!==!0)return;const L=r!==-1&&r<S.value?r:-1;s.value!==L&&(s.value=L)}function Ae(r=1,L){if(i.value===!0){let $=s.value;do $=jl($+r,-1,S.value-1);while($!==-1&&$!==s.value&&Ue.value(e.options[$])===!0);s.value!==$&&(qe($),j($),L!==!0&&e.useInput===!0&&e.fillInput===!0&&A($>=0?xe.value(e.options[$]):H,!0))}}function nl(r,L){const $=ae=>Ct(Pe.value(ae),r);return e.options.find($)||L.find($)||r}function at(r){const L=Pe.value(r);return Ze.value.find($=>Ct($,L))!==void 0}function St(r){e.useInput===!0&&D.value!==null&&(r===void 0||D.value===r.target&&r.target.value===P.value)&&D.value.select()}function Et(r){Yt(r,27)===!0&&i.value===!0&&(Ne(r),Xe(),ct()),l("keyup",r)}function ot(r){const{value:L}=r.target;if(r.keyCode!==void 0){Et(r);return}if(r.target.value="",h!==null&&(clearTimeout(h),h=null),C!==null&&(clearTimeout(C),C=null),ct(),typeof L=="string"&&L.length!==0){const $=L.toLocaleLowerCase(),ae=ie=>{const Se=e.options.find(me=>String(ie.value(me)).toLocaleLowerCase()===$);return Se===void 0?!1:(v.value.indexOf(Se)===-1?Fe(Se):Xe(),!0)},re=ie=>{ae(Pe)!==!0&&ie!==!0&&ae(xe)!==!0&&Z(L,!0,()=>re(!0))};re()}else g.clearValue(r)}function wt(r){l("keypress",r)}function Ge(r){if(l("keydown",r),kn(r)===!0)return;const L=d.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),$=r.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(s.value!==-1||L===!0);if(r.keyCode===27){Le(r);return}if(r.keyCode===9&&$===!1){ut();return}if(r.target===void 0||r.target.id!==g.targetUid.value||g.editable.value!==!0)return;if(r.keyCode===40&&g.innerLoading.value!==!0&&i.value===!1){Ve(r),st();return}if(r.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&d.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?nt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&l("update:modelValue",null);return}(r.keyCode===35||r.keyCode===36)&&(typeof d.value!="string"||d.value.length===0)&&(Ve(r),s.value=-1,Ae(r.keyCode===36?1:-1,e.multiple)),(r.keyCode===33||r.keyCode===34)&&ne.value!==void 0&&(Ve(r),s.value=Math.max(-1,Math.min(S.value,s.value+(r.keyCode===33?-1:1)*ne.value.view)),Ae(r.keyCode===33?1:-1,e.multiple)),(r.keyCode===38||r.keyCode===40)&&(Ve(r),Ae(r.keyCode===38?-1:1,e.multiple));const ae=S.value;if((x===void 0||B<Date.now())&&(x=""),ae>0&&e.useInput!==!0&&r.key!==void 0&&r.key.length===1&&r.altKey===!1&&r.ctrlKey===!1&&r.metaKey===!1&&(r.keyCode!==32||x.length!==0)){i.value!==!0&&st(r);const re=r.key.toLocaleLowerCase(),ie=x.length===1&&x[0]===re;B=Date.now()+1500,ie===!1&&(Ve(r),x+=re);const Se=new RegExp("^"+x.split("").map(sl=>zo.indexOf(sl)!==-1?"\\"+sl:sl).join(".*"),"i");let me=s.value;if(ie===!0||me<0||Se.test(xe.value(e.options[me]))!==!0)do me=jl(me+1,-1,ae-1);while(me!==s.value&&(Ue.value(e.options[me])===!0||Se.test(xe.value(e.options[me]))!==!0));s.value!==me&&be(()=>{qe(me),j(me),me>=0&&e.useInput===!0&&e.fillInput===!0&&A(xe.value(e.options[me]),!0)});return}if(!(r.keyCode!==13&&(r.keyCode!==32||e.useInput===!0||x!=="")&&(r.keyCode!==9||$===!1))){if(r.keyCode!==9&&Ve(r),s.value!==-1&&s.value<ae){Fe(e.options[s.value]);return}if(L===!0){const re=(ie,Se)=>{if(Se){if(fn(Se)!==!0)return}else Se=e.newValueMode;if(W("",e.multiple!==!0,!0),ie==null)return;(Se==="toggle"?Fe:At)(ie,Se==="add-unique"),e.multiple!==!0&&(D.value!==null&&D.value.focus(),Xe())};if(e.onNewValue!==void 0?l("newValue",d.value,re):re(d.value),e.multiple!==!0)return}i.value===!0?ut():g.innerLoading.value!==!0&&st()}}function Tt(){return y===!0?q.value:I.value!==null&&I.value.contentEl!==null?I.value.contentEl:void 0}function al(){return Tt()}function ol(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?Re.value.map(r=>t["selected-item"](r)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?Re.value.map((r,L)=>m(Mo,{key:"option-"+L,removable:g.editable.value===!0&&Ue.value(r.opt)!==!0,dense:!0,textColor:e.color,tabindex:ke.value,onRemove(){r.removeAtIndex(L)}},()=>m("span",{class:"ellipsis",[r.html===!0?"innerHTML":"textContent"]:xe.value(r.opt)}))):[m("span",{[ze.value===!0?"innerHTML":"textContent"]:se.value})]}function Lt(){if(oe.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:d.value}):void 0;const r=t.option!==void 0?t.option:$=>m(Ta,{key:$.index,...$.itemProps},()=>m(Aa,()=>m(Ea,()=>m("span",{[$.html===!0?"innerHTML":"textContent"]:$.label}))));let L=X("div",je.value.map(r));return t["before-options"]!==void 0&&(L=t["before-options"]().concat(L)),el(t["after-options"],L)}function il(r,L){const $=L===!0?{...He.value,...g.splitAttrs.attributes.value}:void 0,ae={ref:L===!0?D:void 0,key:"i_t",class:_.value,style:e.inputStyle,value:d.value!==void 0?d.value:"",type:"search",...$,id:L===!0?g.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":r===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Rt.value};return r!==!0&&y===!0&&(Array.isArray(ae.class)===!0?ae.class=[...ae.class,"no-pointer-events"]:ae.class+=" no-pointer-events"),m("input",ae)}function w(r){h!==null&&(clearTimeout(h),h=null),C!==null&&(clearTimeout(C),C=null),!(r&&r.target&&r.target.qComposing===!0)&&(A(r.target.value||""),V=!0,H=d.value,g.focused.value!==!0&&(y!==!0||b.value===!0)&&g.focus(),e.onFilter!==void 0&&(h=setTimeout(()=>{h=null,Z(d.value)},e.inputDebounce)))}function A(r,L){d.value!==r&&(d.value=r,L===!0||e.inputDebounce===0||e.inputDebounce==="0"?l("inputValue",r):C=setTimeout(()=>{C=null,l("inputValue",r)},e.inputDebounce))}function W(r,L,$){V=$!==!0,e.useInput===!0&&(A(r,!0),(L===!0||$!==!0)&&(H=r),L!==!0&&Z(r))}function Z(r,L,$){if(e.onFilter===void 0||L!==!0&&g.focused.value!==!0)return;g.innerLoading.value===!0?l("filterAbort"):(g.innerLoading.value=!0,u.value=!0),r!==""&&e.multiple!==!0&&v.value.length!==0&&V!==!0&&r===xe.value(v.value[0])&&(r="");const ae=setTimeout(()=>{i.value===!0&&(i.value=!1)},10);p!==null&&clearTimeout(p),p=ae,l("filter",r,(re,ie)=>{(L===!0||g.focused.value===!0)&&p===ae&&(clearTimeout(p),typeof re=="function"&&re(),u.value=!1,be(()=>{g.innerLoading.value=!1,g.editable.value===!0&&(L===!0?i.value===!0&&Xe():i.value===!0?ul(!0):i.value=!0),typeof ie=="function"&&be(()=>{ie(n)}),typeof $=="function"&&be(()=>{$(n)})}))},()=>{g.focused.value===!0&&p===ae&&(clearTimeout(p),g.innerLoading.value=!1,u.value=!1),i.value===!0&&(i.value=!1)})}function ee(){return m(Io,{ref:I,class:F.value,style:e.popupContentStyle,modelValue:i.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&oe.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:Y.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:yt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Me.value,onScrollPassive:M,onBeforeShow:Tl,onBeforeHide:fe,onShow:ce},Lt)}function fe(r){Ll(r),ut()}function ce(){J()}function Ee(r){Ne(r),D.value!==null&&D.value.focus(),b.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Ce(r){Ne(r),be(()=>{b.value=!1})}function it(){const r=[m(Bo,{class:`col-auto ${g.fieldClass.value}`,...T.value,for:g.targetUid.value,dark:Y.value,square:!0,loading:u.value,itemAligned:!1,filled:!0,stackLabel:d.value.length!==0,...g.splitAttrs.listeners.value,onFocus:Ee,onBlur:Ce},{...t,rawControl:()=>g.getControl(!0),before:void 0,after:void 0})];return i.value===!0&&r.push(m("div",{ref:q,class:F.value+" scroll",style:e.popupContentStyle,...Me.value,onClick:Le,onScrollPassive:M},Lt())),m(qt,{ref:G,modelValue:a.value,position:e.useInput===!0?"top":void 0,transitionShow:U,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Tl,onBeforeHide:rt,onHide:rl,onShow:Jn},()=>m("div",{class:"q-select__dialog"+(Y.value===!0?" q-select__dialog--dark q-dark":"")+(b.value===!0?" q-select__dialog--focused":"")},r))}function rt(r){Ll(r),G.value!==null&&G.value.__updateRefocusTarget(g.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),g.focused.value=!1}function rl(r){Xe(),g.focused.value===!1&&l("blur",r),ct()}function Jn(){const r=document.activeElement;(r===null||r.id!==g.targetUid.value)&&D.value!==null&&D.value!==r&&D.value.focus(),J()}function ut(){a.value!==!0&&(s.value=-1,i.value===!0&&(i.value=!1),g.focused.value===!1&&(p!==null&&(clearTimeout(p),p=null),g.innerLoading.value===!0&&(l("filterAbort"),g.innerLoading.value=!1,u.value=!1)))}function st(r){g.editable.value===!0&&(y===!0?(g.onControlFocusin(r),a.value=!0,be(()=>{g.focus()})):g.focus(),e.onFilter!==void 0?Z(d.value):(oe.value!==!0||t["no-option"]!==void 0)&&(i.value=!0))}function Xe(){a.value=!1,ut()}function ct(){e.useInput===!0&&W(e.multiple!==!0&&e.fillInput===!0&&v.value.length!==0&&xe.value(v.value[0])||"",!0,!0)}function ul(r){let L=-1;if(r===!0){if(v.value.length!==0){const $=Pe.value(v.value[0]);L=e.options.findIndex(ae=>Ct(Pe.value(ae),$))}N(L)}qe(L)}function ea(r,L){i.value===!0&&g.innerLoading.value===!1&&(N(-1,!0),be(()=>{i.value===!0&&g.innerLoading.value===!1&&(r>L?N():ul(!0))}))}function El(){a.value===!1&&I.value!==null&&I.value.updatePosition()}function Tl(r){r!==void 0&&Ne(r),l("popupShow",r),g.hasPopupOpen=!0,g.onControlFocusin(r)}function Ll(r){r!==void 0&&Ne(r),l("popupHide",r),g.hasPopupOpen=!1,g.onControlFocusout(r)}function $l(){y=o.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||oe.value===!1:!0),U=o.platform.is.ios===!0&&y===!0&&e.useInput===!0?"fade":e.transitionShow}return wn($l),Ca(El),$l(),Be(()=>{h!==null&&clearTimeout(h),C!==null&&clearTimeout(C)}),Object.assign(n,{showPopup:st,hidePopup:Xe,removeAtIndex:nt,add:At,toggleOption:Fe,getOptionIndex:()=>s.value,setOptionIndex:qe,moveOptionSelection:Ae,filter:Z,updateMenuPosition:El,updateInputValue:W,isOptionSelected:at,getEmittingOptionValue:Ft,isOptionDisabled:(...r)=>Ue.value.apply(null,r)===!0,getOptionValue:(...r)=>Pe.value.apply(null,r),getOptionLabel:(...r)=>xe.value.apply(null,r)}),Object.assign(g,{innerValue:v,fieldClass:f(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:O,targetRef:D,hasValue:te,showPopup:st,floatingLabel:f(()=>e.hideSelected!==!0&&te.value===!0||typeof d.value=="number"||d.value.length!==0||Bt(e.displayValue)),getControlChild:()=>{if(g.editable.value!==!1&&(a.value===!0||oe.value!==!0||t["no-option"]!==void 0))return y===!0?it():ee();g.hasPopupOpen===!0&&(g.hasPopupOpen=!1)},controlEvents:{onFocusin(r){g.onControlFocusin(r)},onFocusout(r){g.onControlFocusout(r,()=>{ct(),ut()})},onClick(r){if(Le(r),y!==!0&&i.value===!0){ut(),D.value!==null&&D.value.focus();return}st(r)}},getControl:r=>{const L=ol(),$=r===!0||a.value!==!0||y!==!0;if(e.useInput===!0)L.push(il(r,$));else if(g.editable.value===!0){const re=$===!0?He.value:void 0;L.push(m("input",{ref:$===!0?D:void 0,key:"d_t",class:"q-select__focus-target",id:$===!0?g.targetUid.value:void 0,value:se.value,readonly:!0,"data-autofocus":r===!0||e.autofocus===!0||void 0,...re,onKeydown:Ge,onKeyup:Et,onKeypress:wt})),$===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&L.push(m("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:ot}))}if(k.value!==void 0&&e.disable!==!0&&Ze.value.length!==0){const re=Ze.value.map(ie=>m("option",{value:ie,selected:!0}));L.push(m("select",{class:"hidden",name:k.value,multiple:e.multiple},re))}const ae=e.useInput===!0||$!==!0?void 0:g.splitAttrs.attributes.value;return m("div",{class:"q-field__native row items-center",...ae,...g.splitAttrs.listeners.value},L)},getInnerAppend:()=>e.loading!==!0&&u.value!==!0&&e.hideDropdownIcon!==!0?[m($e,{class:"q-select__dropdown-icon"+(i.value===!0?" rotate-180":""),name:Ke.value})]:null}),Rl(g)}}),Uo={xs:2,sm:4,md:6,lg:10,xl:14};function vn(e,t,l){return{transform:t===!0?`translateX(${l.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const Xn=ge({name:"QLinearProgress",props:{...De,...Vl,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:l}=de(),n=Ie(e,l.$q),o=Bl(e,Uo),i=f(()=>e.indeterminate===!0||e.query===!0),a=f(()=>e.reverse!==e.query),s=f(()=>({...o.value!==null?o.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),d=f(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),b=f(()=>vn(e.buffer!==void 0?e.buffer:1,a.value,l.$q)),u=f(()=>`with${e.instantFeedback===!0?"out":""}-transition`),h=f(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${u.value} q-linear-progress__track--${n.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),C=f(()=>vn(i.value===!0?1:e.value,a.value,l.$q)),c=f(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${u.value} q-linear-progress__model--${i.value===!0?"in":""}determinate`),y=f(()=>({width:`${e.value*100}%`})),V=f(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${u.value}`);return()=>{const p=[m("div",{class:h.value,style:b.value}),m("div",{class:c.value,style:C.value})];return e.stripe===!0&&i.value===!1&&p.push(m("div",{class:V.value,style:y.value})),m("div",{class:d.value,style:s.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},el(t.default,p))}}});function No(e,t){const l=E(null),n=f(()=>e.disable===!0?null:m("span",{ref:l,class:"no-outline",tabindex:-1}));function o(i){const a=t.value;i!==void 0&&i.type.indexOf("key")===0?a!==null&&document.activeElement!==a&&a.contains(document.activeElement)===!0&&a.focus():l.value!==null&&(i===void 0||a!==null&&a.contains(i.target)===!0)&&l.value.focus()}return{refocusTargetEl:n,refocusTarget:o}}const Qo={xs:30,sm:35,md:40,lg:50,xl:60},Ko={...De,...Vl,...Fl,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Wo=["update:modelValue"];function Zo(e,t){const{props:l,slots:n,emit:o,proxy:i}=de(),{$q:a}=i,s=Ie(l,a),d=E(null),{refocusTargetEl:b,refocusTarget:u}=No(l,d),h=Bl(l,Qo),C=f(()=>l.val!==void 0&&Array.isArray(l.modelValue)),c=f(()=>{const S=ft(l.val);return C.value===!0?l.modelValue.findIndex(z=>ft(z)===S):-1}),y=f(()=>C.value===!0?c.value!==-1:ft(l.modelValue)===ft(l.trueValue)),V=f(()=>C.value===!0?c.value===-1:ft(l.modelValue)===ft(l.falseValue)),p=f(()=>y.value===!1&&V.value===!1),H=f(()=>l.disable===!0?-1:l.tabindex||0),U=f(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(l.disable===!0?" disabled":"")+(s.value===!0?` q-${e}--dark`:"")+(l.dense===!0?` q-${e}--dense`:"")+(l.leftLabel===!0?" reverse":"")),x=f(()=>{const S=y.value===!0?"truthy":V.value===!0?"falsy":"indet",z=l.color!==void 0&&(l.keepColor===!0||V.value!==!0)?` text-${l.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${S}${z}`}),B=f(()=>{const S={type:"checkbox"};return l.name!==void 0&&Object.assign(S,{".checked":y.value,"^checked":y.value===!0?"checked":void 0,name:l.name,value:C.value===!0?l.val:l.trueValue}),S}),O=io(B),D=f(()=>{const S={tabindex:H.value,role:"checkbox","aria-label":l.label,"aria-checked":p.value===!0?"mixed":y.value===!0?"true":"false"};return l.disable===!0&&(S["aria-disabled"]="true"),S});function I(S){S!==void 0&&(Ve(S),u(S)),l.disable!==!0&&o("update:modelValue",G(),S)}function G(){if(C.value===!0){if(y.value===!0){const S=l.modelValue.slice();return S.splice(c.value,1),S}return l.modelValue.concat([l.val])}if(y.value===!0){if(l.toggleOrder!=="ft"||l.toggleIndeterminate===!1)return l.falseValue}else if(V.value===!0){if(l.toggleOrder==="ft"||l.toggleIndeterminate===!1)return l.trueValue}else return l.toggleOrder!=="ft"?l.trueValue:l.falseValue;return l.indeterminateValue}function q(S){(S.keyCode===13||S.keyCode===32)&&Ve(S)}function k(S){(S.keyCode===13||S.keyCode===32)&&I(S)}const R=t(y,p);return Object.assign(i,{toggle:I}),()=>{const S=R();l.disable!==!0&&O(S,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const z=[m("div",{class:x.value,style:h.value,"aria-hidden":"true"},S)];b.value!==null&&z.push(b.value);const K=l.label!==void 0?el(n.default,[l.label]):ye(n.default);return K!==void 0&&z.push(m("div",{class:`q-${e}__label q-anchor--skip`},K)),m("div",{ref:d,class:U.value,...D.value,onClick:I,onKeydown:q,onKeyup:k},z)}}const Go=()=>m("div",{key:"svg",class:"q-checkbox__bg absolute"},[m("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[m("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),m("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),yl=ge({name:"QCheckbox",props:Ko,emits:Wo,setup(e){const t=Go();function l(n,o){const i=f(()=>(n.value===!0?e.checkedIcon:o.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>i.value!==null?[m("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[m($e,{class:"q-checkbox__icon",name:i.value})])]:[t]}return Zo("checkbox",l)}});let kt=0;const Xo={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Yo=["update:fullscreen","fullscreen"];function Jo(){const e=de(),{props:t,emit:l,proxy:n}=e;let o,i,a;const s=E(!1);pa(e)===!0&&le(()=>n.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&u()}),le(()=>t.fullscreen,h=>{s.value!==h&&d()}),le(s,h=>{l("update:fullscreen",h),l("fullscreen",h)});function d(){s.value===!0?u():b()}function b(){s.value!==!0&&(s.value=!0,a=n.$el.parentNode,a.replaceChild(i,n.$el),document.body.appendChild(n.$el),kt++,kt===1&&document.body.classList.add("q-body--fullscreen-mixin"),o={handler:u},Dl.add(o))}function u(){s.value===!0&&(o!==void 0&&(Dl.remove(o),o=void 0),a.replaceChild(n.$el,i),s.value=!1,kt=Math.max(0,kt-1),kt===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),n.$el.scrollIntoView!==void 0&&setTimeout(()=>{n.$el.scrollIntoView()})))}return _l(()=>{i=document.createElement("span")}),Oe(()=>{t.fullscreen===!0&&b()}),Be(u),Object.assign(n,{toggleFullscreen:d,setFullscreen:b,exitFullscreen:u}),{inFullscreen:s,toggleFullscreen:d}}function ei(e,t){return new Date(e)-new Date(t)}const ti={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function li(e,t,l,n){const o=f(()=>{const{sortBy:s}=t.value;return s&&l.value.find(d=>d.name===s)||null}),i=f(()=>e.sortMethod!==void 0?e.sortMethod:(s,d,b)=>{const u=l.value.find(c=>c.name===d);if(u===void 0||u.field===void 0)return s;const h=b===!0?-1:1,C=typeof u.field=="function"?c=>u.field(c):c=>c[u.field];return s.sort((c,y)=>{let V=C(c),p=C(y);return u.rawSort!==void 0?u.rawSort(V,p,c,y)*h:V==null?-1*h:p==null?1*h:u.sort!==void 0?u.sort(V,p,c,y)*h:Sl(V)===!0&&Sl(p)===!0?(V-p)*h:Il(V)===!0&&Il(p)===!0?ei(V,p)*h:typeof V=="boolean"&&typeof p=="boolean"?(V-p)*h:([V,p]=[V,p].map(H=>(H+"").toLocaleString().toLowerCase()),V<p?-1*h:V===p?0:h)})});function a(s){let d=e.columnSortOrder;if(ka(s)===!0)s.sortOrder&&(d=s.sortOrder),s=s.name;else{const h=l.value.find(C=>C.name===s);h!==void 0&&h.sortOrder&&(d=h.sortOrder)}let{sortBy:b,descending:u}=t.value;b!==s?(b=s,u=d==="da"):e.binaryStateSort===!0?u=!u:u===!0?d==="ad"?b=null:u=!1:d==="ad"?u=!0:b=null,n({sortBy:b,descending:u,page:1})}return{columnToSort:o,computedSortMethod:i,sort:a}}const ni={filter:[String,Object],filterMethod:Function};function ai(e,t){const l=f(()=>e.filterMethod!==void 0?e.filterMethod:(n,o,i,a)=>{const s=o?o.toLowerCase():"";return n.filter(d=>i.some(b=>{const u=a(b,d)+"";return(u==="undefined"||u==="null"?"":u.toLowerCase()).indexOf(s)!==-1}))});return le(()=>e.filter,()=>{be(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:l}}function oi(e,t){for(const l in t)if(t[l]!==e[l])return!1;return!0}function mn(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const ii={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function ri(e,t){const{props:l,emit:n}=e,o=E(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:l.rowsPerPageOptions.length!==0?l.rowsPerPageOptions[0]:5},l.pagination)),i=f(()=>{const u=l["onUpdate:pagination"]!==void 0?{...o.value,...l.pagination}:o.value;return mn(u)}),a=f(()=>i.value.rowsNumber!==void 0);function s(u){d({pagination:u,filter:l.filter})}function d(u={}){be(()=>{n("request",{pagination:u.pagination||i.value,filter:u.filter||l.filter,getCellValue:t})})}function b(u,h){const C=mn({...i.value,...u});if(oi(i.value,C)===!0){a.value===!0&&h===!0&&s(C);return}if(a.value===!0){s(C);return}l.pagination!==void 0&&l["onUpdate:pagination"]!==void 0?n("update:pagination",C):o.value=C}return{innerPagination:o,computedPagination:i,isServerSide:a,requestServerInteraction:d,setPagination:b}}function ui(e,t,l,n,o,i){const{props:a,emit:s,proxy:{$q:d}}=e,b=f(()=>n.value===!0?l.value.rowsNumber||0:i.value),u=f(()=>{const{page:B,rowsPerPage:O}=l.value;return(B-1)*O}),h=f(()=>{const{page:B,rowsPerPage:O}=l.value;return B*O}),C=f(()=>l.value.page===1),c=f(()=>l.value.rowsPerPage===0?1:Math.max(1,Math.ceil(b.value/l.value.rowsPerPage))),y=f(()=>h.value===0?!0:l.value.page>=c.value),V=f(()=>(a.rowsPerPageOptions.includes(t.value.rowsPerPage)?a.rowsPerPageOptions:[t.value.rowsPerPage].concat(a.rowsPerPageOptions)).map(O=>({label:O===0?d.lang.table.allRows:""+O,value:O})));le(c,(B,O)=>{if(B===O)return;const D=l.value.page;B&&!D?o({page:1}):B<D&&o({page:B})});function p(){o({page:1})}function H(){const{page:B}=l.value;B>1&&o({page:B-1})}function U(){const{page:B,rowsPerPage:O}=l.value;h.value>0&&B*O<b.value&&o({page:B+1})}function x(){o({page:c.value})}return a["onUpdate:pagination"]!==void 0&&s("update:pagination",{...l.value}),{firstRowIndex:u,lastRowIndex:h,isFirstPage:C,isLastPage:y,pagesNumber:c,computedRowsPerPageOptions:V,computedRowsNumber:b,firstPage:p,prevPage:H,nextPage:U,lastPage:x}}const si={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},ci=["update:selected","selection"];function di(e,t,l,n){const o=f(()=>{const y={};return e.selected.map(n.value).forEach(V=>{y[V]=!0}),y}),i=f(()=>e.selection!=="none"),a=f(()=>e.selection==="single"),s=f(()=>e.selection==="multiple"),d=f(()=>l.value.length!==0&&l.value.every(y=>o.value[n.value(y)]===!0)),b=f(()=>d.value!==!0&&l.value.some(y=>o.value[n.value(y)]===!0)),u=f(()=>e.selected.length);function h(y){return o.value[y]===!0}function C(){t("update:selected",[])}function c(y,V,p,H){t("selection",{rows:V,added:p,keys:y,evt:H});const U=a.value===!0?p===!0?V:[]:p===!0?e.selected.concat(V):e.selected.filter(x=>y.includes(n.value(x))===!1);t("update:selected",U)}return{hasSelectionMode:i,singleSelection:a,multipleSelection:s,allRowsSelected:d,someRowsSelected:b,rowsSelectedNumber:u,isRowSelected:h,clearSelection:C,updateSelection:c}}function gn(e){return Array.isArray(e)?e.slice():[]}const fi={expanded:Array},vi=["update:expanded"];function mi(e,t){const l=E(gn(e.expanded));le(()=>e.expanded,a=>{l.value=gn(a)});function n(a){return l.value.includes(a)}function o(a){e.expanded!==void 0?t("update:expanded",a):l.value=a}function i(a,s){const d=l.value.slice(),b=d.indexOf(a);s===!0?b===-1&&(d.push(a),o(d)):b!==-1&&(d.splice(b,1),o(d))}return{isRowExpanded:n,setExpanded:o,updateExpanded:i}}const gi={visibleColumns:Array};function hi(e,t,l){const n=f(()=>{if(e.columns!==void 0)return e.columns;const s=e.rows[0];return s!==void 0?Object.keys(s).map(d=>({name:d,label:d.toUpperCase(),field:d,align:Sl(s[d])?"right":"left",sortable:!0})):[]}),o=f(()=>{const{sortBy:s,descending:d}=t.value;return(e.visibleColumns!==void 0?n.value.filter(u=>u.required===!0||e.visibleColumns.includes(u.name)===!0):n.value).map(u=>{const h=u.align||"right",C=`text-${h}`;return{...u,align:h,__iconClass:`q-table__sort-icon q-table__sort-icon--${h}`,__thClass:C+(u.headerClasses!==void 0?" "+u.headerClasses:"")+(u.sortable===!0?" sortable":"")+(u.name===s?` sorted ${d===!0?"sort-desc":""}`:""),__tdStyle:u.style!==void 0?typeof u.style!="function"?()=>u.style:u.style:()=>null,__tdClass:u.classes!==void 0?typeof u.classes!="function"?()=>C+" "+u.classes:c=>C+" "+u.classes(c):()=>C}})}),i=f(()=>{const s={};return o.value.forEach(d=>{s[d.name]=d}),s}),a=f(()=>e.tableColspan!==void 0?e.tableColspan:o.value.length+(l.value===!0?1:0));return{colList:n,computedCols:o,computedColsMap:i,computedColspan:a}}const zt="q-table__bottom row items-center",Yn={};Wn.forEach(e=>{Yn[e]={}});const hn=ge({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...Yn,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...De,...Xo,...gi,...ni,...ii,...fi,...si,...ti},emits:["request","virtualScroll",...Yo,...vi,...ci],setup(e,{slots:t,emit:l}){const n=de(),{proxy:{$q:o}}=n,i=Ie(e,o),{inFullscreen:a,toggleFullscreen:s}=Jo(),d=f(()=>typeof e.rowKey=="function"?e.rowKey:w=>w[e.rowKey]),b=E(null),u=E(null),h=f(()=>e.grid!==!0&&e.virtualScroll===!0),C=f(()=>" q-table__card"+(i.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),c=f(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":C.value)+(i.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(a.value===!0?" fullscreen scroll":"")),y=f(()=>c.value+(e.loading===!0?" q-table--loading":""));le(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+c.value,()=>{h.value===!0&&u.value!==null&&u.value.reset()});const{innerPagination:V,computedPagination:p,isServerSide:H,requestServerInteraction:U,setPagination:x}=ri(n,qe),{computedFilterMethod:B}=ai(e,x),{isRowExpanded:O,setExpanded:D,updateExpanded:I}=mi(e,l),G=f(()=>{let w=e.rows;if(H.value===!0||w.length===0)return w;const{sortBy:A,descending:W}=p.value;return e.filter&&(w=B.value(w,e.filter,g.value,qe)),Y.value!==null&&(w=te.value(e.rows===w?w.slice():w,A,W)),w}),q=f(()=>G.value.length),k=f(()=>{let w=G.value;if(H.value===!0)return w;const{rowsPerPage:A}=p.value;return A!==0&&(F.value===0&&e.rows!==w?w.length>oe.value&&(w=w.slice(0,oe.value)):w=w.slice(F.value,oe.value)),w}),{hasSelectionMode:R,singleSelection:S,multipleSelection:z,allRowsSelected:K,someRowsSelected:ne,rowsSelectedNumber:N,isRowSelected:X,clearSelection:M,updateSelection:j}=di(e,l,k,d),{colList:J,computedCols:g,computedColsMap:v,computedColspan:T}=hi(e,p,R),{columnToSort:Y,computedSortMethod:te,sort:_}=li(e,p,J,x),{firstRowIndex:F,lastRowIndex:oe,isFirstPage:P,isLastPage:se,pagesNumber:pe,computedRowsPerPageOptions:ze,computedRowsNumber:ke,firstPage:He,prevPage:Me,nextPage:Re,lastPage:je}=ui(n,V,p,H,x,q),Ke=f(()=>k.value.length===0),yt=f(()=>{const w={};return Wn.forEach(A=>{w[A]=e[A]}),w.virtualScrollItemSize===void 0&&(w.virtualScrollItemSize=e.dense===!0?28:48),w});function We(){h.value===!0&&u.value.reset()}function Pe(){if(e.grid===!0)return il();const w=e.hideHeader!==!0?St:null;if(h.value===!0){const W=t["top-row"],Z=t["bottom-row"],ee={default:fe=>Rt(fe.item,t.body,fe.index)};if(W!==void 0){const fe=m("tbody",W({cols:g.value}));ee.before=w===null?()=>fe:()=>[w()].concat(fe)}else w!==null&&(ee.before=w);return Z!==void 0&&(ee.after=()=>m("tbody",Z({cols:g.value}))),m(Vo,{ref:u,class:e.tableClass,style:e.tableStyle,...yt.value,scrollTarget:e.virtualScrollTarget,items:k.value,type:"__qtable",tableColspan:T.value,onVirtualScroll:Ue},ee)}const A=[Ft()];return w!==null&&A.unshift(w()),Nn({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},A)}function xe(w,A){if(u.value!==null){u.value.scrollTo(w,A);return}w=parseInt(w,10);const W=b.value.querySelector(`tbody tr:nth-of-type(${w+1})`);if(W!==null){const Z=b.value.querySelector(".q-table__middle.scroll"),ee=W.offsetTop-e.virtualScrollStickySizeStart,fe=ee<Z.scrollTop?"decrease":"increase";Z.scrollTop=ee,l("virtualScroll",{index:w,from:0,to:V.value.rowsPerPage-1,direction:fe})}}function Ue(w){l("virtualScroll",w)}function Ze(){return[m(Xn,{class:"q-table__linear-progress",color:e.color,dark:i.value,indeterminate:!0,trackColor:"transparent"})]}function Rt(w,A,W){const Z=d.value(w),ee=X(Z);if(A!==void 0)return A(nt({key:Z,row:w,pageIndex:W,__trClass:ee?"selected":""}));const fe=t["body-cell"],ce=g.value.map(Ce=>{const it=t[`body-cell-${Ce.name}`],rt=it!==void 0?it:fe;return rt!==void 0?rt(ll({key:Z,row:w,pageIndex:W,col:Ce})):m("td",{class:Ce.__tdClass(w),style:Ce.__tdStyle(w)},qe(Ce,w))});if(R.value===!0){const Ce=t["body-selection"],it=Ce!==void 0?Ce(At({key:Z,row:w,pageIndex:W})):[m(yl,{modelValue:ee,color:e.color,dark:i.value,dense:e.dense,"onUpdate:modelValue":(rt,rl)=>{j([Z],[w],rt,rl)}})];ce.unshift(m("td",{class:"q-table--col-auto-width"},it))}const Ee={key:Z,class:{selected:ee}};return e.onRowClick!==void 0&&(Ee.class["cursor-pointer"]=!0,Ee.onClick=Ce=>{l("rowClick",Ce,w,W)}),e.onRowDblclick!==void 0&&(Ee.class["cursor-pointer"]=!0,Ee.onDblclick=Ce=>{l("rowDblclick",Ce,w,W)}),e.onRowContextmenu!==void 0&&(Ee.class["cursor-pointer"]=!0,Ee.onContextmenu=Ce=>{l("rowContextmenu",Ce,w,W)}),m("tr",Ee,ce)}function Ft(){const w=t.body,A=t["top-row"],W=t["bottom-row"];let Z=k.value.map((ee,fe)=>Rt(ee,w,fe));return A!==void 0&&(Z=A({cols:g.value}).concat(Z)),W!==void 0&&(Z=Z.concat(W({cols:g.value}))),m("tbody",Z)}function nt(w){return Fe(w),w.cols=w.cols.map(A=>Qe({...A},"value",()=>qe(A,w.row))),w}function ll(w){return Fe(w),Qe(w,"value",()=>qe(w.col,w.row)),w}function At(w){return Fe(w),w}function Fe(w){Object.assign(w,{cols:g.value,colsMap:v.value,sort:_,rowIndex:F.value+w.pageIndex,color:e.color,dark:i.value,dense:e.dense}),R.value===!0&&Qe(w,"selected",()=>X(w.key),(A,W)=>{j([w.key],[w.row],A,W)}),Qe(w,"expand",()=>O(w.key),A=>{I(w.key,A)})}function qe(w,A){const W=typeof w.field=="function"?w.field(A):A[w.field];return w.format!==void 0?w.format(W,A):W}const Ae=f(()=>({pagination:p.value,pagesNumber:pe.value,isFirstPage:P.value,isLastPage:se.value,firstPage:He,prevPage:Me,nextPage:Re,lastPage:je,inFullscreen:a.value,toggleFullscreen:s}));function nl(){const w=t.top,A=t["top-left"],W=t["top-right"],Z=t["top-selection"],ee=R.value===!0&&Z!==void 0&&N.value>0,fe="q-table__top relative-position row items-center";if(w!==void 0)return m("div",{class:fe},[w(Ae.value)]);let ce;if(ee===!0?ce=Z(Ae.value).slice():(ce=[],A!==void 0?ce.push(m("div",{class:"q-table__control"},[A(Ae.value)])):e.title&&ce.push(m("div",{class:"q-table__control"},[m("div",{class:["q-table__title",e.titleClass]},e.title)]))),W!==void 0&&(ce.push(m("div",{class:"q-table__separator col"})),ce.push(m("div",{class:"q-table__control"},[W(Ae.value)]))),ce.length!==0)return m("div",{class:fe},ce)}const at=f(()=>ne.value===!0?null:K.value);function St(){const w=Et();return e.loading===!0&&t.loading===void 0&&w.push(m("tr",{class:"q-table__progress"},[m("th",{class:"relative-position",colspan:T.value},Ze())])),m("thead",w)}function Et(){const w=t.header,A=t["header-cell"];if(w!==void 0)return w(ot({header:!0})).slice();const W=g.value.map(Z=>{const ee=t[`header-cell-${Z.name}`],fe=ee!==void 0?ee:A,ce=ot({col:Z});return fe!==void 0?fe(ce):m(yo,{key:Z.name,props:ce},()=>Z.label)});if(S.value===!0&&e.grid!==!0)W.unshift(m("th",{class:"q-table--col-auto-width"}," "));else if(z.value===!0){const Z=t["header-selection"],ee=Z!==void 0?Z(ot({})):[m(yl,{color:e.color,modelValue:at.value,dark:i.value,dense:e.dense,"onUpdate:modelValue":wt})];W.unshift(m("th",{class:"q-table--col-auto-width"},ee))}return[m("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},W)]}function ot(w){return Object.assign(w,{cols:g.value,sort:_,colsMap:v.value,color:e.color,dark:i.value,dense:e.dense}),z.value===!0&&Qe(w,"selected",()=>at.value,wt),w}function wt(w){ne.value===!0&&(w=!1),j(k.value.map(d.value),k.value,w)}const Ge=f(()=>{const w=[e.iconFirstPage||o.iconSet.table.firstPage,e.iconPrevPage||o.iconSet.table.prevPage,e.iconNextPage||o.iconSet.table.nextPage,e.iconLastPage||o.iconSet.table.lastPage];return o.lang.rtl===!0?w.reverse():w});function Tt(){if(e.hideBottom===!0)return;if(Ke.value===!0){if(e.hideNoData===!0)return;const W=e.loading===!0?e.loadingLabel||o.lang.table.loading:e.filter?e.noResultsLabel||o.lang.table.noResults:e.noDataLabel||o.lang.table.noData,Z=t["no-data"],ee=Z!==void 0?[Z({message:W,icon:o.iconSet.table.warning,filter:e.filter})]:[m($e,{class:"q-table__bottom-nodata-icon",name:o.iconSet.table.warning}),W];return m("div",{class:zt+" q-table__bottom--nodata"},ee)}const w=t.bottom;if(w!==void 0)return m("div",{class:zt},[w(Ae.value)]);const A=e.hideSelectedBanner!==!0&&R.value===!0&&N.value>0?[m("div",{class:"q-table__control"},[m("div",[(e.selectedRowsLabel||o.lang.table.selectedRecords)(N.value)])])]:[];if(e.hidePagination!==!0)return m("div",{class:zt+" justify-end"},ol(A));if(A.length!==0)return m("div",{class:zt},A)}function al(w){x({page:1,rowsPerPage:w.value})}function ol(w){let A;const{rowsPerPage:W}=p.value,Z=e.paginationLabel||o.lang.table.pagination,ee=t.pagination,fe=e.rowsPerPageOptions.length>1;if(w.push(m("div",{class:"q-table__separator col"})),fe===!0&&w.push(m("div",{class:"q-table__control"},[m("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||o.lang.table.recordsPerPage]),m(jo,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:W,options:ze.value,displayValue:W===0?o.lang.table.allRows:W,dark:i.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":al})])),ee!==void 0)A=ee(Ae.value);else if(A=[m("span",W!==0?{class:"q-table__bottom-item"}:{},[W?Z(F.value+1,Math.min(oe.value,ke.value),ke.value):Z(1,q.value,ke.value)])],W!==0&&pe.value>1){const ce={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(ce.size="sm"),pe.value>2&&A.push(m(ve,{key:"pgFirst",...ce,icon:Ge.value[0],disable:P.value,onClick:He})),A.push(m(ve,{key:"pgPrev",...ce,icon:Ge.value[1],disable:P.value,onClick:Me}),m(ve,{key:"pgNext",...ce,icon:Ge.value[2],disable:se.value,onClick:Re})),pe.value>2&&A.push(m(ve,{key:"pgLast",...ce,icon:Ge.value[3],disable:se.value,onClick:je}))}return w.push(m("div",{class:"q-table__control"},A)),w}function Lt(){const w=e.gridHeader===!0?[m("table",{class:"q-table"},[St()])]:e.loading===!0&&t.loading===void 0?Ze():void 0;return m("div",{class:"q-table__middle"},w)}function il(){const w=t.item!==void 0?t.item:A=>{const W=A.cols.map(ee=>m("div",{class:"q-table__grid-item-row"},[m("div",{class:"q-table__grid-item-title"},[ee.label]),m("div",{class:"q-table__grid-item-value"},[ee.value])]));if(R.value===!0){const ee=t["body-selection"],fe=ee!==void 0?ee(A):[m(yl,{modelValue:A.selected,color:e.color,dark:i.value,dense:e.dense,"onUpdate:modelValue":(ce,Ee)=>{j([A.key],[A.row],ce,Ee)}})];W.unshift(m("div",{class:"q-table__grid-item-row"},fe),m(wo,{dark:i.value}))}const Z={class:["q-table__grid-item-card"+C.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0||e.onRowContextmenu!==void 0)&&(Z.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(Z.onClick=ee=>{l("RowClick",ee,A.row,A.pageIndex)}),e.onRowDblclick!==void 0&&(Z.onDblclick=ee=>{l("RowDblclick",ee,A.row,A.pageIndex)}),e.onRowContextmenu!==void 0&&(Z.onContextmenu=ee=>{l("rowContextmenu",ee,A.row,A.pageIndex)})),m("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(A.selected===!0?" q-table__grid-item--selected":"")},[m("div",Z,W)])};return m("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},k.value.map((A,W)=>w(nt({key:d.value(A),row:A,pageIndex:W}))))}return Object.assign(n.proxy,{requestServerInteraction:U,setPagination:x,firstPage:He,prevPage:Me,nextPage:Re,lastPage:je,isRowSelected:X,clearSelection:M,isRowExpanded:O,setExpanded:D,sort:_,resetVirtualScroll:We,scrollTo:xe,getCellValue:qe}),xa(n.proxy,{filteredSortedRows:()=>G.value,computedRows:()=>k.value,computedRowsNumber:()=>ke.value}),()=>{const w=[nl()],A={ref:b,class:y.value};return e.grid===!0?w.push(Lt()):Object.assign(A,{class:[A.class,e.cardClass],style:e.cardStyle}),w.push(Pe(),Tt()),e.loading===!0&&t.loading!==void 0&&w.push(t.loading()),m("div",A,w)}}}),bi=Sn("callList",()=>{const e=E([]),t=E(!1),l=E(0),n=E(!1),o=E(null),i=f(()=>{const C=new Set;return e.value.filter(c=>{const y=C.has(c.phone_number);return C.add(c.phone_number),!y})});function a(C){(Array.isArray(C)?C:[C]).forEach(y=>{e.value.some(V=>V.phone_number===y.phone_number)||e.value.push(y)})}function s(C){e.value=e.value.filter(c=>c.phone_number!==C.phone_number)}function d(C){const c=Array.isArray(C)?C:[C];e.value=e.value.filter(y=>!c.some(V=>V.phone_number===y.phone_number))}async function b(){t.value=!0,l.value=0,n.value=!1;const C=i.value;try{for(const[c,y]of C.entries()){if(n.value)break;l.value=c,o.value=y,await Ye.post("/make_call",{phone_number:y.phone_number}),await new Promise(V=>setTimeout(V,1e3))}}catch(c){throw console.error("Failed to complete calls:",c),c}finally{t.value=!1,o.value=null,l.value=0,n.value=!1}}function u(){n.value=!0}function h(){e.value=[]}return{callList:i,calling:t,currentCallIndex:l,currentUser:o,shouldCancelCalls:n,addToCallList:a,removeFromCallList:s,removeSelectedFromCallList:d,callAllInList:b,cancelCalls:u,clearCallList:h}}),yi=qa({name:"UsersTable",props:{users:{type:Array,required:!0},loading:{type:Boolean,default:!1}},emits:["edit","delete","call","bulk-delete"],setup(e,{emit:t}){const l=zn(),n=bi(),o=E([]),i=E([]),a=[{name:"phone_number",required:!0,label:"Phone Number",align:"left",field:"phone_number",sortable:!0},{name:"name",label:"Name",align:"left",field:"name",sortable:!0},{name:"comments",label:"Comments",align:"left",field:"comments"},{name:"last_called_at",label:"Last Called",align:"left",field:"last_called_at",format:c=>s(c)},{name:"actions",label:"Actions",align:"center"}],s=c=>{if(!c)return"Never";const y=new Date(c),V=new Intl.RelativeTimeFormat(void 0,{numeric:"auto",style:"long"}),H=(new Date().getTime()-y.getTime())/1e3,x=[{seconds:60,divisor:1,unit:"second"},{seconds:3600,divisor:60,unit:"minute"},{seconds:86400,divisor:3600,unit:"hour"},{seconds:2592e3,divisor:86400,unit:"day"},{seconds:31536e3,divisor:2592e3,unit:"month"},{seconds:1/0,divisor:31536e3,unit:"year"}].find(B=>H<B.seconds);if(x){const B=Math.floor(H/x.divisor);return V.format(-B,x.unit)}return y.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})},d=()=>{t("bulk-delete",o.value)},b=()=>{n.addToCallList(o.value),o.value=[]},u=c=>{n.removeFromCallList(c)},h=()=>{n.removeSelectedFromCallList(i.value),i.value=[]},C=async()=>{try{await n.callAllInList(),l.notify({type:"positive",message:"All calls completed successfully"})}catch(c){l.notify({type:"negative",message:`Failed to complete calls: ${c.message}`})}};return{columns:a,selected:o,selectedCallListUsers:i,callList:f(()=>n.callList),calling:f(()=>n.calling),callListStore:n,formatLastCalledDate:s,onDeleteSelected:d,addSelectedToCallList:b,removeFromCallList:u,removeSelectedFromCallList:h,callAllInList:C}}}),Si={class:"q-mb-md"},wi={class:"row q-mb-md"},Ci={class:"row q-mb-md items-center"},pi={class:"full-width row flex-center text-grey q-gutter-sm q-pa-md"},ki={key:0,class:"q-ml-md"},xi={key:1,class:"q-ml-md"};function qi(e,t,l,n,o,i){return xt(),cl("div",null,[_e("div",Si,[_e("div",wi,[Q(ve,{color:"negative",icon:"delete",label:"Delete Selected",onClick:e.onDeleteSelected,disable:e.selected.length===0,class:"q-mr-sm"},null,8,["onClick","disable"]),Q(ve,{color:"primary",icon:"add",label:"Add to Call List",onClick:e.addSelectedToCallList,disable:e.selected.length===0,class:"q-mr-sm"},null,8,["onClick","disable"])]),Q(hn,{rows:e.users,columns:e.columns,"row-key":"phone_number",loading:e.loading,selection:"multiple",selected:e.selected,"onUpdate:selected":t[0]||(t[0]=a=>e.selected=a)},{"body-cell-actions":ue(a=>[Q(nn,{props:a},{default:ue(()=>[Q(ln,{flat:""},{default:ue(()=>[Q(ve,{flat:"",round:"",color:"primary",icon:"edit",onClick:s=>e.$emit("edit",a.row)},null,8,["onClick"]),Q(ve,{flat:"",round:"",color:"negative",icon:"delete",onClick:s=>e.$emit("delete",a.row)},null,8,["onClick"]),Q(ve,{flat:"",round:"",color:"secondary",icon:"phone",onClick:s=>e.$emit("call",a.row)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading","selected"])]),_e("div",null,[_e("div",Ci,[t[5]||(t[5]=_e("div",{class:"text-h6 q-mr-md"},"Call List",-1)),Q(ve,{color:"negative",icon:"clear",label:"Clear List",onClick:t[1]||(t[1]=a=>e.callListStore.clearCallList()),disable:e.callList.length===0,class:"q-mr-sm"},null,8,["disable"]),Q(ve,{color:"negative",icon:"delete",label:"Delete Selected",onClick:e.removeSelectedFromCallList,disable:e.selectedCallListUsers.length===0,class:"q-mr-sm"},null,8,["onClick","disable"]),Q(ve,{color:"primary",icon:"phone",label:"Call All",onClick:e.callAllInList,disable:e.callList.length===0||e.calling,loading:e.calling},null,8,["onClick","disable","loading"])]),Q(hn,{rows:e.callList,columns:e.columns,"row-key":"phone_number",selection:"multiple",selected:e.selectedCallListUsers,"onUpdate:selected":t[2]||(t[2]=a=>e.selectedCallListUsers=a)},{"body-cell-actions":ue(a=>[Q(nn,{props:a},{default:ue(()=>[Q(ln,{flat:""},{default:ue(()=>[Q(ve,{flat:"",round:"",color:"negative",icon:"delete",onClick:s=>e.removeFromCallList(a.row)},null,8,["onClick"]),Q(ve,{flat:"",round:"",color:"secondary",icon:"phone",onClick:s=>e.$emit("call",a.row)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),"no-data":ue(()=>[_e("div",pi,[Q($e,{size:"2em",name:"list"}),t[6]||(t[6]=_e("span",null,"No clients in call list",-1))])]),_:1},8,["rows","columns","selected"])]),Q(qt,{persistent:"",modelValue:e.callListStore.calling,"onUpdate:modelValue":t[4]||(t[4]=a=>e.callListStore.calling=a)},{default:ue(()=>[Q(jt,{style:{"min-width":"350px"}},{default:ue(()=>[Q(vt,{class:"row items-center"},{default:ue(()=>[Q(wl,{icon:"phone",color:"primary","text-color":"white"}),e.callListStore.currentUser?(xt(),cl("span",ki," Calling "+mt(e.callListStore.currentUser.name||e.callListStore.currentUser.phone_number)+" ("+mt(e.callListStore.currentCallIndex+1)+" of "+mt(e.callList.length)+") ",1)):(xt(),cl("span",xi," Initializing calls... "))]),_:1}),Q(vt,null,{default:ue(()=>[Q(Xn,{value:e.callList.length?(e.callListStore.currentCallIndex+1)/e.callList.length:0,color:"primary",class:"q-mt-md"},null,8,["value"])]),_:1}),Q(pl,{align:"right"},{default:ue(()=>[Q(ve,{flat:"",label:"Cancel Remaining",color:"negative",onClick:t[3]||(t[3]=a=>e.callListStore.cancelCalls()),disable:e.callListStore.shouldCancelCalls},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const _i=Al(yi,[["render",qi],["__scopeId","data-v-d0bb8d71"]]),Vi={name:"UsersPage",components:{UserForm:bo,UsersTable:_i},setup(){const e=zn(),t=Ka(),l=E(!1),n=E(!1),o=E(!1),i=E(null),a=E(null),s=E(!1),d=E(!1),b=E(null),u=()=>{l.value=!1,o.value=!1,i.value=null,a.value=null,s.value=!1},h=x=>{i.value={...x},s.value=!0,l.value=!0},C=x=>{i.value=x,a.value=null,n.value=!0},c=x=>{a.value=x,i.value=null,n.value=!0},y=async()=>{try{if(a.value){for(const x of a.value)await t.deleteUser(x.phone_number);e.notify({type:"positive",message:`${a.value.length} clients deleted successfully`}),b.value&&(b.value.selected=[])}else await t.deleteUser(i.value.phone_number),e.notify({type:"positive",message:"Client deleted successfully"});n.value=!1,i.value=null,a.value=null}catch(x){console.error("Delete error:",x),e.notify({type:"negative",message:`Failed to delete client(s): ${x.message}`})}},V=x=>{i.value=x,o.value=!0},p=async()=>{d.value=!0;try{const x=await Ye.post("/make_call",{phone_number:i.value.phone_number});await t.recordCall(i.value.phone_number,x.data),e.notify({type:"positive",message:`Call to ${i.value.name||i.value.phone_number} completed successfully`}),o.value=!1}catch(x){console.error("Call error:",x),e.notify({type:"negative",message:`Failed to make call: ${x.message}`})}finally{d.value=!1,i.value=null}},H=f(()=>({persistent:!0,seamless:!1,"no-click-outside":!0})),U=async x=>{try{s.value?(await t.updateUser(i.value.phone_number,x),e.notify({type:"positive",message:"Client updated successfully"})):(await t.createUser(x),e.notify({type:"positive",message:"Client added successfully"})),u()}catch(B){console.error("Submit error:",B),e.notify({type:"negative",message:`${s.value?"Failed to update":"Failed to add"} client: ${B.message}`})}};return Oe(()=>{t.fetchUsers()}),{users:f(()=>t.users),loading:f(()=>t.loading),showAddDialog:l,showDeleteDialog:n,showCallDialog:o,selectedUser:i,bulkDeleteUsers:a,editMode:s,calling:d,callDialogProps:H,closeDialog:u,editUser:h,confirmDelete:C,confirmBulkDelete:c,deleteUser:y,makeCall:V,confirmCall:p,onSubmit:U,usersTableRef:b}}},Bi={class:"row items-center justify-between q-mb-md"},Pi={class:"text-h6"},Mi={class:"q-ml-sm"},Ri={class:"q-ml-sm"};function Fi(e,t,l,n,o,i){const a=zl("users-table"),s=zl("user-form");return xt(),xn(Qa,{padding:""},{default:ue(()=>[_e("div",Bi,[t[4]||(t[4]=_e("h1",{class:"text-h4 q-my-none"},"Clients",-1)),Q(ve,{color:"primary",icon:"add",label:"Add Client",onClick:t[0]||(t[0]=d=>n.showAddDialog=!0)})]),Q(a,{users:n.users,loading:n.loading,onEdit:n.editUser,onDelete:n.confirmDelete,onCall:n.makeCall,onBulkDelete:n.confirmBulkDelete,ref:"usersTableRef"},null,8,["users","loading","onEdit","onDelete","onCall","onBulkDelete"]),Q(qt,{modelValue:n.showAddDialog,"onUpdate:modelValue":t[1]||(t[1]=d=>n.showAddDialog=d)},{default:ue(()=>[Q(jt,{style:{"min-width":"350px"}},{default:ue(()=>[Q(vt,null,{default:ue(()=>[_e("div",Pi,mt(n.editMode?"Edit Client":"Add Client"),1)]),_:1}),Q(vt,null,{default:ue(()=>[Q(s,{"initial-data":n.selectedUser,"edit-mode":n.editMode,onSubmit:n.onSubmit,onCancel:n.closeDialog},null,8,["initial-data","edit-mode","onSubmit","onCancel"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),Q(qt,{modelValue:n.showDeleteDialog,"onUpdate:modelValue":t[2]||(t[2]=d=>n.showDeleteDialog=d)},{default:ue(()=>[Q(jt,null,{default:ue(()=>[Q(vt,{class:"row items-center"},{default:ue(()=>[Q(wl,{icon:"warning",color:"negative","text-color":"white"}),_e("span",Mi,mt(n.bulkDeleteUsers?`Are you sure you want to delete ${n.bulkDeleteUsers.length} selected clients?`:"Are you sure you want to delete this client?"),1)]),_:1}),Q(pl,{align:"right"},{default:ue(()=>[Hl(Q(ve,{flat:"",label:"Cancel",color:"primary"},null,512),[[Kl]]),Q(ve,{flat:"",label:"Delete",color:"negative",onClick:n.deleteUser},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),Q(qt,_a({modelValue:n.showCallDialog,"onUpdate:modelValue":t[3]||(t[3]=d=>n.showCallDialog=d)},n.callDialogProps,{class:"call-dialog"}),{default:ue(()=>[Q(jt,{class:Va({"calling-card":n.calling}),style:{"min-width":"350px"}},{default:ue(()=>[Q(vt,{class:"row items-center"},{default:ue(()=>[Q(wl,{icon:"phone",color:"primary","text-color":"white"}),_e("span",Ri,"Confirm call to "+mt(n.selectedUser?.name||n.selectedUser?.phone_number)+"?",1)]),_:1}),Q(pl,{align:"right"},{default:ue(()=>[Hl(Q(ve,{flat:"",label:"Cancel",color:"primary",disable:n.calling},null,8,["disable"]),[[Kl]]),Q(ve,{loading:n.calling,flat:"",label:"Call",color:"positive",onClick:n.confirmCall,disable:n.calling},null,8,["loading","onClick","disable"])]),_:1})]),_:1},8,["class"])]),_:1},16,["modelValue"])]),_:1})}const Li=Al(Vi,[["render",Fi],["__scopeId","data-v-043c4952"]]);export{Li as default};
